<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"Framework_KeyBoardManager.js.html":{"id":"Framework_KeyBoardManager.js.html","title":"Source: Framework/KeyBoardManager.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/KeyBoardManager.js 'use strict'; var Framework = (function (Framework) { Framework.KeyBoardManager = (function () { var _timeountID = 0, _keyStatus = new Array(255), _clearHistoryTime = 1000, _keydownList = {}, _keypressHistory = [], _keyCodeToChar = { undefined: '-', 8: 'Backspace', 9: 'Tab', 13: 'Enter', 16: 'shiftKey', 17: 'ctrlKey', 18: 'altKey', 19: 'Pause/Break', 20: 'Caps Lock', 27: 'Esc', 32: 'Space', 33: 'Page Up', 34: 'Page Down', 35: 'End', 36: 'Home', 37: 'Left', 38: 'Up', 39: 'Right', 40: 'Down', 45: 'Insert', 46: 'Delete', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5', 54: '6', 55: '7', 56: '8', 57: '9', 65: 'A', 66: 'B', 67: 'C', 68: 'D', 69: 'E', 70: 'F', 71: 'G', 72: 'H', 73: 'I', 74: 'J', 75: 'K', 76: 'L', 77: 'M', 78: 'N', 79: 'O', 80: 'P', 81: 'Q', 82: 'R', 83: 'S', 84: 'T', 85: 'U', 86: 'V', 87: 'W', 88: 'X', 89: 'Y', 90: 'Z', 91: 'Windows', 93: 'Right Click', 96: 'Numpad 0', 97: 'Numpad 1', 98: 'Numpad 2', 99: 'Numpad 3', 100: 'Numpad 4', 101: 'Numpad 5', 102: 'Numpad 6', 103: 'Numpad 7', 104: 'Numpad 8', 105: 'Numpad 9', 106: 'Numpad *', 107: 'Numpad +', 109: 'Numpad -', 110: 'Numpad .', 111: 'Numpad /', 112: 'F1', 113: 'F2', 114: 'F3', 115: 'F4', 116: 'F5', 117: 'F6', 118: 'F7', 119: 'F8', 120: 'F9', 121: 'F10', 122: 'F11', 123: 'F12', 144: 'Num Lock', 145: 'Scroll Lock', 182: 'My Computer', 183: 'My Calculator', 186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`', 219: '[', 220: '\\\\', 221: ']', 222: '\\'' }, _stringToKeyCode = {}, KeyBoardManagerInstance = {}, userKeydownEvent = function () { }, userKeyupEvent = function () { }, userKeypressEvent = function () { }, _subject; for (let keyCode in _keyCodeToChar) _stringToKeyCode[_keyCodeToChar[keyCode]] = intval(keyCode); const KEY_WHITE_LIST = [ _stringToKeyCode['F5'], _stringToKeyCode['F11'], _stringToKeyCode['F12'], ]; /** * @return {boolean} */ const IN_WHITE_LIST = (e)=&gt;{ return KEY_WHITE_LIST.indexOf(e.keyCode)!==-1; }; /** * @return {boolean} */ const FROM_INPUTABLE_ELEMENT = (e)=&gt;{ if(!e.target) return false; return [&quot;INPUT&quot;, &quot;TEXTAREA&quot;].indexOf(e.target.tagName)!==-1; }; var keydownEvent = function (e) { if(FROM_INPUTABLE_ELEMENT(e)) return; if (!IN_WHITE_LIST(e)) { e.preventDefault(); } _keyStatus[e.keyCode] = true; var keyCode = _keyCodeToChar[e.which || e.keyCode], i; if (!Framework.Util.isUndefined(_keydownList[keyCode])) { var ele = _keydownList[keyCode]; ele.lastTimeDiff = e.timeStamp - ele.firstTimeStamp; } else { _keydownList[keyCode] = { key: keyCode, firstTimeStamp: e.timeStamp, ctrlKey: e.ctrlKey, shiftKey: e.shiftKey, altKey: e.altKey, lastTimeDiff: 0 }; userKeydownEvent.call(_subject, _keydownList[keyCode], _keydownList, e); } }; var keyPressEvent = function (e) { if(FROM_INPUTABLE_ELEMENT(e)) return; if (!IN_WHITE_LIST(e)) { e.preventDefault(); } _keyStatus[e.keyCode] = true; var keyCode = _keyCodeToChar[e.which || e.keyCode], i; userKeypressEvent.call(_subject, e); }; var keyupEvent = function (e) { if(FROM_INPUTABLE_ELEMENT(e)) return; if (!IN_WHITE_LIST(e)) { e.preventDefault(); } _keyStatus[e.keyCode] = false; var keyCode = _keyCodeToChar[e.which || e.keyCode], temp = {}; _keypressHistory.push(e); _keydownList[keyCode] = null; delete _keydownList[keyCode]; for (temp in _keydownList) { if (!Framework.Util.isUndefined(_keydownList[temp][keyCode])) { _keydownList[temp][keyCode] = false; } } userKeyupEvent.call(_subject, _keypressHistory[_keypressHistory.length - 1], _keypressHistory, e); }; var clearAllKeyDownLog = function () { for (let i = 0; i &lt; _keyStatus.length; i++) { if (_keyStatus[i]) { keyupEvent({ type: &quot;keyup&quot;, keyCode: i, preventDefault: () =&gt; { }, }); } } }; var setKeydownEvent = function (userFunction) { userKeydownEvent = userFunction; }; var setKeyupEvent = function (userFunction) { userKeyupEvent = userFunction; }; var setKeypressEvent = function (userFunction) { userKeypressEvent = userFunction; }; /** * 設定需要多久清除一次曾被按壓過key的紀錄, 預設值為一秒 * 該設定與 {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}} 有關 * @static * @param {number} userClearHistoryTime 需要多久清除一次曾被按壓過key的紀錄 */ var setClearHistoryTime = function (userClearHistoryTime) { _clearHistoryTime = userClearHistoryTime; }; var asciiToChar = function (ascii, str) { return String.fromCharCode(ascii) === str.toUpperCase(); }; var clearHistory = function () { _keypressHistory.length = 0; //empty array clearTimeout(_timeountID); _timeountID = setTimeout(clearHistory, _clearHistoryTime); }; var setSubject = function (subject) { _subject = subject; }; /** * * @param {String|Number} code * @returns {boolean|undefined} */ _keyStatus.isKeyDown = function (code) { if (typeof code === &quot;string&quot;) { code = _stringToKeyCode[code]; } if (code &gt; 255 || code &lt; 0) return false; return _keyStatus[code]; }; /** * 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 * 而會在Level進行設定, 請參照 * {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, * * @namespace Framework */ class KeyBoardManager { /** Default constructor. */ constructor() { window.addEventListener('keypress', keyPressEvent, false); window.addEventListener('keydown', keydownEvent, false); window.addEventListener('keyup', keyupEvent, false); window.addEventListener('blur', clearAllKeyDownLog, false); for (let i = 0; i &lt; _keyStatus.length; i++) _keyStatus[i] = false; clearHistory(); } /** * Sets the subject. * * @return . */ setSubject() { return setSubject.apply(this, arguments); } /** * Sets clear history time. * * @return . */ setClearHistoryTime() { return setClearHistoryTime.apply(this, arguments); } /** * Sets keydown event. * * @return . */ setKeydownEvent() { return setKeydownEvent.apply(this, arguments); } /** * Sets keyup event. * * @return . */ setKeyupEvent() { return setKeyupEvent.apply(this, arguments); } /** * Sets keypress event. * * @return . */ setKeypressEvent() { return setKeypressEvent.apply(this, arguments); } /** * Keydown list. * * @return . */ keydownList() { return _keydownList.apply(this, arguments); } mappingTable() { return _keyCodeToChar; } getKeyCodeByString(keyCode){ return _stringToKeyCode[keyCode]; } /** * Keypress history. * * @return . */ keypressHistory() { return _keypressHistory; } /** * Sets the subject. * * @return . */ setSubject() { return setSubject.apply(this, arguments); } /** * @param {Number|string} code */ isKeyDown(code) { return _keyStatus.isKeyDown(code); } get status() { return _keyStatus; } get currentDownKeys() { let map = []; _keyStatus.forEach((v, i, arr) =&gt; { if (v) map.push(i); }); return map; } // /** // * Sets clear history time. // * // * @return . // */ // static setClearHistoryTime() { // return setClearHistoryTime.apply(KeyBoardManagerInstance, arguments); // } // // /** // * Sets keydown event. // * // * @return . // */ // static setKeydownEvent() { // return setKeydownEvent.apply(KeyBoardManagerInstance, arguments); // } // // /** // * Sets keyup event. // * // * @return . // */ // static setKeyupEvent() { // return setKeyupEvent.apply(KeyBoardManagerInstance, arguments); // } // // /** // * Keydown list. // * // * @return . // */ // static keydownList() { // return _keydownList.apply(KeyBoardManagerInstance, arguments); // } // // /* 為了要像洛克人 按壓一段時間後可以集氣 */ // // /** // * Mapping table. // * // * @return . // */ // static mappingTable() { // return _keyCodeToChar.apply(KeyBoardManagerInstance, arguments); // } // // /** // * Keypress history. // * // * @return . // */ // static keypressHistory() { // return _keypressHistory.apply(KeyBoardManagerInstance, arguments); // } } ; Framework.KeyBoardManager = KeyBoardManagerInstance = new KeyBoardManager(); return KeyBoardManagerInstance; })(); return Framework; })(Framework || {}); × Search results Close "},"Framework_Audio.js.html":{"id":"Framework_Audio.js.html","title":"Source: Framework/Audio.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Audio.js 'use strict'; var Framework = (function (Framework) { /** * 提供音訊處理的功能，包含左右聲道的控制 * @type {ResourceManager} */ const ResourceManager = Framework.ResourceManager; const AudioCtx = new window.AudioContext(); let AudioInstanceArray = []; let AudioDecodedBuffer = new Map(); let AudioInstance = new Map(); // let AudioCtxArray = []; // (function () { // let continueAdd = true; // while (continueAdd) { // try { // // AudioCtxArray.push(new window.AudioContext()); // } catch (e) { // continueAdd = false; // } // } // })(); /** * Get Random audio context * @returns {AudioContext} * @constructor */ const GetRandomAudioCtx = () =&gt; { return AudioCtx; //return AudioCtxArray[(Math.random() * AudioCtxArray.length) | 0] }; /** * @class {Framework.Audio} */ let Audio; /** * * @class {Framework.Audio} */ Framework.Audio = Audio = class Audio { /** * Create an audio class * @param {Object|Map} playlist */ constructor(playlist) { this._playList = new Map(); this.audioCtx = GetRandomAudioCtx(); this.gainNodeLeft = this.audioCtx.createGain(); this.gainNodeRight = this.audioCtx.createGain(); this._promisies = []; this._leftVolume = 1; this._rightVolume = 1; this._sources = new Map(); this._allDone = false; if (playlist) { this.addSongs(playlist); } AudioInstanceArray.push(this); } /** * Set volume of left channel and right channel * @param {Number} v */ set volume(v) { this.leftVolume = this.rightVolume = v; } /** * get volume of left volume * @returns {Number} */ get leftVolume() { return this._leftVolume; } /** * get volume of right volume * @returns {Number} */ get rightVolume() { return this._rightVolume; } /** * set volume of right volume * @param {Number} v */ set leftVolume(v) { if (v &lt; 0) throw new RangeError(`Volume out of range, 0~1 expected, ${v} received.`); this._leftVolume = v; if (this.gainNodeLeft) { this.gainNodeLeft.gain.value = this._leftVolume; } } /** * set volume of right volume * @param {Number} v */ set rightVolume(v) { if (v &lt; 0) throw new RangeError(`Volume out of range, 0~1 expected, ${v} received.`); this._rightVolume = v; if (this.gainNodeRight) { this.gainNodeRight.gain.value = this._rightVolume; } } /** * Set balance of this audio * @param {Number} weight * @property balance */ set balance(weight) { if (weight &gt; 1 || weight &lt; -1) throw new RangeError(`balance out of range, -1~1 expected, ${weight} received.`); if (weight &lt;= 0) { this.leftVolume = 1; this.rightVolume = weight + 1; } else { this.rightVolume = 1; this.leftVolume = 1 - weight; } } /** * Add Sound to play list * * @param {Object} list * @returns {*} */ addSongs(list) { if (!list) return; if (list instanceof Map) { list.forEach((v, k) =&gt; { let p = this._loadSoundAndReturnBuffer(v); this._playList.set(k, v); this._promisies.push(p); }); } else { for (let soundName in list) { if (list.hasOwnProperty(soundName)) { let p = this._loadSoundAndReturnBuffer(list[soundName]); this._playList.set(soundName, list[soundName]); this._promisies.push(p); } } } return this.done(); } /** * Get source from audio content * * @param {String} soundPath * @returns {AudioBufferSourceNode} */ getSource(soundPath) { let existSource = this._sources.get(soundPath); if (existSource) { existSource.disconnect(); } existSource = this.audioCtx.createBufferSource(); this._sources.set(soundPath, existSource); return existSource; } /** * Play specified sound * * @param {String|Object} soundName * @param {Object} [opts] options * @returns {*} */ play(soundName, opts) { if (typeof soundName === 'object') { console.warn('Play Audio by object is deprecated, please set sound name'); return this.play(soundName['name'], soundName); } opts = opts || {}; let options = { loop: false, stopPrevious: false, volume: undefined, leftVolume: undefined, rightVolume: undefined, }; //Override exist config for (let k in options) { if (opts[k] !== undefined) { options[k] = opts[k]; } } if (isFinite(options.volume)) { this.volume = options.volume; } if (isFinite(options.leftVolume)) { this.leftVolume = options.leftVolume; } if (isFinite(options.rightVolume)) { this.rightVolume = options.rightVolume; } if (options.stopPrevious) { this.stop(soundName); } const soundPath = this._playList.get(soundName); if (soundPath === undefined) throw Error(`Cannot found sound with name: ${soundName}`); this.gainNodeLeft = this.gainNodeRight = null; return this._loadSoundAndReturnBuffer(soundPath) .then(buf =&gt; { if(typeof buf === 'string') { this._playAsAudio(buf, options); return; } const source = this.getSource(soundPath); const splitter = this.audioCtx.createChannelSplitter(2); const merger = this.audioCtx.createChannelMerger(2); const gainNodeLeft = this.audioCtx.createGain(); const gainNodeRight = this.audioCtx.createGain(); this.gainNodeLeft = gainNodeLeft; this.gainNodeRight = gainNodeRight; this.leftVolume = this.leftVolume; this.rightVolume = this.rightVolume; // const gainNodeLeft = this.gainNodeLeft; // const gainNodeRight = this.gainNodeRight; source.buffer = buf; source.connect(splitter); splitter.connect(gainNodeLeft, 0); splitter.connect(gainNodeRight, 0); gainNodeLeft.connect(merger, 0, 0); gainNodeRight.connect(merger, 0, 1); merger.connect(this.audioCtx.destination); source.loop = options.loop; source.start(); }); } /** * Fallback play audio when failed to decode audio source * * @param {String} path * @param {Object} opts * @private */ _playAsAudio(path, opts){ let audio = AudioInstance.get(path) || new window.Audio(); audio.src = path; audio.pause(); audio.volume = (this.leftVolume + this.rightVolume) / 2; audio.loop = opts.loop; audio.currentTime = 0; audio.play(); AudioInstance.set(path, audio); } /** * Stop sound * @param [soundPath] sound path that you want to stop, stop all if this parameter is omit. */ stop(soundPath) { const StopSource = (s) =&gt; { try { s.disconnect(this.audioCtx.destination); s.stop(); } catch (e) { } }; if (!soundPath) { this._sources.forEach(s =&gt; { StopSource(s); }); } else { let source = this._sources.get(soundPath); if (source) { StopSource(s); } } } /** * get a copy of playlist * @returns {Map} */ get playlist() { return new Map(this._playList); } /** * * @param soundPath * @returns {Promise.&lt;AudioBufferSourceNode&gt;} * @private */ _loadSoundAndReturnBuffer(soundPath) { let ob = AudioDecodedBuffer.get(soundPath); if (ob) return new Promise((a, b) =&gt; a(ob)); return ResourceManager .loadResourceAsArrayBuffer(soundPath) .then(originalBuffer =&gt; { return this.audioCtx.decodeAudioData(originalBuffer); }) .then(decodedBuffer =&gt; { AudioDecodedBuffer.set(soundPath, decodedBuffer); return decodedBuffer; }).catch(err =&gt; { console.error(soundPath, err); console.log('Fallback to audio'); AudioDecodedBuffer.set(soundPath, soundPath); }); } /** * Promise to check all sound loaded. * @returns {Promise.&lt;*&gt;} */ done() { return Promise.all(this._promisies); } }; Audio.prototype.stopAll = function () { AudioInstanceArray.forEach(ai =&gt; ai.stop()); }; return Framework; })(Framework || {}); × Search results Close "},"Framework_jquery-3.1.1.js.html":{"id":"Framework_jquery-3.1.1.js.html","title":"Source: Framework/jquery-3.1.1.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/jquery-3.1.1.js /*! * jQuery JavaScript Library v3.1.1 * https://jquery.com/ * * Includes Sizzle.js * https://sizzlejs.com/ * * Copyright jQuery Foundation and other contributors * Released under the MIT license * https://jquery.org/license * * Date: 2016-09-22T22:30Z */ ( function( global, factory ) { &quot;use strict&quot;; if ( typeof module === &quot;object&quot; &amp;&amp; typeof module.exports === &quot;object&quot; ) { // For CommonJS and CommonJS-like environments where a proper `window` // is present, execute the factory and get jQuery. // For environments that do not have a `window` with a `document` // (such as Node.js), expose a factory as module.exports. // This accentuates the need for the creation of a real `window`. // e.g. var jQuery = require(&quot;jquery&quot;)(window); // See ticket #14549 for more info. module.exports = global.document ? factory( global, true ) : function( w ) { if ( !w.document ) { throw new Error( &quot;jQuery requires a window with a document&quot; ); } return factory( w ); }; } else { factory( global ); } // Pass this if window is not defined yet } )( typeof window !== &quot;undefined&quot; ? window : this, function( window, noGlobal ) { // Edge &lt;= 12 - 13+, Firefox &lt;=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1 // throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode // arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common // enough that all such attempts are guarded in a try block. &quot;use strict&quot;; var arr = []; var document = window.document; var getProto = Object.getPrototypeOf; var slice = arr.slice; var concat = arr.concat; var push = arr.push; var indexOf = arr.indexOf; var class2type = {}; var toString = class2type.toString; var hasOwn = class2type.hasOwnProperty; var fnToString = hasOwn.toString; var ObjectFunctionString = fnToString.call( Object ); var support = {}; function DOMEval( code, doc ) { doc = doc || document; var script = doc.createElement( &quot;script&quot; ); script.text = code; doc.head.appendChild( script ).parentNode.removeChild( script ); } /* global Symbol */ // Defining this global in .eslintrc.json would create a danger of using the global // unguarded in another place, it seems safer to define global only for this module var version = &quot;3.1.1&quot;, // Define a local copy of jQuery jQuery = function( selector, context ) { // The jQuery object is actually just the init constructor 'enhanced' // Need init if jQuery is called (just allow error to be thrown if not included) return new jQuery.fn.init( selector, context ); }, // Support: Android &lt;=4.0 only // Make sure we trim BOM and NBSP rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, // Matches dashed string for camelizing rmsPrefix = /^-ms-/, rdashAlpha = /-([a-z])/g, // Used by jQuery.camelCase as callback to replace() fcamelCase = function( all, letter ) { return letter.toUpperCase(); }; jQuery.fn = jQuery.prototype = { // The current version of jQuery being used jquery: version, constructor: jQuery, // The default length of a jQuery object is 0 length: 0, toArray: function() { return slice.call( this ); }, // Get the Nth element in the matched element set OR // Get the whole matched element set as a clean array get: function( num ) { // Return all the elements in a clean array if ( num == null ) { return slice.call( this ); } // Return just the one element from the set return num &lt; 0 ? this[ num + this.length ] : this[ num ]; }, // Take an array of elements and push it onto the stack // (returning the new matched element set) pushStack: function( elems ) { // Build a new jQuery matched element set var ret = jQuery.merge( this.constructor(), elems ); // Add the old object onto the stack (as a reference) ret.prevObject = this; // Return the newly-formed element set return ret; }, // Execute a callback for every element in the matched set. each: function( callback ) { return jQuery.each( this, callback ); }, map: function( callback ) { return this.pushStack( jQuery.map( this, function( elem, i ) { return callback.call( elem, i, elem ); } ) ); }, slice: function() { return this.pushStack( slice.apply( this, arguments ) ); }, first: function() { return this.eq( 0 ); }, last: function() { return this.eq( -1 ); }, eq: function( i ) { var len = this.length, j = +i + ( i &lt; 0 ? len : 0 ); return this.pushStack( j &gt;= 0 &amp;&amp; j &lt; len ? [ this[ j ] ] : [] ); }, end: function() { return this.prevObject || this.constructor(); }, // For internal use only. // Behaves like an Array's method, not like a jQuery method. push: push, sort: arr.sort, splice: arr.splice }; jQuery.extend = jQuery.fn.extend = function() { var options, name, src, copy, copyIsArray, clone, target = arguments[ 0 ] || {}, i = 1, length = arguments.length, deep = false; // Handle a deep copy situation if ( typeof target === &quot;boolean&quot; ) { deep = target; // Skip the boolean and the target target = arguments[ i ] || {}; i++; } // Handle case when target is a string or something (possible in deep copy) if ( typeof target !== &quot;object&quot; &amp;&amp; !jQuery.isFunction( target ) ) { target = {}; } // Extend jQuery itself if only one argument is passed if ( i === length ) { target = this; i--; } for ( ; i &lt; length; i++ ) { // Only deal with non-null/undefined values if ( ( options = arguments[ i ] ) != null ) { // Extend the base object for ( name in options ) { src = target[ name ]; copy = options[ name ]; // Prevent never-ending loop if ( target === copy ) { continue; } // Recurse if we're merging plain objects or arrays if ( deep &amp;&amp; copy &amp;&amp; ( jQuery.isPlainObject( copy ) || ( copyIsArray = jQuery.isArray( copy ) ) ) ) { if ( copyIsArray ) { copyIsArray = false; clone = src &amp;&amp; jQuery.isArray( src ) ? src : []; } else { clone = src &amp;&amp; jQuery.isPlainObject( src ) ? src : {}; } // Never move original objects, clone them target[ name ] = jQuery.extend( deep, clone, copy ); // Don't bring in undefined values } else if ( copy !== undefined ) { target[ name ] = copy; } } } } // Return the modified object return target; }; jQuery.extend( { // Unique for each copy of jQuery on the page expando: &quot;jQuery&quot; + ( version + Math.random() ).replace( /\\D/g, &quot;&quot; ), // Assume jQuery is ready without the ready module isReady: true, error: function( msg ) { throw new Error( msg ); }, noop: function() {}, isFunction: function( obj ) { return jQuery.type( obj ) === &quot;function&quot;; }, isArray: Array.isArray, isWindow: function( obj ) { return obj != null &amp;&amp; obj === obj.window; }, isNumeric: function( obj ) { // As of jQuery 3.0, isNumeric is limited to // strings and numbers (primitives or objects) // that can be coerced to finite numbers (gh-2662) var type = jQuery.type( obj ); return ( type === &quot;number&quot; || type === &quot;string&quot; ) &amp;&amp; // parseFloat NaNs numeric-cast false positives (&quot;&quot;) // ...but misinterprets leading-number strings, particularly hex literals (&quot;0x...&quot;) // subtraction forces infinities to NaN !isNaN( obj - parseFloat( obj ) ); }, isPlainObject: function( obj ) { var proto, Ctor; // Detect obvious negatives // Use toString instead of jQuery.type to catch host objects if ( !obj || toString.call( obj ) !== &quot;[object Object]&quot; ) { return false; } proto = getProto( obj ); // Objects with no prototype (e.g., `Object.create( null )`) are plain if ( !proto ) { return true; } // Objects with prototype are plain iff they were constructed by a global Object function Ctor = hasOwn.call( proto, &quot;constructor&quot; ) &amp;&amp; proto.constructor; return typeof Ctor === &quot;function&quot; &amp;&amp; fnToString.call( Ctor ) === ObjectFunctionString; }, isEmptyObject: function( obj ) { /* eslint-disable no-unused-vars */ // See https://github.com/eslint/eslint/issues/6125 var name; for ( name in obj ) { return false; } return true; }, type: function( obj ) { if ( obj == null ) { return obj + &quot;&quot;; } // Support: Android &lt;=2.3 only (functionish RegExp) return typeof obj === &quot;object&quot; || typeof obj === &quot;function&quot; ? class2type[ toString.call( obj ) ] || &quot;object&quot; : typeof obj; }, // Evaluates a script in a global context globalEval: function( code ) { DOMEval( code ); }, // Convert dashed to camelCase; used by the css and data modules // Support: IE &lt;=9 - 11, Edge 12 - 13 // Microsoft forgot to hump their vendor prefix (#9572) camelCase: function( string ) { return string.replace( rmsPrefix, &quot;ms-&quot; ).replace( rdashAlpha, fcamelCase ); }, nodeName: function( elem, name ) { return elem.nodeName &amp;&amp; elem.nodeName.toLowerCase() === name.toLowerCase(); }, each: function( obj, callback ) { var length, i = 0; if ( isArrayLike( obj ) ) { length = obj.length; for ( ; i &lt; length; i++ ) { if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) { break; } } } else { for ( i in obj ) { if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) { break; } } } return obj; }, // Support: Android &lt;=4.0 only trim: function( text ) { return text == null ? &quot;&quot; : ( text + &quot;&quot; ).replace( rtrim, &quot;&quot; ); }, // results is for internal usage only makeArray: function( arr, results ) { var ret = results || []; if ( arr != null ) { if ( isArrayLike( Object( arr ) ) ) { jQuery.merge( ret, typeof arr === &quot;string&quot; ? [ arr ] : arr ); } else { push.call( ret, arr ); } } return ret; }, inArray: function( elem, arr, i ) { return arr == null ? -1 : indexOf.call( arr, elem, i ); }, // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit merge: function( first, second ) { var len = +second.length, j = 0, i = first.length; for ( ; j &lt; len; j++ ) { first[ i++ ] = second[ j ]; } first.length = i; return first; }, grep: function( elems, callback, invert ) { var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert; // Go through the array, only saving the items // that pass the validator function for ( ; i &lt; length; i++ ) { callbackInverse = !callback( elems[ i ], i ); if ( callbackInverse !== callbackExpect ) { matches.push( elems[ i ] ); } } return matches; }, // arg is for internal usage only map: function( elems, callback, arg ) { var length, value, i = 0, ret = []; // Go through the array, translating each of the items to their new values if ( isArrayLike( elems ) ) { length = elems.length; for ( ; i &lt; length; i++ ) { value = callback( elems[ i ], i, arg ); if ( value != null ) { ret.push( value ); } } // Go through every key on the object, } else { for ( i in elems ) { value = callback( elems[ i ], i, arg ); if ( value != null ) { ret.push( value ); } } } // Flatten any nested arrays return concat.apply( [], ret ); }, // A global GUID counter for objects guid: 1, // Bind a function to a context, optionally partially applying any // arguments. proxy: function( fn, context ) { var tmp, args, proxy; if ( typeof context === &quot;string&quot; ) { tmp = fn[ context ]; context = fn; fn = tmp; } // Quick check to determine if target is callable, in the spec // this throws a TypeError, but we will just return undefined. if ( !jQuery.isFunction( fn ) ) { return undefined; } // Simulated bind args = slice.call( arguments, 2 ); proxy = function() { return fn.apply( context || this, args.concat( slice.call( arguments ) ) ); }; // Set the guid of unique handler to the same of original handler, so it can be removed proxy.guid = fn.guid = fn.guid || jQuery.guid++; return proxy; }, now: Date.now, // jQuery.support is not used in Core but other projects attach their // properties to it so it needs to exist. support: support } ); if ( typeof Symbol === &quot;function&quot; ) { jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ]; } // Populate the class2type map jQuery.each( &quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split( &quot; &quot; ), function( i, name ) { class2type[ &quot;[object &quot; + name + &quot;]&quot; ] = name.toLowerCase(); } ); function isArrayLike( obj ) { // Support: real iOS 8.2 only (not reproducible in simulator) // `in` check used to prevent JIT error (gh-2145) // hasOwn isn't used here due to false negatives // regarding Nodelist length in IE var length = !!obj &amp;&amp; &quot;length&quot; in obj &amp;&amp; obj.length, type = jQuery.type( obj ); if ( type === &quot;function&quot; || jQuery.isWindow( obj ) ) { return false; } return type === &quot;array&quot; || length === 0 || typeof length === &quot;number&quot; &amp;&amp; length &gt; 0 &amp;&amp; ( length - 1 ) in obj; } var Sizzle = /*! * Sizzle CSS Selector Engine v2.3.3 * https://sizzlejs.com/ * * Copyright jQuery Foundation and other contributors * Released under the MIT license * http://jquery.org/license * * Date: 2016-08-08 */ (function( window ) { var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, // Local document vars setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, // Instance-specific data expando = &quot;sizzle&quot; + 1 * new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function( a, b ) { if ( a === b ) { hasDuplicate = true; } return 0; }, // Instance methods hasOwn = ({}).hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, // Use a stripped-down indexOf as it's faster than native // https://jsperf.com/thor-indexof-vs-for/5 indexOf = function( list, elem ) { var i = 0, len = list.length; for ( ; i &lt; len; i++ ) { if ( list[i] === elem ) { return i; } } return -1; }, booleans = &quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;, // Regular expressions // http://www.w3.org/TR/css3-selectors/#whitespace whitespace = &quot;[\\\\x20\\\\t\\\\r\\\\n\\\\f]&quot;, // http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier identifier = &quot;(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+&quot;, // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors attributes = &quot;\\\\[&quot; + whitespace + &quot;*(&quot; + identifier + &quot;)(?:&quot; + whitespace + // Operator (capture 2) &quot;*([*^$|!~]?=)&quot; + whitespace + // &quot;Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]&quot; &quot;*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\&quot;((?:\\\\\\\\.|[^\\\\\\\\\\&quot;])*)\\&quot;|(&quot; + identifier + &quot;))|)&quot; + whitespace + &quot;*\\\\]&quot;, pseudos = &quot;:(&quot; + identifier + &quot;)(?:\\\\((&quot; + // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments: // 1. quoted (capture 3; capture 4 or capture 5) &quot;('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\&quot;((?:\\\\\\\\.|[^\\\\\\\\\\&quot;])*)\\&quot;)|&quot; + // 2. simple (capture 6) &quot;((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|&quot; + attributes + &quot;)*)|&quot; + // 3. anything else (capture 2) &quot;.*&quot; + &quot;)\\\\)|)&quot;, // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter rwhitespace = new RegExp( whitespace + &quot;+&quot;, &quot;g&quot; ), rtrim = new RegExp( &quot;^&quot; + whitespace + &quot;+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)&quot; + whitespace + &quot;+$&quot;, &quot;g&quot; ), rcomma = new RegExp( &quot;^&quot; + whitespace + &quot;*,&quot; + whitespace + &quot;*&quot; ), rcombinators = new RegExp( &quot;^&quot; + whitespace + &quot;*([&gt;+~]|&quot; + whitespace + &quot;)&quot; + whitespace + &quot;*&quot; ), rattributeQuotes = new RegExp( &quot;=&quot; + whitespace + &quot;*([^\\\\]'\\&quot;]*?)&quot; + whitespace + &quot;*\\\\]&quot;, &quot;g&quot; ), rpseudo = new RegExp( pseudos ), ridentifier = new RegExp( &quot;^&quot; + identifier + &quot;$&quot; ), matchExpr = { &quot;ID&quot;: new RegExp( &quot;^#(&quot; + identifier + &quot;)&quot; ), &quot;CLASS&quot;: new RegExp( &quot;^\\\\.(&quot; + identifier + &quot;)&quot; ), &quot;TAG&quot;: new RegExp( &quot;^(&quot; + identifier + &quot;|[*])&quot; ), &quot;ATTR&quot;: new RegExp( &quot;^&quot; + attributes ), &quot;PSEUDO&quot;: new RegExp( &quot;^&quot; + pseudos ), &quot;CHILD&quot;: new RegExp( &quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(&quot; + whitespace + &quot;*(even|odd|(([+-]|)(\\\\d*)n|)&quot; + whitespace + &quot;*(?:([+-]|)&quot; + whitespace + &quot;*(\\\\d+)|))&quot; + whitespace + &quot;*\\\\)|)&quot;, &quot;i&quot; ), &quot;bool&quot;: new RegExp( &quot;^(?:&quot; + booleans + &quot;)$&quot;, &quot;i&quot; ), // For use in libraries implementing .is() // We use this for POS matching in `select` &quot;needsContext&quot;: new RegExp( &quot;^&quot; + whitespace + &quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(&quot; + whitespace + &quot;*((?:-\\\\d)?\\\\d*)&quot; + whitespace + &quot;*\\\\)|)(?=[^-]|$)&quot;, &quot;i&quot; ) }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, // Easily-parseable/retrievable ID or TAG or CLASS selectors rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, // CSS escapes // http://www.w3.org/TR/CSS21/syndata.html#escaped-characters runescape = new RegExp( &quot;\\\\\\\\([\\\\da-f]{1,6}&quot; + whitespace + &quot;?|(&quot; + whitespace + &quot;)|.)&quot;, &quot;ig&quot; ), funescape = function( _, escaped, escapedWhitespace ) { var high = &quot;0x&quot; + escaped - 0x10000; // NaN means non-codepoint // Support: Firefox&lt;24 // Workaround erroneous numeric interpretation of +&quot;0x&quot; return high !== high || escapedWhitespace ? escaped : high &lt; 0 ? // BMP codepoint String.fromCharCode( high + 0x10000 ) : // Supplemental Plane codepoint (surrogate pair) String.fromCharCode( high &gt;&gt; 10 | 0xD800, high &amp; 0x3FF | 0xDC00 ); }, // CSS string/identifier serialization // https://drafts.csswg.org/cssom/#common-serializing-idioms rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g, fcssescape = function( ch, asCodePoint ) { if ( asCodePoint ) { // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER if ( ch === &quot;\\0&quot; ) { return &quot;\\uFFFD&quot;; } // Control characters and (dependent upon position) numbers get escaped as code points return ch.slice( 0, -1 ) + &quot;\\\\&quot; + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + &quot; &quot;; } // Other potentially-special ASCII characters get backslash-escaped return &quot;\\\\&quot; + ch; }, // Used for iframes // See setDocument() // Removing the function wrapper causes a &quot;Permission Denied&quot; // error in IE unloadHandler = function() { setDocument(); }, disabledAncestor = addCombinator( function( elem ) { return elem.disabled === true &amp;&amp; (&quot;form&quot; in elem || &quot;label&quot; in elem); }, { dir: &quot;parentNode&quot;, next: &quot;legend&quot; } ); // Optimize for push.apply( _, NodeList ) try { push.apply( (arr = slice.call( preferredDoc.childNodes )), preferredDoc.childNodes ); // Support: Android&lt;4.0 // Detect silently failing push.apply arr[ preferredDoc.childNodes.length ].nodeType; } catch ( e ) { push = { apply: arr.length ? // Leverage slice if possible function( target, els ) { push_native.apply( target, slice.call(els) ); } : // Support: IE&lt;9 // Otherwise append directly function( target, els ) { var j = target.length, i = 0; // Can't trust NodeList.length while ( (target[j++] = els[i++]) ) {} target.length = j - 1; } }; } function Sizzle( selector, context, results, seed ) { var m, i, elem, nid, match, groups, newSelector, newContext = context &amp;&amp; context.ownerDocument, // nodeType defaults to 9, since context defaults to document nodeType = context ? context.nodeType : 9; results = results || []; // Return early from calls with invalid selector or context if ( typeof selector !== &quot;string&quot; || !selector || nodeType !== 1 &amp;&amp; nodeType !== 9 &amp;&amp; nodeType !== 11 ) { return results; } // Try to shortcut find operations (as opposed to filters) in HTML documents if ( !seed ) { if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) { setDocument( context ); } context = context || document; if ( documentIsHTML ) { // If the selector is sufficiently simple, try using a &quot;get*By*&quot; DOM method // (excepting DocumentFragment context, where the methods don't exist) if ( nodeType !== 11 &amp;&amp; (match = rquickExpr.exec( selector )) ) { // ID selector if ( (m = match[1]) ) { // Document context if ( nodeType === 9 ) { if ( (elem = context.getElementById( m )) ) { // Support: IE, Opera, Webkit // TODO: identify versions // getElementById can match elements by name instead of ID if ( elem.id === m ) { results.push( elem ); return results; } } else { return results; } // Element context } else { // Support: IE, Opera, Webkit // TODO: identify versions // getElementById can match elements by name instead of ID if ( newContext &amp;&amp; (elem = newContext.getElementById( m )) &amp;&amp; contains( context, elem ) &amp;&amp; elem.id === m ) { results.push( elem ); return results; } } // Type selector } else if ( match[2] ) { push.apply( results, context.getElementsByTagName( selector ) ); return results; // Class selector } else if ( (m = match[3]) &amp;&amp; support.getElementsByClassName &amp;&amp; context.getElementsByClassName ) { push.apply( results, context.getElementsByClassName( m ) ); return results; } } // Take advantage of querySelectorAll if ( support.qsa &amp;&amp; !compilerCache[ selector + &quot; &quot; ] &amp;&amp; (!rbuggyQSA || !rbuggyQSA.test( selector )) ) { if ( nodeType !== 1 ) { newContext = context; newSelector = selector; // qSA looks outside Element context, which is not what we want // Thanks to Andrew Dupont for this workaround technique // Support: IE &lt;=8 // Exclude object elements } else if ( context.nodeName.toLowerCase() !== &quot;object&quot; ) { // Capture the context ID, setting it first if necessary if ( (nid = context.getAttribute( &quot;id&quot; )) ) { nid = nid.replace( rcssescape, fcssescape ); } else { context.setAttribute( &quot;id&quot;, (nid = expando) ); } // Prefix every selector in the list groups = tokenize( selector ); i = groups.length; while ( i-- ) { groups[i] = &quot;#&quot; + nid + &quot; &quot; + toSelector( groups[i] ); } newSelector = groups.join( &quot;,&quot; ); // Expand context for sibling selectors newContext = rsibling.test( selector ) &amp;&amp; testContext( context.parentNode ) || context; } if ( newSelector ) { try { push.apply( results, newContext.querySelectorAll( newSelector ) ); return results; } catch ( qsaError ) { } finally { if ( nid === expando ) { context.removeAttribute( &quot;id&quot; ); } } } } } } // All others return select( selector.replace( rtrim, &quot;$1&quot; ), context, results, seed ); } /** * Create key-value caches of limited size * @returns {function(string, object)} Returns the Object data after storing it on itself with * property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength) * deleting the oldest entry */ function createCache() { var keys = []; function cache( key, value ) { // Use (key + &quot; &quot;) to avoid collision with native prototype properties (see Issue #157) if ( keys.push( key + &quot; &quot; ) &gt; Expr.cacheLength ) { // Only keep the most recent entries delete cache[ keys.shift() ]; } return (cache[ key + &quot; &quot; ] = value); } return cache; } /** * Mark a function for special use by Sizzle * @param {Function} fn The function to mark */ function markFunction( fn ) { fn[ expando ] = true; return fn; } /** * Support testing using an element * @param {Function} fn Passed the created element and returns a boolean result */ function assert( fn ) { var el = document.createElement(&quot;fieldset&quot;); try { return !!fn( el ); } catch (e) { return false; } finally { // Remove from its parent by default if ( el.parentNode ) { el.parentNode.removeChild( el ); } // release memory in IE el = null; } } /** * Adds the same handler for all of the specified attrs * @param {String} attrs Pipe-separated list of attributes * @param {Function} handler The method that will be applied */ function addHandle( attrs, handler ) { var arr = attrs.split(&quot;|&quot;), i = arr.length; while ( i-- ) { Expr.attrHandle[ arr[i] ] = handler; } } /** * Checks document order of two siblings * @param {Element} a * @param {Element} b * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b */ function siblingCheck( a, b ) { var cur = b &amp;&amp; a, diff = cur &amp;&amp; a.nodeType === 1 &amp;&amp; b.nodeType === 1 &amp;&amp; a.sourceIndex - b.sourceIndex; // Use IE sourceIndex if available on both nodes if ( diff ) { return diff; } // Check if b follows a if ( cur ) { while ( (cur = cur.nextSibling) ) { if ( cur === b ) { return -1; } } } return a ? 1 : -1; } /** * Returns a function to use in pseudos for input types * @param {String} type */ function createInputPseudo( type ) { return function( elem ) { var name = elem.nodeName.toLowerCase(); return name === &quot;input&quot; &amp;&amp; elem.type === type; }; } /** * Returns a function to use in pseudos for buttons * @param {String} type */ function createButtonPseudo( type ) { return function( elem ) { var name = elem.nodeName.toLowerCase(); return (name === &quot;input&quot; || name === &quot;button&quot;) &amp;&amp; elem.type === type; }; } /** * Returns a function to use in pseudos for :enabled/:disabled * @param {Boolean} disabled true for :disabled; false for :enabled */ function createDisabledPseudo( disabled ) { // Known :disabled false positives: fieldset[disabled] &gt; legend:nth-of-type(n+2) :can-disable return function( elem ) { // Only certain elements can match :enabled or :disabled // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled if ( &quot;form&quot; in elem ) { // Check for inherited disabledness on relevant non-disabled elements: // * listed form-associated elements in a disabled fieldset // https://html.spec.whatwg.org/multipage/forms.html#category-listed // https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled // * option elements in a disabled optgroup // https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled // All such elements have a &quot;form&quot; property. if ( elem.parentNode &amp;&amp; elem.disabled === false ) { // Option elements defer to a parent optgroup if present if ( &quot;label&quot; in elem ) { if ( &quot;label&quot; in elem.parentNode ) { return elem.parentNode.disabled === disabled; } else { return elem.disabled === disabled; } } // Support: IE 6 - 11 // Use the isDisabled shortcut property to check for disabled fieldset ancestors return elem.isDisabled === disabled || // Where there is no isDisabled, check manually /* jshint -W018 */ elem.isDisabled !== !disabled &amp;&amp; disabledAncestor( elem ) === disabled; } return elem.disabled === disabled; // Try to winnow out elements that can't be disabled before trusting the disabled property. // Some victims get caught in our net (label, legend, menu, track), but it shouldn't // even exist on them, let alone have a boolean value. } else if ( &quot;label&quot; in elem ) { return elem.disabled === disabled; } // Remaining elements are neither :enabled nor :disabled return false; }; } /** * Returns a function to use in pseudos for positionals * @param {Function} fn */ function createPositionalPseudo( fn ) { return markFunction(function( argument ) { argument = +argument; return markFunction(function( seed, matches ) { var j, matchIndexes = fn( [], seed.length, argument ), i = matchIndexes.length; // Match elements found at the specified indexes while ( i-- ) { if ( seed[ (j = matchIndexes[i]) ] ) { seed[j] = !(matches[j] = seed[j]); } } }); }); } /** * Checks a node for validity as a Sizzle context * @param {Element|Object=} context * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value */ function testContext( context ) { return context &amp;&amp; typeof context.getElementsByTagName !== &quot;undefined&quot; &amp;&amp; context; } // Expose support vars for convenience support = Sizzle.support = {}; /** * Detects XML nodes * @param {Element|Object} elem An element or a document * @returns {Boolean} True iff elem is a non-HTML XML node */ isXML = Sizzle.isXML = function( elem ) { // documentElement is verified for cases where it doesn't yet exist // (such as loading iframes in IE - #4833) var documentElement = elem &amp;&amp; (elem.ownerDocument || elem).documentElement; return documentElement ? documentElement.nodeName !== &quot;HTML&quot; : false; }; /** * Sets document-related variables once based on the current document * @param {Element|Object} [doc] An element or document object to use to set the document * @returns {Object} Returns the current document */ setDocument = Sizzle.setDocument = function( node ) { var hasCompare, subWindow, doc = node ? node.ownerDocument || node : preferredDoc; // Return early if doc is invalid or already selected if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) { return document; } // Update global variables document = doc; docElem = document.documentElement; documentIsHTML = !isXML( document ); // Support: IE 9-11, Edge // Accessing iframe documents after unload throws &quot;permission denied&quot; errors (jQuery #13936) if ( preferredDoc !== document &amp;&amp; (subWindow = document.defaultView) &amp;&amp; subWindow.top !== subWindow ) { // Support: IE 11, Edge if ( subWindow.addEventListener ) { subWindow.addEventListener( &quot;unload&quot;, unloadHandler, false ); // Support: IE 9 - 10 only } else if ( subWindow.attachEvent ) { subWindow.attachEvent( &quot;onunload&quot;, unloadHandler ); } } /* Attributes ---------------------------------------------------------------------- */ // Support: IE&lt;8 // Verify that getAttribute really returns attributes and not properties // (excepting IE8 booleans) support.attributes = assert(function( el ) { el.className = &quot;i&quot;; return !el.getAttribute(&quot;className&quot;); }); /* getElement(s)By* ---------------------------------------------------------------------- */ // Check if getElementsByTagName(&quot;*&quot;) returns only elements support.getElementsByTagName = assert(function( el ) { el.appendChild( document.createComment(&quot;&quot;) ); return !el.getElementsByTagName(&quot;*&quot;).length; }); // Support: IE&lt;9 support.getElementsByClassName = rnative.test( document.getElementsByClassName ); // Support: IE&lt;10 // Check if getElementById returns elements by name // The broken getElementById methods don't pick up programmatically-set names, // so use a roundabout getElementsByName test support.getById = assert(function( el ) { docElem.appendChild( el ).id = expando; return !document.getElementsByName || !document.getElementsByName( expando ).length; }); // ID filter and find if ( support.getById ) { Expr.filter[&quot;ID&quot;] = function( id ) { var attrId = id.replace( runescape, funescape ); return function( elem ) { return elem.getAttribute(&quot;id&quot;) === attrId; }; }; Expr.find[&quot;ID&quot;] = function( id, context ) { if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { var elem = context.getElementById( id ); return elem ? [ elem ] : []; } }; } else { Expr.filter[&quot;ID&quot;] = function( id ) { var attrId = id.replace( runescape, funescape ); return function( elem ) { var node = typeof elem.getAttributeNode !== &quot;undefined&quot; &amp;&amp; elem.getAttributeNode(&quot;id&quot;); return node &amp;&amp; node.value === attrId; }; }; // Support: IE 6 - 7 only // getElementById is not reliable as a find shortcut Expr.find[&quot;ID&quot;] = function( id, context ) { if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { var node, i, elems, elem = context.getElementById( id ); if ( elem ) { // Verify the id attribute node = elem.getAttributeNode(&quot;id&quot;); if ( node &amp;&amp; node.value === id ) { return [ elem ]; } // Fall back on getElementsByName elems = context.getElementsByName( id ); i = 0; while ( (elem = elems[i++]) ) { node = elem.getAttributeNode(&quot;id&quot;); if ( node &amp;&amp; node.value === id ) { return [ elem ]; } } } return []; } }; } // Tag Expr.find[&quot;TAG&quot;] = support.getElementsByTagName ? function( tag, context ) { if ( typeof context.getElementsByTagName !== &quot;undefined&quot; ) { return context.getElementsByTagName( tag ); // DocumentFragment nodes don't have gEBTN } else if ( support.qsa ) { return context.querySelectorAll( tag ); } } : function( tag, context ) { var elem, tmp = [], i = 0, // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too results = context.getElementsByTagName( tag ); // Filter out possible comments if ( tag === &quot;*&quot; ) { while ( (elem = results[i++]) ) { if ( elem.nodeType === 1 ) { tmp.push( elem ); } } return tmp; } return results; }; // Class Expr.find[&quot;CLASS&quot;] = support.getElementsByClassName &amp;&amp; function( className, context ) { if ( typeof context.getElementsByClassName !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { return context.getElementsByClassName( className ); } }; /* QSA/matchesSelector ---------------------------------------------------------------------- */ // QSA and matchesSelector support // matchesSelector(:active) reports false when true (IE9/Opera 11.5) rbuggyMatches = []; // qSa(:focus) reports false when true (Chrome 21) // We allow this because of a bug in IE8/9 that throws an error // whenever `document.activeElement` is accessed on an iframe // So, we allow :focus to pass through QSA all the time to avoid the IE error // See https://bugs.jquery.com/ticket/13378 rbuggyQSA = []; if ( (support.qsa = rnative.test( document.querySelectorAll )) ) { // Build QSA regex // Regex strategy adopted from Diego Perini assert(function( el ) { // Select is set to empty string on purpose // This is to test IE's treatment of not explicitly // setting a boolean content attribute, // since its presence should be enough // https://bugs.jquery.com/ticket/12359 docElem.appendChild( el ).innerHTML = &quot;&lt;a id='&quot; + expando + &quot;'&gt;&lt;/a&gt;&quot; + &quot;&lt;select id='&quot; + expando + &quot;-\\r\\\\' msallowcapture=''&gt;&quot; + &quot;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;; // Support: IE8, Opera 11-12.16 // Nothing should be selected when empty strings follow ^= or $= or *= // The test attribute must be unknown in Opera but &quot;safe&quot; for WinRT // https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section if ( el.querySelectorAll(&quot;[msallowcapture^='']&quot;).length ) { rbuggyQSA.push( &quot;[*^$]=&quot; + whitespace + &quot;*(?:''|\\&quot;\\&quot;)&quot; ); } // Support: IE8 // Boolean attributes and &quot;value&quot; are not treated correctly if ( !el.querySelectorAll(&quot;[selected]&quot;).length ) { rbuggyQSA.push( &quot;\\\\[&quot; + whitespace + &quot;*(?:value|&quot; + booleans + &quot;)&quot; ); } // Support: Chrome&lt;29, Android&lt;4.4, Safari&lt;7.0+, iOS&lt;7.0+, PhantomJS&lt;1.9.8+ if ( !el.querySelectorAll( &quot;[id~=&quot; + expando + &quot;-]&quot; ).length ) { rbuggyQSA.push(&quot;~=&quot;); } // Webkit/Opera - :checked should return selected option elements // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked // IE8 throws error here and will not see later tests if ( !el.querySelectorAll(&quot;:checked&quot;).length ) { rbuggyQSA.push(&quot;:checked&quot;); } // Support: Safari 8+, iOS 8+ // https://bugs.webkit.org/show_bug.cgi?id=136851 // In-page `selector#id sibling-combinator selector` fails if ( !el.querySelectorAll( &quot;a#&quot; + expando + &quot;+*&quot; ).length ) { rbuggyQSA.push(&quot;.#.+[+~]&quot;); } }); assert(function( el ) { el.innerHTML = &quot;&lt;a href='' disabled='disabled'&gt;&lt;/a&gt;&quot; + &quot;&lt;select disabled='disabled'&gt;&lt;option/&gt;&lt;/select&gt;&quot;; // Support: Windows 8 Native Apps // The type and name attributes are restricted during .innerHTML assignment var input = document.createElement(&quot;input&quot;); input.setAttribute( &quot;type&quot;, &quot;hidden&quot; ); el.appendChild( input ).setAttribute( &quot;name&quot;, &quot;D&quot; ); // Support: IE8 // Enforce case-sensitivity of name attribute if ( el.querySelectorAll(&quot;[name=d]&quot;).length ) { rbuggyQSA.push( &quot;name&quot; + whitespace + &quot;*[*^$|!~]?=&quot; ); } // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled) // IE8 throws error here and will not see later tests if ( el.querySelectorAll(&quot;:enabled&quot;).length !== 2 ) { rbuggyQSA.push( &quot;:enabled&quot;, &quot;:disabled&quot; ); } // Support: IE9-11+ // IE's :disabled selector does not pick up the children of disabled fieldsets docElem.appendChild( el ).disabled = true; if ( el.querySelectorAll(&quot;:disabled&quot;).length !== 2 ) { rbuggyQSA.push( &quot;:enabled&quot;, &quot;:disabled&quot; ); } // Opera 10-11 does not throw on post-comma invalid pseudos el.querySelectorAll(&quot;*,:x&quot;); rbuggyQSA.push(&quot;,.*:&quot;); }); } if ( (support.matchesSelector = rnative.test( (matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector) )) ) { assert(function( el ) { // Check to see if it's possible to do matchesSelector // on a disconnected node (IE 9) support.disconnectedMatch = matches.call( el, &quot;*&quot; ); // This should fail with an exception // Gecko does not error, returns false instead matches.call( el, &quot;[s!='']:x&quot; ); rbuggyMatches.push( &quot;!=&quot;, pseudos ); }); } rbuggyQSA = rbuggyQSA.length &amp;&amp; new RegExp( rbuggyQSA.join(&quot;|&quot;) ); rbuggyMatches = rbuggyMatches.length &amp;&amp; new RegExp( rbuggyMatches.join(&quot;|&quot;) ); /* Contains ---------------------------------------------------------------------- */ hasCompare = rnative.test( docElem.compareDocumentPosition ); // Element contains another // Purposefully self-exclusive // As in, an element does not contain itself contains = hasCompare || rnative.test( docElem.contains ) ? function( a, b ) { var adown = a.nodeType === 9 ? a.documentElement : a, bup = b &amp;&amp; b.parentNode; return a === bup || !!( bup &amp;&amp; bup.nodeType === 1 &amp;&amp; ( adown.contains ? adown.contains( bup ) : a.compareDocumentPosition &amp;&amp; a.compareDocumentPosition( bup ) &amp; 16 )); } : function( a, b ) { if ( b ) { while ( (b = b.parentNode) ) { if ( b === a ) { return true; } } } return false; }; /* Sorting ---------------------------------------------------------------------- */ // Document order sorting sortOrder = hasCompare ? function( a, b ) { // Flag for duplicate removal if ( a === b ) { hasDuplicate = true; return 0; } // Sort on method existence if only one input has compareDocumentPosition var compare = !a.compareDocumentPosition - !b.compareDocumentPosition; if ( compare ) { return compare; } // Calculate position if both inputs belong to the same document compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ? a.compareDocumentPosition( b ) : // Otherwise we know they are disconnected 1; // Disconnected nodes if ( compare &amp; 1 || (!support.sortDetached &amp;&amp; b.compareDocumentPosition( a ) === compare) ) { // Choose the first element that is related to our preferred document if ( a === document || a.ownerDocument === preferredDoc &amp;&amp; contains(preferredDoc, a) ) { return -1; } if ( b === document || b.ownerDocument === preferredDoc &amp;&amp; contains(preferredDoc, b) ) { return 1; } // Maintain original order return sortInput ? ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) : 0; } return compare &amp; 4 ? -1 : 1; } : function( a, b ) { // Exit early if the nodes are identical if ( a === b ) { hasDuplicate = true; return 0; } var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [ a ], bp = [ b ]; // Parentless nodes are either documents or disconnected if ( !aup || !bup ) { return a === document ? -1 : b === document ? 1 : aup ? -1 : bup ? 1 : sortInput ? ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) : 0; // If the nodes are siblings, we can do a quick check } else if ( aup === bup ) { return siblingCheck( a, b ); } // Otherwise we need full lists of their ancestors for comparison cur = a; while ( (cur = cur.parentNode) ) { ap.unshift( cur ); } cur = b; while ( (cur = cur.parentNode) ) { bp.unshift( cur ); } // Walk down the tree looking for a discrepancy while ( ap[i] === bp[i] ) { i++; } return i ? // Do a sibling check if the nodes have a common ancestor siblingCheck( ap[i], bp[i] ) : // Otherwise nodes in our document sort first ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0; }; return document; }; Sizzle.matches = function( expr, elements ) { return Sizzle( expr, null, null, elements ); }; Sizzle.matchesSelector = function( elem, expr ) { // Set document vars if needed if ( ( elem.ownerDocument || elem ) !== document ) { setDocument( elem ); } // Make sure that attribute selectors are quoted expr = expr.replace( rattributeQuotes, &quot;='$1']&quot; ); if ( support.matchesSelector &amp;&amp; documentIsHTML &amp;&amp; !compilerCache[ expr + &quot; &quot; ] &amp;&amp; ( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &amp;&amp; ( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) { try { var ret = matches.call( elem, expr ); // IE 9's matchesSelector returns false on disconnected nodes if ( ret || support.disconnectedMatch || // As well, disconnected nodes are said to be in a document // fragment in IE 9 elem.document &amp;&amp; elem.document.nodeType !== 11 ) { return ret; } } catch (e) {} } return Sizzle( expr, document, null, [ elem ] ).length &gt; 0; }; Sizzle.contains = function( context, elem ) { // Set document vars if needed if ( ( context.ownerDocument || context ) !== document ) { setDocument( context ); } return contains( context, elem ); }; Sizzle.attr = function( elem, name ) { // Set document vars if needed if ( ( elem.ownerDocument || elem ) !== document ) { setDocument( elem ); } var fn = Expr.attrHandle[ name.toLowerCase() ], // Don't get fooled by Object.prototype properties (jQuery #13807) val = fn &amp;&amp; hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ? fn( elem, name, !documentIsHTML ) : undefined; return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute( name ) : (val = elem.getAttributeNode(name)) &amp;&amp; val.specified ? val.value : null; }; Sizzle.escape = function( sel ) { return (sel + &quot;&quot;).replace( rcssescape, fcssescape ); }; Sizzle.error = function( msg ) { throw new Error( &quot;Syntax error, unrecognized expression: &quot; + msg ); }; /** * Document sorting and removing duplicates * @param {ArrayLike} results */ Sizzle.uniqueSort = function( results ) { var elem, duplicates = [], j = 0, i = 0; // Unless we *know* we can detect duplicates, assume their presence hasDuplicate = !support.detectDuplicates; sortInput = !support.sortStable &amp;&amp; results.slice( 0 ); results.sort( sortOrder ); if ( hasDuplicate ) { while ( (elem = results[i++]) ) { if ( elem === results[ i ] ) { j = duplicates.push( i ); } } while ( j-- ) { results.splice( duplicates[ j ], 1 ); } } // Clear input after sorting to release objects // See https://github.com/jquery/sizzle/pull/225 sortInput = null; return results; }; /** * Utility function for retrieving the text value of an array of DOM nodes * @param {Array|Element} elem */ getText = Sizzle.getText = function( elem ) { var node, ret = &quot;&quot;, i = 0, nodeType = elem.nodeType; if ( !nodeType ) { // If no nodeType, this is expected to be an array while ( (node = elem[i++]) ) { // Do not traverse comment nodes ret += getText( node ); } } else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) { // Use textContent for elements // innerText usage removed for consistency of new lines (jQuery #11153) if ( typeof elem.textContent === &quot;string&quot; ) { return elem.textContent; } else { // Traverse its children for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) { ret += getText( elem ); } } } else if ( nodeType === 3 || nodeType === 4 ) { return elem.nodeValue; } // Do not include comment or processing instruction nodes return ret; }; Expr = Sizzle.selectors = { // Can be adjusted by the user cacheLength: 50, createPseudo: markFunction, match: matchExpr, attrHandle: {}, find: {}, relative: { &quot;&gt;&quot;: { dir: &quot;parentNode&quot;, first: true }, &quot; &quot;: { dir: &quot;parentNode&quot; }, &quot;+&quot;: { dir: &quot;previousSibling&quot;, first: true }, &quot;~&quot;: { dir: &quot;previousSibling&quot; } }, preFilter: { &quot;ATTR&quot;: function( match ) { match[1] = match[1].replace( runescape, funescape ); // Move the given value to match[3] whether quoted or unquoted match[3] = ( match[3] || match[4] || match[5] || &quot;&quot; ).replace( runescape, funescape ); if ( match[2] === &quot;~=&quot; ) { match[3] = &quot; &quot; + match[3] + &quot; &quot;; } return match.slice( 0, 4 ); }, &quot;CHILD&quot;: function( match ) { /* matches from matchExpr[&quot;CHILD&quot;] 1 type (only|nth|...) 2 what (child|of-type) 3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...) 4 xn-component of xn+y argument ([+-]?\\d*n|) 5 sign of xn-component 6 x of xn-component 7 sign of y-component 8 y of y-component */ match[1] = match[1].toLowerCase(); if ( match[1].slice( 0, 3 ) === &quot;nth&quot; ) { // nth-* requires argument if ( !match[3] ) { Sizzle.error( match[0] ); } // numeric x and y parameters for Expr.filter.CHILD // remember that false/true cast respectively to 0/1 match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === &quot;even&quot; || match[3] === &quot;odd&quot; ) ); match[5] = +( ( match[7] + match[8] ) || match[3] === &quot;odd&quot; ); // other types prohibit arguments } else if ( match[3] ) { Sizzle.error( match[0] ); } return match; }, &quot;PSEUDO&quot;: function( match ) { var excess, unquoted = !match[6] &amp;&amp; match[2]; if ( matchExpr[&quot;CHILD&quot;].test( match[0] ) ) { return null; } // Accept quoted arguments as-is if ( match[3] ) { match[2] = match[4] || match[5] || &quot;&quot;; // Strip excess characters from unquoted arguments } else if ( unquoted &amp;&amp; rpseudo.test( unquoted ) &amp;&amp; // Get excess from tokenize (recursively) (excess = tokenize( unquoted, true )) &amp;&amp; // advance to the next closing parenthesis (excess = unquoted.indexOf( &quot;)&quot;, unquoted.length - excess ) - unquoted.length) ) { // excess is a negative index match[0] = match[0].slice( 0, excess ); match[2] = unquoted.slice( 0, excess ); } // Return only captures needed by the pseudo filter method (type and argument) return match.slice( 0, 3 ); } }, filter: { &quot;TAG&quot;: function( nodeNameSelector ) { var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase(); return nodeNameSelector === &quot;*&quot; ? function() { return true; } : function( elem ) { return elem.nodeName &amp;&amp; elem.nodeName.toLowerCase() === nodeName; }; }, &quot;CLASS&quot;: function( className ) { var pattern = classCache[ className + &quot; &quot; ]; return pattern || (pattern = new RegExp( &quot;(^|&quot; + whitespace + &quot;)&quot; + className + &quot;(&quot; + whitespace + &quot;|$)&quot; )) &amp;&amp; classCache( className, function( elem ) { return pattern.test( typeof elem.className === &quot;string&quot; &amp;&amp; elem.className || typeof elem.getAttribute !== &quot;undefined&quot; &amp;&amp; elem.getAttribute(&quot;class&quot;) || &quot;&quot; ); }); }, &quot;ATTR&quot;: function( name, operator, check ) { return function( elem ) { var result = Sizzle.attr( elem, name ); if ( result == null ) { return operator === &quot;!=&quot;; } if ( !operator ) { return true; } result += &quot;&quot;; return operator === &quot;=&quot; ? result === check : operator === &quot;!=&quot; ? result !== check : operator === &quot;^=&quot; ? check &amp;&amp; result.indexOf( check ) === 0 : operator === &quot;*=&quot; ? check &amp;&amp; result.indexOf( check ) &gt; -1 : operator === &quot;$=&quot; ? check &amp;&amp; result.slice( -check.length ) === check : operator === &quot;~=&quot; ? ( &quot; &quot; + result.replace( rwhitespace, &quot; &quot; ) + &quot; &quot; ).indexOf( check ) &gt; -1 : operator === &quot;|=&quot; ? result === check || result.slice( 0, check.length + 1 ) === check + &quot;-&quot; : false; }; }, &quot;CHILD&quot;: function( type, what, argument, first, last ) { var simple = type.slice( 0, 3 ) !== &quot;nth&quot;, forward = type.slice( -4 ) !== &quot;last&quot;, ofType = what === &quot;of-type&quot;; return first === 1 &amp;&amp; last === 0 ? // Shortcut for :nth-*(n) function( elem ) { return !!elem.parentNode; } : function( elem, context, xml ) { var cache, uniqueCache, outerCache, node, nodeIndex, start, dir = simple !== forward ? &quot;nextSibling&quot; : &quot;previousSibling&quot;, parent = elem.parentNode, name = ofType &amp;&amp; elem.nodeName.toLowerCase(), useCache = !xml &amp;&amp; !ofType, diff = false; if ( parent ) { // :(first|last|only)-(child|of-type) if ( simple ) { while ( dir ) { node = elem; while ( (node = node[ dir ]) ) { if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) { return false; } } // Reverse direction for :only-* (if we haven't yet done so) start = dir = type === &quot;only&quot; &amp;&amp; !start &amp;&amp; &quot;nextSibling&quot;; } return true; } start = [ forward ? parent.firstChild : parent.lastChild ]; // non-xml :nth-child(...) stores cache data on `parent` if ( forward &amp;&amp; useCache ) { // Seek `elem` from a previously-cached index // ...in a gzip-friendly way node = parent; outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); cache = uniqueCache[ type ] || []; nodeIndex = cache[ 0 ] === dirruns &amp;&amp; cache[ 1 ]; diff = nodeIndex &amp;&amp; cache[ 2 ]; node = nodeIndex &amp;&amp; parent.childNodes[ nodeIndex ]; while ( (node = ++nodeIndex &amp;&amp; node &amp;&amp; node[ dir ] || // Fallback to seeking `elem` from the start (diff = nodeIndex = 0) || start.pop()) ) { // When found, cache indexes on `parent` and break if ( node.nodeType === 1 &amp;&amp; ++diff &amp;&amp; node === elem ) { uniqueCache[ type ] = [ dirruns, nodeIndex, diff ]; break; } } } else { // Use previously-cached element index if available if ( useCache ) { // ...in a gzip-friendly way node = elem; outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); cache = uniqueCache[ type ] || []; nodeIndex = cache[ 0 ] === dirruns &amp;&amp; cache[ 1 ]; diff = nodeIndex; } // xml :nth-child(...) // or :nth-last-child(...) or :nth(-last)?-of-type(...) if ( diff === false ) { // Use the same loop as above to seek `elem` from the start while ( (node = ++nodeIndex &amp;&amp; node &amp;&amp; node[ dir ] || (diff = nodeIndex = 0) || start.pop()) ) { if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) &amp;&amp; ++diff ) { // Cache the index of each encountered element if ( useCache ) { outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); uniqueCache[ type ] = [ dirruns, diff ]; } if ( node === elem ) { break; } } } } } // Incorporate the offset, then check against cycle size diff -= last; return diff === first || ( diff % first === 0 &amp;&amp; diff / first &gt;= 0 ); } }; }, &quot;PSEUDO&quot;: function( pseudo, argument ) { // pseudo-class names are case-insensitive // http://www.w3.org/TR/selectors/#pseudo-classes // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters // Remember that setFilters inherits from pseudos var args, fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] || Sizzle.error( &quot;unsupported pseudo: &quot; + pseudo ); // The user may use createPseudo to indicate that // arguments are needed to create the filter function // just as Sizzle does if ( fn[ expando ] ) { return fn( argument ); } // But maintain support for old signatures if ( fn.length &gt; 1 ) { args = [ pseudo, pseudo, &quot;&quot;, argument ]; return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ? markFunction(function( seed, matches ) { var idx, matched = fn( seed, argument ), i = matched.length; while ( i-- ) { idx = indexOf( seed, matched[i] ); seed[ idx ] = !( matches[ idx ] = matched[i] ); } }) : function( elem ) { return fn( elem, 0, args ); }; } return fn; } }, pseudos: { // Potentially complex pseudos &quot;not&quot;: markFunction(function( selector ) { // Trim the selector passed to compile // to avoid treating leading and trailing // spaces as combinators var input = [], results = [], matcher = compile( selector.replace( rtrim, &quot;$1&quot; ) ); return matcher[ expando ] ? markFunction(function( seed, matches, context, xml ) { var elem, unmatched = matcher( seed, null, xml, [] ), i = seed.length; // Match elements unmatched by `matcher` while ( i-- ) { if ( (elem = unmatched[i]) ) { seed[i] = !(matches[i] = elem); } } }) : function( elem, context, xml ) { input[0] = elem; matcher( input, null, xml, results ); // Don't keep the element (issue #299) input[0] = null; return !results.pop(); }; }), &quot;has&quot;: markFunction(function( selector ) { return function( elem ) { return Sizzle( selector, elem ).length &gt; 0; }; }), &quot;contains&quot;: markFunction(function( text ) { text = text.replace( runescape, funescape ); return function( elem ) { return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) &gt; -1; }; }), // &quot;Whether an element is represented by a :lang() selector // is based solely on the element's language value // being equal to the identifier C, // or beginning with the identifier C immediately followed by &quot;-&quot;. // The matching of C against the element's language value is performed case-insensitively. // The identifier C does not have to be a valid language name.&quot; // http://www.w3.org/TR/selectors/#lang-pseudo &quot;lang&quot;: markFunction( function( lang ) { // lang value must be a valid identifier if ( !ridentifier.test(lang || &quot;&quot;) ) { Sizzle.error( &quot;unsupported lang: &quot; + lang ); } lang = lang.replace( runescape, funescape ).toLowerCase(); return function( elem ) { var elemLang; do { if ( (elemLang = documentIsHTML ? elem.lang : elem.getAttribute(&quot;xml:lang&quot;) || elem.getAttribute(&quot;lang&quot;)) ) { elemLang = elemLang.toLowerCase(); return elemLang === lang || elemLang.indexOf( lang + &quot;-&quot; ) === 0; } } while ( (elem = elem.parentNode) &amp;&amp; elem.nodeType === 1 ); return false; }; }), // Miscellaneous &quot;target&quot;: function( elem ) { var hash = window.location &amp;&amp; window.location.hash; return hash &amp;&amp; hash.slice( 1 ) === elem.id; }, &quot;root&quot;: function( elem ) { return elem === docElem; }, &quot;focus&quot;: function( elem ) { return elem === document.activeElement &amp;&amp; (!document.hasFocus || document.hasFocus()) &amp;&amp; !!(elem.type || elem.href || ~elem.tabIndex); }, // Boolean properties &quot;enabled&quot;: createDisabledPseudo( false ), &quot;disabled&quot;: createDisabledPseudo( true ), &quot;checked&quot;: function( elem ) { // In CSS3, :checked should return both checked and selected elements // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked var nodeName = elem.nodeName.toLowerCase(); return (nodeName === &quot;input&quot; &amp;&amp; !!elem.checked) || (nodeName === &quot;option&quot; &amp;&amp; !!elem.selected); }, &quot;selected&quot;: function( elem ) { // Accessing this property makes selected-by-default // options in Safari work properly if ( elem.parentNode ) { elem.parentNode.selectedIndex; } return elem.selected === true; }, // Contents &quot;empty&quot;: function( elem ) { // http://www.w3.org/TR/selectors/#empty-pseudo // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5), // but not by others (comment: 8; processing instruction: 7; etc.) // nodeType &lt; 6 works because attributes (2) do not appear as children for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) { if ( elem.nodeType &lt; 6 ) { return false; } } return true; }, &quot;parent&quot;: function( elem ) { return !Expr.pseudos[&quot;empty&quot;]( elem ); }, // Element/input types &quot;header&quot;: function( elem ) { return rheader.test( elem.nodeName ); }, &quot;input&quot;: function( elem ) { return rinputs.test( elem.nodeName ); }, &quot;button&quot;: function( elem ) { var name = elem.nodeName.toLowerCase(); return name === &quot;input&quot; &amp;&amp; elem.type === &quot;button&quot; || name === &quot;button&quot;; }, &quot;text&quot;: function( elem ) { var attr; return elem.nodeName.toLowerCase() === &quot;input&quot; &amp;&amp; elem.type === &quot;text&quot; &amp;&amp; // Support: IE&lt;8 // New HTML5 attribute values (e.g., &quot;search&quot;) appear with elem.type === &quot;text&quot; ( (attr = elem.getAttribute(&quot;type&quot;)) == null || attr.toLowerCase() === &quot;text&quot; ); }, // Position-in-collection &quot;first&quot;: createPositionalPseudo(function() { return [ 0 ]; }), &quot;last&quot;: createPositionalPseudo(function( matchIndexes, length ) { return [ length - 1 ]; }), &quot;eq&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { return [ argument &lt; 0 ? argument + length : argument ]; }), &quot;even&quot;: createPositionalPseudo(function( matchIndexes, length ) { var i = 0; for ( ; i &lt; length; i += 2 ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;odd&quot;: createPositionalPseudo(function( matchIndexes, length ) { var i = 1; for ( ; i &lt; length; i += 2 ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;lt&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { var i = argument &lt; 0 ? argument + length : argument; for ( ; --i &gt;= 0; ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;gt&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { var i = argument &lt; 0 ? argument + length : argument; for ( ; ++i &lt; length; ) { matchIndexes.push( i ); } return matchIndexes; }) } }; Expr.pseudos[&quot;nth&quot;] = Expr.pseudos[&quot;eq&quot;]; // Add button/input type pseudos for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) { Expr.pseudos[ i ] = createInputPseudo( i ); } for ( i in { submit: true, reset: true } ) { Expr.pseudos[ i ] = createButtonPseudo( i ); } // Easy API for creating new setFilters function setFilters() {} setFilters.prototype = Expr.filters = Expr.pseudos; Expr.setFilters = new setFilters(); tokenize = Sizzle.tokenize = function( selector, parseOnly ) { var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[ selector + &quot; &quot; ]; if ( cached ) { return parseOnly ? 0 : cached.slice( 0 ); } soFar = selector; groups = []; preFilters = Expr.preFilter; while ( soFar ) { // Comma and first run if ( !matched || (match = rcomma.exec( soFar )) ) { if ( match ) { // Don't consume trailing commas as valid soFar = soFar.slice( match[0].length ) || soFar; } groups.push( (tokens = []) ); } matched = false; // Combinators if ( (match = rcombinators.exec( soFar )) ) { matched = match.shift(); tokens.push({ value: matched, // Cast descendant combinators to space type: match[0].replace( rtrim, &quot; &quot; ) }); soFar = soFar.slice( matched.length ); } // Filters for ( type in Expr.filter ) { if ( (match = matchExpr[ type ].exec( soFar )) &amp;&amp; (!preFilters[ type ] || (match = preFilters[ type ]( match ))) ) { matched = match.shift(); tokens.push({ value: matched, type: type, matches: match }); soFar = soFar.slice( matched.length ); } } if ( !matched ) { break; } } // Return the length of the invalid excess // if we're just parsing // Otherwise, throw an error or return tokens return parseOnly ? soFar.length : soFar ? Sizzle.error( selector ) : // Cache the tokens tokenCache( selector, groups ).slice( 0 ); }; function toSelector( tokens ) { var i = 0, len = tokens.length, selector = &quot;&quot;; for ( ; i &lt; len; i++ ) { selector += tokens[i].value; } return selector; } function addCombinator( matcher, combinator, base ) { var dir = combinator.dir, skip = combinator.next, key = skip || dir, checkNonElements = base &amp;&amp; key === &quot;parentNode&quot;, doneName = done++; return combinator.first ? // Check against closest ancestor/preceding element function( elem, context, xml ) { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { return matcher( elem, context, xml ); } } return false; } : // Check against all ancestor/preceding elements function( elem, context, xml ) { var oldCache, uniqueCache, outerCache, newCache = [ dirruns, doneName ]; // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching if ( xml ) { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { if ( matcher( elem, context, xml ) ) { return true; } } } } else { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { outerCache = elem[ expando ] || (elem[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {}); if ( skip &amp;&amp; skip === elem.nodeName.toLowerCase() ) { elem = elem[ dir ] || elem; } else if ( (oldCache = uniqueCache[ key ]) &amp;&amp; oldCache[ 0 ] === dirruns &amp;&amp; oldCache[ 1 ] === doneName ) { // Assign to newCache so results back-propagate to previous elements return (newCache[ 2 ] = oldCache[ 2 ]); } else { // Reuse newcache so results back-propagate to previous elements uniqueCache[ key ] = newCache; // A match means we're done; a fail means we have to keep checking if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) { return true; } } } } } return false; }; } function elementMatcher( matchers ) { return matchers.length &gt; 1 ? function( elem, context, xml ) { var i = matchers.length; while ( i-- ) { if ( !matchers[i]( elem, context, xml ) ) { return false; } } return true; } : matchers[0]; } function multipleContexts( selector, contexts, results ) { var i = 0, len = contexts.length; for ( ; i &lt; len; i++ ) { Sizzle( selector, contexts[i], results ); } return results; } function condense( unmatched, map, filter, context, xml ) { var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null; for ( ; i &lt; len; i++ ) { if ( (elem = unmatched[i]) ) { if ( !filter || filter( elem, context, xml ) ) { newUnmatched.push( elem ); if ( mapped ) { map.push( i ); } } } } return newUnmatched; } function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) { if ( postFilter &amp;&amp; !postFilter[ expando ] ) { postFilter = setMatcher( postFilter ); } if ( postFinder &amp;&amp; !postFinder[ expando ] ) { postFinder = setMatcher( postFinder, postSelector ); } return markFunction(function( seed, results, context, xml ) { var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, // Get initial elements from seed or context elems = seed || multipleContexts( selector || &quot;*&quot;, context.nodeType ? [ context ] : context, [] ), // Prefilter to get matcher input, preserving a map for seed-results synchronization matcherIn = preFilter &amp;&amp; ( seed || !selector ) ? condense( elems, preMap, preFilter, context, xml ) : elems, matcherOut = matcher ? // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results, postFinder || ( seed ? preFilter : preexisting || postFilter ) ? // ...intermediate processing is necessary [] : // ...otherwise use results directly results : matcherIn; // Find primary matches if ( matcher ) { matcher( matcherIn, matcherOut, context, xml ); } // Apply postFilter if ( postFilter ) { temp = condense( matcherOut, postMap ); postFilter( temp, [], context, xml ); // Un-match failing elements by moving them back to matcherIn i = temp.length; while ( i-- ) { if ( (elem = temp[i]) ) { matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem); } } } if ( seed ) { if ( postFinder || preFilter ) { if ( postFinder ) { // Get the final matcherOut by condensing this intermediate into postFinder contexts temp = []; i = matcherOut.length; while ( i-- ) { if ( (elem = matcherOut[i]) ) { // Restore matcherIn since elem is not yet a final match temp.push( (matcherIn[i] = elem) ); } } postFinder( null, (matcherOut = []), temp, xml ); } // Move matched elements from seed to results to keep them synchronized i = matcherOut.length; while ( i-- ) { if ( (elem = matcherOut[i]) &amp;&amp; (temp = postFinder ? indexOf( seed, elem ) : preMap[i]) &gt; -1 ) { seed[temp] = !(results[temp] = elem); } } } // Add elements to results, through postFinder if defined } else { matcherOut = condense( matcherOut === results ? matcherOut.splice( preexisting, matcherOut.length ) : matcherOut ); if ( postFinder ) { postFinder( null, results, matcherOut, xml ); } else { push.apply( results, matcherOut ); } } }); } function matcherFromTokens( tokens ) { var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[ tokens[0].type ], implicitRelative = leadingRelative || Expr.relative[&quot; &quot;], i = leadingRelative ? 1 : 0, // The foundational matcher ensures that elements are reachable from top-level context(s) matchContext = addCombinator( function( elem ) { return elem === checkContext; }, implicitRelative, true ), matchAnyContext = addCombinator( function( elem ) { return indexOf( checkContext, elem ) &gt; -1; }, implicitRelative, true ), matchers = [ function( elem, context, xml ) { var ret = ( !leadingRelative &amp;&amp; ( xml || context !== outermostContext ) ) || ( (checkContext = context).nodeType ? matchContext( elem, context, xml ) : matchAnyContext( elem, context, xml ) ); // Avoid hanging onto element (issue #299) checkContext = null; return ret; } ]; for ( ; i &lt; len; i++ ) { if ( (matcher = Expr.relative[ tokens[i].type ]) ) { matchers = [ addCombinator(elementMatcher( matchers ), matcher) ]; } else { matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches ); // Return special upon seeing a positional matcher if ( matcher[ expando ] ) { // Find the next relative operator (if any) for proper handling j = ++i; for ( ; j &lt; len; j++ ) { if ( Expr.relative[ tokens[j].type ] ) { break; } } return setMatcher( i &gt; 1 &amp;&amp; elementMatcher( matchers ), i &gt; 1 &amp;&amp; toSelector( // If the preceding token was a descendant combinator, insert an implicit any-element `*` tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === &quot; &quot; ? &quot;*&quot; : &quot;&quot; }) ).replace( rtrim, &quot;$1&quot; ), matcher, i &lt; j &amp;&amp; matcherFromTokens( tokens.slice( i, j ) ), j &lt; len &amp;&amp; matcherFromTokens( (tokens = tokens.slice( j )) ), j &lt; len &amp;&amp; toSelector( tokens ) ); } matchers.push( matcher ); } } return elementMatcher( matchers ); } function matcherFromGroupMatchers( elementMatchers, setMatchers ) { var bySet = setMatchers.length &gt; 0, byElement = elementMatchers.length &gt; 0, superMatcher = function( seed, context, xml, results, outermost ) { var elem, j, matcher, matchedCount = 0, i = &quot;0&quot;, unmatched = seed &amp;&amp; [], setMatched = [], contextBackup = outermostContext, // We must always have either seed elements or outermost context elems = seed || byElement &amp;&amp; Expr.find[&quot;TAG&quot;]( &quot;*&quot;, outermost ), // Use integer dirruns iff this is the outermost matcher dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1), len = elems.length; if ( outermost ) { outermostContext = context === document || context || outermost; } // Add elements passing elementMatchers directly to results // Support: IE&lt;9, Safari // Tolerate NodeList properties (IE: &quot;length&quot;; Safari: &lt;number&gt;) matching elements by id for ( ; i !== len &amp;&amp; (elem = elems[i]) != null; i++ ) { if ( byElement &amp;&amp; elem ) { j = 0; if ( !context &amp;&amp; elem.ownerDocument !== document ) { setDocument( elem ); xml = !documentIsHTML; } while ( (matcher = elementMatchers[j++]) ) { if ( matcher( elem, context || document, xml) ) { results.push( elem ); break; } } if ( outermost ) { dirruns = dirrunsUnique; } } // Track unmatched elements for set filters if ( bySet ) { // They will have gone through all possible matchers if ( (elem = !matcher &amp;&amp; elem) ) { matchedCount--; } // Lengthen the array for every element, matched or not if ( seed ) { unmatched.push( elem ); } } } // `i` is now the count of elements visited above, and adding it to `matchedCount` // makes the latter nonnegative. matchedCount += i; // Apply set filters to unmatched elements // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount` // equals `i`), unless we didn't visit _any_ elements in the above loop because we have // no element matchers and no seed. // Incrementing an initially-string &quot;0&quot; `i` allows `i` to remain a string only in that // case, which will result in a &quot;00&quot; `matchedCount` that differs from `i` but is also // numerically zero. if ( bySet &amp;&amp; i !== matchedCount ) { j = 0; while ( (matcher = setMatchers[j++]) ) { matcher( unmatched, setMatched, context, xml ); } if ( seed ) { // Reintegrate element matches to eliminate the need for sorting if ( matchedCount &gt; 0 ) { while ( i-- ) { if ( !(unmatched[i] || setMatched[i]) ) { setMatched[i] = pop.call( results ); } } } // Discard index placeholder values to get only actual matches setMatched = condense( setMatched ); } // Add matches to results push.apply( results, setMatched ); // Seedless set matches succeeding multiple successful matchers stipulate sorting if ( outermost &amp;&amp; !seed &amp;&amp; setMatched.length &gt; 0 &amp;&amp; ( matchedCount + setMatchers.length ) &gt; 1 ) { Sizzle.uniqueSort( results ); } } // Override manipulation of globals by nested matchers if ( outermost ) { dirruns = dirrunsUnique; outermostContext = contextBackup; } return unmatched; }; return bySet ? markFunction( superMatcher ) : superMatcher; } compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) { var i, setMatchers = [], elementMatchers = [], cached = compilerCache[ selector + &quot; &quot; ]; if ( !cached ) { // Generate a function of recursive functions that can be used to check each element if ( !match ) { match = tokenize( selector ); } i = match.length; while ( i-- ) { cached = matcherFromTokens( match[i] ); if ( cached[ expando ] ) { setMatchers.push( cached ); } else { elementMatchers.push( cached ); } } // Cache the compiled function cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) ); // Save selector and tokenization cached.selector = selector; } return cached; }; /** * A low-level selection function that works with Sizzle's compiled * selector functions * @param {String|Function} selector A selector or a pre-compiled * selector function built with Sizzle.compile * @param {Element} context * @param {Array} [results] * @param {Array} [seed] A set of elements to match against */ select = Sizzle.select = function( selector, context, results, seed ) { var i, tokens, token, type, find, compiled = typeof selector === &quot;function&quot; &amp;&amp; selector, match = !seed &amp;&amp; tokenize( (selector = compiled.selector || selector) ); results = results || []; // Try to minimize operations if there is only one selector in the list and no seed // (the latter of which guarantees us context) if ( match.length === 1 ) { // Reduce context if the leading compound selector is an ID tokens = match[0] = match[0].slice( 0 ); if ( tokens.length &gt; 2 &amp;&amp; (token = tokens[0]).type === &quot;ID&quot; &amp;&amp; context.nodeType === 9 &amp;&amp; documentIsHTML &amp;&amp; Expr.relative[ tokens[1].type ] ) { context = ( Expr.find[&quot;ID&quot;]( token.matches[0].replace(runescape, funescape), context ) || [] )[0]; if ( !context ) { return results; // Precompiled matchers will still verify ancestry, so step up a level } else if ( compiled ) { context = context.parentNode; } selector = selector.slice( tokens.shift().value.length ); } // Fetch a seed set for right-to-left matching i = matchExpr[&quot;needsContext&quot;].test( selector ) ? 0 : tokens.length; while ( i-- ) { token = tokens[i]; // Abort if we hit a combinator if ( Expr.relative[ (type = token.type) ] ) { break; } if ( (find = Expr.find[ type ]) ) { // Search, expanding context for leading sibling combinators if ( (seed = find( token.matches[0].replace( runescape, funescape ), rsibling.test( tokens[0].type ) &amp;&amp; testContext( context.parentNode ) || context )) ) { // If seed is empty or no tokens remain, we can return early tokens.splice( i, 1 ); selector = seed.length &amp;&amp; toSelector( tokens ); if ( !selector ) { push.apply( results, seed ); return results; } break; } } } } // Compile and execute a filtering function if one is not provided // Provide `match` to avoid retokenization if we modified the selector above ( compiled || compile( selector, match ) )( seed, context, !documentIsHTML, results, !context || rsibling.test( selector ) &amp;&amp; testContext( context.parentNode ) || context ); return results; }; // One-time assignments // Sort stability support.sortStable = expando.split(&quot;&quot;).sort( sortOrder ).join(&quot;&quot;) === expando; // Support: Chrome 14-35+ // Always assume duplicates if they aren't passed to the comparison function support.detectDuplicates = !!hasDuplicate; // Initialize against the default document setDocument(); // Support: Webkit&lt;537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27) // Detached nodes confoundingly follow *each other* support.sortDetached = assert(function( el ) { // Should return 1, but returns 4 (following) return el.compareDocumentPosition( document.createElement(&quot;fieldset&quot;) ) &amp; 1; }); // Support: IE&lt;8 // Prevent attribute/property &quot;interpolation&quot; // https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx if ( !assert(function( el ) { el.innerHTML = &quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;; return el.firstChild.getAttribute(&quot;href&quot;) === &quot;#&quot; ; }) ) { addHandle( &quot;type|href|height|width&quot;, function( elem, name, isXML ) { if ( !isXML ) { return elem.getAttribute( name, name.toLowerCase() === &quot;type&quot; ? 1 : 2 ); } }); } // Support: IE&lt;9 // Use defaultValue in place of getAttribute(&quot;value&quot;) if ( !support.attributes || !assert(function( el ) { el.innerHTML = &quot;&lt;input/&gt;&quot;; el.firstChild.setAttribute( &quot;value&quot;, &quot;&quot; ); return el.firstChild.getAttribute( &quot;value&quot; ) === &quot;&quot;; }) ) { addHandle( &quot;value&quot;, function( elem, name, isXML ) { if ( !isXML &amp;&amp; elem.nodeName.toLowerCase() === &quot;input&quot; ) { return elem.defaultValue; } }); } // Support: IE&lt;9 // Use getAttributeNode to fetch booleans when getAttribute lies if ( !assert(function( el ) { return el.getAttribute(&quot;disabled&quot;) == null; }) ) { addHandle( booleans, function( elem, name, isXML ) { var val; if ( !isXML ) { return elem[ name ] === true ? name.toLowerCase() : (val = elem.getAttributeNode( name )) &amp;&amp; val.specified ? val.value : null; } }); } return Sizzle; })( window ); jQuery.find = Sizzle; jQuery.expr = Sizzle.selectors; // Deprecated jQuery.expr[ &quot;:&quot; ] = jQuery.expr.pseudos; jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort; jQuery.text = Sizzle.getText; jQuery.isXMLDoc = Sizzle.isXML; jQuery.contains = Sizzle.contains; jQuery.escapeSelector = Sizzle.escape; var dir = function( elem, dir, until ) { var matched = [], truncate = until !== undefined; while ( ( elem = elem[ dir ] ) &amp;&amp; elem.nodeType !== 9 ) { if ( elem.nodeType === 1 ) { if ( truncate &amp;&amp; jQuery( elem ).is( until ) ) { break; } matched.push( elem ); } } return matched; }; var siblings = function( n, elem ) { var matched = []; for ( ; n; n = n.nextSibling ) { if ( n.nodeType === 1 &amp;&amp; n !== elem ) { matched.push( n ); } } return matched; }; var rneedsContext = jQuery.expr.match.needsContext; var rsingleTag = ( /^&lt;([a-z][^\\/\\0&gt;:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?&gt;(?:&lt;\\/\\1&gt;|)$/i ); var risSimple = /^.[^:#\\[\\.,]*$/; // Implement the identical functionality for filter and not function winnow( elements, qualifier, not ) { if ( jQuery.isFunction( qualifier ) ) { return jQuery.grep( elements, function( elem, i ) { return !!qualifier.call( elem, i, elem ) !== not; } ); } // Single element if ( qualifier.nodeType ) { return jQuery.grep( elements, function( elem ) { return ( elem === qualifier ) !== not; } ); } // Arraylike of elements (jQuery, arguments, Array) if ( typeof qualifier !== &quot;string&quot; ) { return jQuery.grep( elements, function( elem ) { return ( indexOf.call( qualifier, elem ) &gt; -1 ) !== not; } ); } // Simple selector that can be filtered directly, removing non-Elements if ( risSimple.test( qualifier ) ) { return jQuery.filter( qualifier, elements, not ); } // Complex selector, compare the two sets, removing non-Elements qualifier = jQuery.filter( qualifier, elements ); return jQuery.grep( elements, function( elem ) { return ( indexOf.call( qualifier, elem ) &gt; -1 ) !== not &amp;&amp; elem.nodeType === 1; } ); } jQuery.filter = function( expr, elems, not ) { var elem = elems[ 0 ]; if ( not ) { expr = &quot;:not(&quot; + expr + &quot;)&quot;; } if ( elems.length === 1 &amp;&amp; elem.nodeType === 1 ) { return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : []; } return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) { return elem.nodeType === 1; } ) ); }; jQuery.fn.extend( { find: function( selector ) { var i, ret, len = this.length, self = this; if ( typeof selector !== &quot;string&quot; ) { return this.pushStack( jQuery( selector ).filter( function() { for ( i = 0; i &lt; len; i++ ) { if ( jQuery.contains( self[ i ], this ) ) { return true; } } } ) ); } ret = this.pushStack( [] ); for ( i = 0; i &lt; len; i++ ) { jQuery.find( selector, self[ i ], ret ); } return len &gt; 1 ? jQuery.uniqueSort( ret ) : ret; }, filter: function( selector ) { return this.pushStack( winnow( this, selector || [], false ) ); }, not: function( selector ) { return this.pushStack( winnow( this, selector || [], true ) ); }, is: function( selector ) { return !!winnow( this, // If this is a positional/relative selector, check membership in the returned set // so $(&quot;p:first&quot;).is(&quot;p:last&quot;) won't return true for a doc with two &quot;p&quot;. typeof selector === &quot;string&quot; &amp;&amp; rneedsContext.test( selector ) ? jQuery( selector ) : selector || [], false ).length; } } ); // Initialize a jQuery object // A central reference to the root jQuery(document) var rootjQuery, // A simple way to check for HTML strings // Prioritize #id over &lt;tag&gt; to avoid XSS via location.hash (#9521) // Strict HTML recognition (#11290: must start with &lt;) // Shortcut simple #id case for speed rquickExpr = /^(?:\\s*(&lt;[\\w\\W]+&gt;)[^&gt;]*|#([\\w-]+))$/, init = jQuery.fn.init = function( selector, context, root ) { var match, elem; // HANDLE: $(&quot;&quot;), $(null), $(undefined), $(false) if ( !selector ) { return this; } // Method init() accepts an alternate rootjQuery // so migrate can support jQuery.sub (gh-2101) root = root || rootjQuery; // Handle HTML strings if ( typeof selector === &quot;string&quot; ) { if ( selector[ 0 ] === &quot;&lt;&quot; &amp;&amp; selector[ selector.length - 1 ] === &quot;&gt;&quot; &amp;&amp; selector.length &gt;= 3 ) { // Assume that strings that start and end with &lt;&gt; are HTML and skip the regex check match = [ null, selector, null ]; } else { match = rquickExpr.exec( selector ); } // Match html or make sure no context is specified for #id if ( match &amp;&amp; ( match[ 1 ] || !context ) ) { // HANDLE: $(html) -&gt; $(array) if ( match[ 1 ] ) { context = context instanceof jQuery ? context[ 0 ] : context; // Option to run scripts is true for back-compat // Intentionally let the error be thrown if parseHTML is not present jQuery.merge( this, jQuery.parseHTML( match[ 1 ], context &amp;&amp; context.nodeType ? context.ownerDocument || context : document, true ) ); // HANDLE: $(html, props) if ( rsingleTag.test( match[ 1 ] ) &amp;&amp; jQuery.isPlainObject( context ) ) { for ( match in context ) { // Properties of context are called as methods if possible if ( jQuery.isFunction( this[ match ] ) ) { this[ match ]( context[ match ] ); // ...and otherwise set as attributes } else { this.attr( match, context[ match ] ); } } } return this; // HANDLE: $(#id) } else { elem = document.getElementById( match[ 2 ] ); if ( elem ) { // Inject the element directly into the jQuery object this[ 0 ] = elem; this.length = 1; } return this; } // HANDLE: $(expr, $(...)) } else if ( !context || context.jquery ) { return ( context || root ).find( selector ); // HANDLE: $(expr, context) // (which is just equivalent to: $(context).find(expr) } else { return this.constructor( context ).find( selector ); } // HANDLE: $(DOMElement) } else if ( selector.nodeType ) { this[ 0 ] = selector; this.length = 1; return this; // HANDLE: $(function) // Shortcut for document ready } else if ( jQuery.isFunction( selector ) ) { return root.ready !== undefined ? root.ready( selector ) : // Execute immediately if ready is not present selector( jQuery ); } return jQuery.makeArray( selector, this ); }; // Give the init function the jQuery prototype for later instantiation init.prototype = jQuery.fn; // Initialize central reference rootjQuery = jQuery( document ); var rparentsprev = /^(?:parents|prev(?:Until|All))/, // Methods guaranteed to produce a unique set when starting from a unique set guaranteedUnique = { children: true, contents: true, next: true, prev: true }; jQuery.fn.extend( { has: function( target ) { var targets = jQuery( target, this ), l = targets.length; return this.filter( function() { var i = 0; for ( ; i &lt; l; i++ ) { if ( jQuery.contains( this, targets[ i ] ) ) { return true; } } } ); }, closest: function( selectors, context ) { var cur, i = 0, l = this.length, matched = [], targets = typeof selectors !== &quot;string&quot; &amp;&amp; jQuery( selectors ); // Positional selectors never match, since there's no _selection_ context if ( !rneedsContext.test( selectors ) ) { for ( ; i &lt; l; i++ ) { for ( cur = this[ i ]; cur &amp;&amp; cur !== context; cur = cur.parentNode ) { // Always skip document fragments if ( cur.nodeType &lt; 11 &amp;&amp; ( targets ? targets.index( cur ) &gt; -1 : // Don't pass non-elements to Sizzle cur.nodeType === 1 &amp;&amp; jQuery.find.matchesSelector( cur, selectors ) ) ) { matched.push( cur ); break; } } } } return this.pushStack( matched.length &gt; 1 ? jQuery.uniqueSort( matched ) : matched ); }, // Determine the position of an element within the set index: function( elem ) { // No argument, return index in parent if ( !elem ) { return ( this[ 0 ] &amp;&amp; this[ 0 ].parentNode ) ? this.first().prevAll().length : -1; } // Index in selector if ( typeof elem === &quot;string&quot; ) { return indexOf.call( jQuery( elem ), this[ 0 ] ); } // Locate the position of the desired element return indexOf.call( this, // If it receives a jQuery object, the first element is used elem.jquery ? elem[ 0 ] : elem ); }, add: function( selector, context ) { return this.pushStack( jQuery.uniqueSort( jQuery.merge( this.get(), jQuery( selector, context ) ) ) ); }, addBack: function( selector ) { return this.add( selector == null ? this.prevObject : this.prevObject.filter( selector ) ); } } ); function sibling( cur, dir ) { while ( ( cur = cur[ dir ] ) &amp;&amp; cur.nodeType !== 1 ) {} return cur; } jQuery.each( { parent: function( elem ) { var parent = elem.parentNode; return parent &amp;&amp; parent.nodeType !== 11 ? parent : null; }, parents: function( elem ) { return dir( elem, &quot;parentNode&quot; ); }, parentsUntil: function( elem, i, until ) { return dir( elem, &quot;parentNode&quot;, until ); }, next: function( elem ) { return sibling( elem, &quot;nextSibling&quot; ); }, prev: function( elem ) { return sibling( elem, &quot;previousSibling&quot; ); }, nextAll: function( elem ) { return dir( elem, &quot;nextSibling&quot; ); }, prevAll: function( elem ) { return dir( elem, &quot;previousSibling&quot; ); }, nextUntil: function( elem, i, until ) { return dir( elem, &quot;nextSibling&quot;, until ); }, prevUntil: function( elem, i, until ) { return dir( elem, &quot;previousSibling&quot;, until ); }, siblings: function( elem ) { return siblings( ( elem.parentNode || {} ).firstChild, elem ); }, children: function( elem ) { return siblings( elem.firstChild ); }, contents: function( elem ) { return elem.contentDocument || jQuery.merge( [], elem.childNodes ); } }, function( name, fn ) { jQuery.fn[ name ] = function( until, selector ) { var matched = jQuery.map( this, fn, until ); if ( name.slice( -5 ) !== &quot;Until&quot; ) { selector = until; } if ( selector &amp;&amp; typeof selector === &quot;string&quot; ) { matched = jQuery.filter( selector, matched ); } if ( this.length &gt; 1 ) { // Remove duplicates if ( !guaranteedUnique[ name ] ) { jQuery.uniqueSort( matched ); } // Reverse order for parents* and prev-derivatives if ( rparentsprev.test( name ) ) { matched.reverse(); } } return this.pushStack( matched ); }; } ); var rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g ); // Convert String-formatted options into Object-formatted ones function createOptions( options ) { var object = {}; jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) { object[ flag ] = true; } ); return object; } /* * Create a callback list using the following parameters: * * options: an optional list of space-separated options that will change how * the callback list behaves or a more traditional option object * * By default a callback list will act like an event callback list and can be * &quot;fired&quot; multiple times. * * Possible options: * * once: will ensure the callback list can only be fired once (like a Deferred) * * memory: will keep track of previous values and will call any callback added * after the list has been fired right away with the latest &quot;memorized&quot; * values (like a Deferred) * * unique: will ensure a callback can only be added once (no duplicate in the list) * * stopOnFalse: interrupt callings when a callback returns false * */ jQuery.Callbacks = function( options ) { // Convert options from String-formatted to Object-formatted if needed // (we check in cache first) options = typeof options === &quot;string&quot; ? createOptions( options ) : jQuery.extend( {}, options ); var // Flag to know if list is currently firing firing, // Last fire value for non-forgettable lists memory, // Flag to know if list was already fired fired, // Flag to prevent firing locked, // Actual callback list list = [], // Queue of execution data for repeatable lists queue = [], // Index of currently firing callback (modified by add/remove as needed) firingIndex = -1, // Fire callbacks fire = function() { // Enforce single-firing locked = options.once; // Execute callbacks for all pending executions, // respecting firingIndex overrides and runtime changes fired = firing = true; for ( ; queue.length; firingIndex = -1 ) { memory = queue.shift(); while ( ++firingIndex &lt; list.length ) { // Run callback and check for early termination if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &amp;&amp; options.stopOnFalse ) { // Jump to end and forget the data so .add doesn't re-fire firingIndex = list.length; memory = false; } } } // Forget the data if we're done with it if ( !options.memory ) { memory = false; } firing = false; // Clean up if we're done firing for good if ( locked ) { // Keep an empty list if we have data for future add calls if ( memory ) { list = []; // Otherwise, this object is spent } else { list = &quot;&quot;; } } }, // Actual Callbacks object self = { // Add a callback or a collection of callbacks to the list add: function() { if ( list ) { // If we have memory from a past run, we should fire after adding if ( memory &amp;&amp; !firing ) { firingIndex = list.length - 1; queue.push( memory ); } ( function add( args ) { jQuery.each( args, function( _, arg ) { if ( jQuery.isFunction( arg ) ) { if ( !options.unique || !self.has( arg ) ) { list.push( arg ); } } else if ( arg &amp;&amp; arg.length &amp;&amp; jQuery.type( arg ) !== &quot;string&quot; ) { // Inspect recursively add( arg ); } } ); } )( arguments ); if ( memory &amp;&amp; !firing ) { fire(); } } return this; }, // Remove a callback from the list remove: function() { jQuery.each( arguments, function( _, arg ) { var index; while ( ( index = jQuery.inArray( arg, list, index ) ) &gt; -1 ) { list.splice( index, 1 ); // Handle firing indexes if ( index &lt;= firingIndex ) { firingIndex--; } } } ); return this; }, // Check if a given callback is in the list. // If no argument is given, return whether or not list has callbacks attached. has: function( fn ) { return fn ? jQuery.inArray( fn, list ) &gt; -1 : list.length &gt; 0; }, // Remove all callbacks from the list empty: function() { if ( list ) { list = []; } return this; }, // Disable .fire and .add // Abort any current/pending executions // Clear all callbacks and values disable: function() { locked = queue = []; list = memory = &quot;&quot;; return this; }, disabled: function() { return !list; }, // Disable .fire // Also disable .add unless we have memory (since it would have no effect) // Abort any pending executions lock: function() { locked = queue = []; if ( !memory &amp;&amp; !firing ) { list = memory = &quot;&quot;; } return this; }, locked: function() { return !!locked; }, // Call all callbacks with the given context and arguments fireWith: function( context, args ) { if ( !locked ) { args = args || []; args = [ context, args.slice ? args.slice() : args ]; queue.push( args ); if ( !firing ) { fire(); } } return this; }, // Call all the callbacks with the given arguments fire: function() { self.fireWith( this, arguments ); return this; }, // To know if the callbacks have already been called at least once fired: function() { return !!fired; } }; return self; }; function Identity( v ) { return v; } function Thrower( ex ) { throw ex; } function adoptValue( value, resolve, reject ) { var method; try { // Check for promise aspect first to privilege synchronous behavior if ( value &amp;&amp; jQuery.isFunction( ( method = value.promise ) ) ) { method.call( value ).done( resolve ).fail( reject ); // Other thenables } else if ( value &amp;&amp; jQuery.isFunction( ( method = value.then ) ) ) { method.call( value, resolve, reject ); // Other non-thenables } else { // Support: Android 4.0 only // Strict mode functions invoked without .call/.apply get global-object context resolve.call( undefined, value ); } // For Promises/A+, convert exceptions into rejections // Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in // Deferred#then to conditionally suppress rejection. } catch ( value ) { // Support: Android 4.0 only // Strict mode functions invoked without .call/.apply get global-object context reject.call( undefined, value ); } } jQuery.extend( { Deferred: function( func ) { var tuples = [ // action, add listener, callbacks, // ... .then handlers, argument index, [final state] [ &quot;notify&quot;, &quot;progress&quot;, jQuery.Callbacks( &quot;memory&quot; ), jQuery.Callbacks( &quot;memory&quot; ), 2 ], [ &quot;resolve&quot;, &quot;done&quot;, jQuery.Callbacks( &quot;once memory&quot; ), jQuery.Callbacks( &quot;once memory&quot; ), 0, &quot;resolved&quot; ], [ &quot;reject&quot;, &quot;fail&quot;, jQuery.Callbacks( &quot;once memory&quot; ), jQuery.Callbacks( &quot;once memory&quot; ), 1, &quot;rejected&quot; ] ], state = &quot;pending&quot;, promise = { state: function() { return state; }, always: function() { deferred.done( arguments ).fail( arguments ); return this; }, &quot;catch&quot;: function( fn ) { return promise.then( null, fn ); }, // Keep pipe for back-compat pipe: function( /* fnDone, fnFail, fnProgress */ ) { var fns = arguments; return jQuery.Deferred( function( newDefer ) { jQuery.each( tuples, function( i, tuple ) { // Map tuples (progress, done, fail) to arguments (done, fail, progress) var fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) &amp;&amp; fns[ tuple[ 4 ] ]; // deferred.progress(function() { bind to newDefer or newDefer.notify }) // deferred.done(function() { bind to newDefer or newDefer.resolve }) // deferred.fail(function() { bind to newDefer or newDefer.reject }) deferred[ tuple[ 1 ] ]( function() { var returned = fn &amp;&amp; fn.apply( this, arguments ); if ( returned &amp;&amp; jQuery.isFunction( returned.promise ) ) { returned.promise() .progress( newDefer.notify ) .done( newDefer.resolve ) .fail( newDefer.reject ); } else { newDefer[ tuple[ 0 ] + &quot;With&quot; ]( this, fn ? [ returned ] : arguments ); } } ); } ); fns = null; } ).promise(); }, then: function( onFulfilled, onRejected, onProgress ) { var maxDepth = 0; function resolve( depth, deferred, handler, special ) { return function() { var that = this, args = arguments, mightThrow = function() { var returned, then; // Support: Promises/A+ section 2.3.3.3.3 // https://promisesaplus.com/#point-59 // Ignore double-resolution attempts if ( depth &lt; maxDepth ) { return; } returned = handler.apply( that, args ); // Support: Promises/A+ section 2.3.1 // https://promisesaplus.com/#point-48 if ( returned === deferred.promise() ) { throw new TypeError( &quot;Thenable self-resolution&quot; ); } // Support: Promises/A+ sections 2.3.3.1, 3.5 // https://promisesaplus.com/#point-54 // https://promisesaplus.com/#point-75 // Retrieve `then` only once then = returned &amp;&amp; // Support: Promises/A+ section 2.3.4 // https://promisesaplus.com/#point-64 // Only check objects and functions for thenability ( typeof returned === &quot;object&quot; || typeof returned === &quot;function&quot; ) &amp;&amp; returned.then; // Handle a returned thenable if ( jQuery.isFunction( then ) ) { // Special processors (notify) just wait for resolution if ( special ) { then.call( returned, resolve( maxDepth, deferred, Identity, special ), resolve( maxDepth, deferred, Thrower, special ) ); // Normal processors (resolve) also hook into progress } else { // ...and disregard older resolution values maxDepth++; then.call( returned, resolve( maxDepth, deferred, Identity, special ), resolve( maxDepth, deferred, Thrower, special ), resolve( maxDepth, deferred, Identity, deferred.notifyWith ) ); } // Handle all other returned values } else { // Only substitute handlers pass on context // and multiple values (non-spec behavior) if ( handler !== Identity ) { that = undefined; args = [ returned ]; } // Process the value(s) // Default process is resolve ( special || deferred.resolveWith )( that, args ); } }, // Only normal processors (resolve) catch and reject exceptions process = special ? mightThrow : function() { try { mightThrow(); } catch ( e ) { if ( jQuery.Deferred.exceptionHook ) { jQuery.Deferred.exceptionHook( e, process.stackTrace ); } // Support: Promises/A+ section 2.3.3.3.4.1 // https://promisesaplus.com/#point-61 // Ignore post-resolution exceptions if ( depth + 1 &gt;= maxDepth ) { // Only substitute handlers pass on context // and multiple values (non-spec behavior) if ( handler !== Thrower ) { that = undefined; args = [ e ]; } deferred.rejectWith( that, args ); } } }; // Support: Promises/A+ section 2.3.3.3.1 // https://promisesaplus.com/#point-57 // Re-resolve promises immediately to dodge false rejection from // subsequent errors if ( depth ) { process(); } else { // Call an optional hook to record the stack, in case of exception // since it's otherwise lost when execution goes async if ( jQuery.Deferred.getStackHook ) { process.stackTrace = jQuery.Deferred.getStackHook(); } window.setTimeout( process ); } }; } return jQuery.Deferred( function( newDefer ) { // progress_handlers.add( ... ) tuples[ 0 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onProgress ) ? onProgress : Identity, newDefer.notifyWith ) ); // fulfilled_handlers.add( ... ) tuples[ 1 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onFulfilled ) ? onFulfilled : Identity ) ); // rejected_handlers.add( ... ) tuples[ 2 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onRejected ) ? onRejected : Thrower ) ); } ).promise(); }, // Get a promise for this deferred // If obj is provided, the promise aspect is added to the object promise: function( obj ) { return obj != null ? jQuery.extend( obj, promise ) : promise; } }, deferred = {}; // Add list-specific methods jQuery.each( tuples, function( i, tuple ) { var list = tuple[ 2 ], stateString = tuple[ 5 ]; // promise.progress = list.add // promise.done = list.add // promise.fail = list.add promise[ tuple[ 1 ] ] = list.add; // Handle state if ( stateString ) { list.add( function() { // state = &quot;resolved&quot; (i.e., fulfilled) // state = &quot;rejected&quot; state = stateString; }, // rejected_callbacks.disable // fulfilled_callbacks.disable tuples[ 3 - i ][ 2 ].disable, // progress_callbacks.lock tuples[ 0 ][ 2 ].lock ); } // progress_handlers.fire // fulfilled_handlers.fire // rejected_handlers.fire list.add( tuple[ 3 ].fire ); // deferred.notify = function() { deferred.notifyWith(...) } // deferred.resolve = function() { deferred.resolveWith(...) } // deferred.reject = function() { deferred.rejectWith(...) } deferred[ tuple[ 0 ] ] = function() { deferred[ tuple[ 0 ] + &quot;With&quot; ]( this === deferred ? undefined : this, arguments ); return this; }; // deferred.notifyWith = list.fireWith // deferred.resolveWith = list.fireWith // deferred.rejectWith = list.fireWith deferred[ tuple[ 0 ] + &quot;With&quot; ] = list.fireWith; } ); // Make the deferred a promise promise.promise( deferred ); // Call given func if any if ( func ) { func.call( deferred, deferred ); } // All done! return deferred; }, // Deferred helper when: function( singleValue ) { var // count of uncompleted subordinates remaining = arguments.length, // count of unprocessed arguments i = remaining, // subordinate fulfillment data resolveContexts = Array( i ), resolveValues = slice.call( arguments ), // the master Deferred master = jQuery.Deferred(), // subordinate callback factory updateFunc = function( i ) { return function( value ) { resolveContexts[ i ] = this; resolveValues[ i ] = arguments.length &gt; 1 ? slice.call( arguments ) : value; if ( !( --remaining ) ) { master.resolveWith( resolveContexts, resolveValues ); } }; }; // Single- and empty arguments are adopted like Promise.resolve if ( remaining &lt;= 1 ) { adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject ); // Use .then() to unwrap secondary thenables (cf. gh-3000) if ( master.state() === &quot;pending&quot; || jQuery.isFunction( resolveValues[ i ] &amp;&amp; resolveValues[ i ].then ) ) { return master.then(); } } // Multiple arguments are aggregated like Promise.all array elements while ( i-- ) { adoptValue( resolveValues[ i ], updateFunc( i ), master.reject ); } return master.promise(); } } ); // These usually indicate a programmer mistake during development, // warn about them ASAP rather than swallowing them by default. var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; jQuery.Deferred.exceptionHook = function( error, stack ) { // Support: IE 8 - 9 only // Console exists when dev tools are open, which can happen at any time if ( window.console &amp;&amp; window.console.warn &amp;&amp; error &amp;&amp; rerrorNames.test( error.name ) ) { window.console.warn( &quot;jQuery.Deferred exception: &quot; + error.message, error.stack, stack ); } }; jQuery.readyException = function( error ) { window.setTimeout( function() { throw error; } ); }; // The deferred used on DOM ready var readyList = jQuery.Deferred(); jQuery.fn.ready = function( fn ) { readyList .then( fn ) // Wrap jQuery.readyException in a function so that the lookup // happens at the time of error handling instead of callback // registration. .catch( function( error ) { jQuery.readyException( error ); } ); return this; }; jQuery.extend( { // Is the DOM ready to be used? Set to true once it occurs. isReady: false, // A counter to track how many items to wait for before // the ready event fires. See #6781 readyWait: 1, // Hold (or release) the ready event holdReady: function( hold ) { if ( hold ) { jQuery.readyWait++; } else { jQuery.ready( true ); } }, // Handle when the DOM is ready ready: function( wait ) { // Abort if there are pending holds or we're already ready if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) { return; } // Remember that the DOM is ready jQuery.isReady = true; // If a normal DOM Ready event fired, decrement, and wait if need be if ( wait !== true &amp;&amp; --jQuery.readyWait &gt; 0 ) { return; } // If there are functions bound, to execute readyList.resolveWith( document, [ jQuery ] ); } } ); jQuery.ready.then = readyList.then; // The ready event handler and self cleanup method function completed() { document.removeEventListener( &quot;DOMContentLoaded&quot;, completed ); window.removeEventListener( &quot;load&quot;, completed ); jQuery.ready(); } // Catch cases where $(document).ready() is called // after the browser event has already occurred. // Support: IE &lt;=9 - 10 only // Older IE sometimes signals &quot;interactive&quot; too soon if ( document.readyState === &quot;complete&quot; || ( document.readyState !== &quot;loading&quot; &amp;&amp; !document.documentElement.doScroll ) ) { // Handle it asynchronously to allow scripts the opportunity to delay ready window.setTimeout( jQuery.ready ); } else { // Use the handy event callback document.addEventListener( &quot;DOMContentLoaded&quot;, completed ); // A fallback to window.onload, that will always work window.addEventListener( &quot;load&quot;, completed ); } // Multifunctional method to get and set values of a collection // The value/s can optionally be executed if it's a function var access = function( elems, fn, key, value, chainable, emptyGet, raw ) { var i = 0, len = elems.length, bulk = key == null; // Sets many values if ( jQuery.type( key ) === &quot;object&quot; ) { chainable = true; for ( i in key ) { access( elems, fn, i, key[ i ], true, emptyGet, raw ); } // Sets one value } else if ( value !== undefined ) { chainable = true; if ( !jQuery.isFunction( value ) ) { raw = true; } if ( bulk ) { // Bulk operations run against the entire set if ( raw ) { fn.call( elems, value ); fn = null; // ...except when executing function values } else { bulk = fn; fn = function( elem, key, value ) { return bulk.call( jQuery( elem ), value ); }; } } if ( fn ) { for ( ; i &lt; len; i++ ) { fn( elems[ i ], key, raw ? value : value.call( elems[ i ], i, fn( elems[ i ], key ) ) ); } } } if ( chainable ) { return elems; } // Gets if ( bulk ) { return fn.call( elems ); } return len ? fn( elems[ 0 ], key ) : emptyGet; }; var acceptData = function( owner ) { // Accepts only: // - Node // - Node.ELEMENT_NODE // - Node.DOCUMENT_NODE // - Object // - Any return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType ); }; function Data() { this.expando = jQuery.expando + Data.uid++; } Data.uid = 1; Data.prototype = { cache: function( owner ) { // Check if the owner object already has a cache var value = owner[ this.expando ]; // If not, create one if ( !value ) { value = {}; // We can accept data for non-element nodes in modern browsers, // but we should not, see #8335. // Always return an empty object. if ( acceptData( owner ) ) { // If it is a node unlikely to be stringify-ed or looped over // use plain assignment if ( owner.nodeType ) { owner[ this.expando ] = value; // Otherwise secure it in a non-enumerable property // configurable must be true to allow the property to be // deleted when data is removed } else { Object.defineProperty( owner, this.expando, { value: value, configurable: true } ); } } } return value; }, set: function( owner, data, value ) { var prop, cache = this.cache( owner ); // Handle: [ owner, key, value ] args // Always use camelCase key (gh-2257) if ( typeof data === &quot;string&quot; ) { cache[ jQuery.camelCase( data ) ] = value; // Handle: [ owner, { properties } ] args } else { // Copy the properties one-by-one to the cache object for ( prop in data ) { cache[ jQuery.camelCase( prop ) ] = data[ prop ]; } } return cache; }, get: function( owner, key ) { return key === undefined ? this.cache( owner ) : // Always use camelCase key (gh-2257) owner[ this.expando ] &amp;&amp; owner[ this.expando ][ jQuery.camelCase( key ) ]; }, access: function( owner, key, value ) { // In cases where either: // // 1. No key was specified // 2. A string key was specified, but no value provided // // Take the &quot;read&quot; path and allow the get method to determine // which value to return, respectively either: // // 1. The entire cache object // 2. The data stored at the key // if ( key === undefined || ( ( key &amp;&amp; typeof key === &quot;string&quot; ) &amp;&amp; value === undefined ) ) { return this.get( owner, key ); } // When the key is not a string, or both a key and value // are specified, set or extend (existing objects) with either: // // 1. An object of properties // 2. A key and value // this.set( owner, key, value ); // Since the &quot;set&quot; path can have two possible entry points // return the expected data based on which path was taken[*] return value !== undefined ? value : key; }, remove: function( owner, key ) { var i, cache = owner[ this.expando ]; if ( cache === undefined ) { return; } if ( key !== undefined ) { // Support array or space separated string of keys if ( jQuery.isArray( key ) ) { // If key is an array of keys... // We always set camelCase keys, so remove that. key = key.map( jQuery.camelCase ); } else { key = jQuery.camelCase( key ); // If a key with the spaces exists, use it. // Otherwise, create an array by matching non-whitespace key = key in cache ? [ key ] : ( key.match( rnothtmlwhite ) || [] ); } i = key.length; while ( i-- ) { delete cache[ key[ i ] ]; } } // Remove the expando if there's no more data if ( key === undefined || jQuery.isEmptyObject( cache ) ) { // Support: Chrome &lt;=35 - 45 // Webkit &amp; Blink performance suffers when deleting properties // from DOM nodes, so set to undefined instead // https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted) if ( owner.nodeType ) { owner[ this.expando ] = undefined; } else { delete owner[ this.expando ]; } } }, hasData: function( owner ) { var cache = owner[ this.expando ]; return cache !== undefined &amp;&amp; !jQuery.isEmptyObject( cache ); } }; var dataPriv = new Data(); var dataUser = new Data(); // Implementation Summary // // 1. Enforce API surface and semantic compatibility with 1.9.x branch // 2. Improve the module's maintainability by reducing the storage // paths to a single mechanism. // 3. Use the same single mechanism to support &quot;private&quot; and &quot;user&quot; data. // 4. _Never_ expose &quot;private&quot; data to user code (TODO: Drop _data, _removeData) // 5. Avoid exposing implementation details on user objects (eg. expando properties) // 6. Provide a clear path for implementation upgrade to WeakMap in 2014 var rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/, rmultiDash = /[A-Z]/g; function getData( data ) { if ( data === &quot;true&quot; ) { return true; } if ( data === &quot;false&quot; ) { return false; } if ( data === &quot;null&quot; ) { return null; } // Only convert to a number if it doesn't change the string if ( data === +data + &quot;&quot; ) { return +data; } if ( rbrace.test( data ) ) { return JSON.parse( data ); } return data; } function dataAttr( elem, key, data ) { var name; // If nothing was found internally, try to fetch any // data from the HTML5 data-* attribute if ( data === undefined &amp;&amp; elem.nodeType === 1 ) { name = &quot;data-&quot; + key.replace( rmultiDash, &quot;-$&amp;&quot; ).toLowerCase(); data = elem.getAttribute( name ); if ( typeof data === &quot;string&quot; ) { try { data = getData( data ); } catch ( e ) {} // Make sure we set the data so it isn't changed later dataUser.set( elem, key, data ); } else { data = undefined; } } return data; } jQuery.extend( { hasData: function( elem ) { return dataUser.hasData( elem ) || dataPriv.hasData( elem ); }, data: function( elem, name, data ) { return dataUser.access( elem, name, data ); }, removeData: function( elem, name ) { dataUser.remove( elem, name ); }, // TODO: Now that all calls to _data and _removeData have been replaced // with direct calls to dataPriv methods, these can be deprecated. _data: function( elem, name, data ) { return dataPriv.access( elem, name, data ); }, _removeData: function( elem, name ) { dataPriv.remove( elem, name ); } } ); jQuery.fn.extend( { data: function( key, value ) { var i, name, data, elem = this[ 0 ], attrs = elem &amp;&amp; elem.attributes; // Gets all values if ( key === undefined ) { if ( this.length ) { data = dataUser.get( elem ); if ( elem.nodeType === 1 &amp;&amp; !dataPriv.get( elem, &quot;hasDataAttrs&quot; ) ) { i = attrs.length; while ( i-- ) { // Support: IE 11 only // The attrs elements can be null (#14894) if ( attrs[ i ] ) { name = attrs[ i ].name; if ( name.indexOf( &quot;data-&quot; ) === 0 ) { name = jQuery.camelCase( name.slice( 5 ) ); dataAttr( elem, name, data[ name ] ); } } } dataPriv.set( elem, &quot;hasDataAttrs&quot;, true ); } } return data; } // Sets multiple values if ( typeof key === &quot;object&quot; ) { return this.each( function() { dataUser.set( this, key ); } ); } return access( this, function( value ) { var data; // The calling jQuery object (element matches) is not empty // (and therefore has an element appears at this[ 0 ]) and the // `value` parameter was not undefined. An empty jQuery object // will result in `undefined` for elem = this[ 0 ] which will // throw an exception if an attempt to read a data cache is made. if ( elem &amp;&amp; value === undefined ) { // Attempt to get data from the cache // The key will always be camelCased in Data data = dataUser.get( elem, key ); if ( data !== undefined ) { return data; } // Attempt to &quot;discover&quot; the data in // HTML5 custom data-* attrs data = dataAttr( elem, key ); if ( data !== undefined ) { return data; } // We tried really hard, but the data doesn't exist. return; } // Set the data... this.each( function() { // We always store the camelCased key dataUser.set( this, key, value ); } ); }, null, value, arguments.length &gt; 1, null, true ); }, removeData: function( key ) { return this.each( function() { dataUser.remove( this, key ); } ); } } ); jQuery.extend( { queue: function( elem, type, data ) { var queue; if ( elem ) { type = ( type || &quot;fx&quot; ) + &quot;queue&quot;; queue = dataPriv.get( elem, type ); // Speed up dequeue by getting out quickly if this is just a lookup if ( data ) { if ( !queue || jQuery.isArray( data ) ) { queue = dataPriv.access( elem, type, jQuery.makeArray( data ) ); } else { queue.push( data ); } } return queue || []; } }, dequeue: function( elem, type ) { type = type || &quot;fx&quot;; var queue = jQuery.queue( elem, type ), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks( elem, type ), next = function() { jQuery.dequeue( elem, type ); }; // If the fx queue is dequeued, always remove the progress sentinel if ( fn === &quot;inprogress&quot; ) { fn = queue.shift(); startLength--; } if ( fn ) { // Add a progress sentinel to prevent the fx queue from being // automatically dequeued if ( type === &quot;fx&quot; ) { queue.unshift( &quot;inprogress&quot; ); } // Clear up the last queue stop function delete hooks.stop; fn.call( elem, next, hooks ); } if ( !startLength &amp;&amp; hooks ) { hooks.empty.fire(); } }, // Not public - generate a queueHooks object, or return the current one _queueHooks: function( elem, type ) { var key = type + &quot;queueHooks&quot;; return dataPriv.get( elem, key ) || dataPriv.access( elem, key, { empty: jQuery.Callbacks( &quot;once memory&quot; ).add( function() { dataPriv.remove( elem, [ type + &quot;queue&quot;, key ] ); } ) } ); } } ); jQuery.fn.extend( { queue: function( type, data ) { var setter = 2; if ( typeof type !== &quot;string&quot; ) { data = type; type = &quot;fx&quot;; setter--; } if ( arguments.length &lt; setter ) { return jQuery.queue( this[ 0 ], type ); } return data === undefined ? this : this.each( function() { var queue = jQuery.queue( this, type, data ); // Ensure a hooks for this queue jQuery._queueHooks( this, type ); if ( type === &quot;fx&quot; &amp;&amp; queue[ 0 ] !== &quot;inprogress&quot; ) { jQuery.dequeue( this, type ); } } ); }, dequeue: function( type ) { return this.each( function() { jQuery.dequeue( this, type ); } ); }, clearQueue: function( type ) { return this.queue( type || &quot;fx&quot;, [] ); }, // Get a promise resolved when queues of a certain type // are emptied (fx is the type by default) promise: function( type, obj ) { var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function() { if ( !( --count ) ) { defer.resolveWith( elements, [ elements ] ); } }; if ( typeof type !== &quot;string&quot; ) { obj = type; type = undefined; } type = type || &quot;fx&quot;; while ( i-- ) { tmp = dataPriv.get( elements[ i ], type + &quot;queueHooks&quot; ); if ( tmp &amp;&amp; tmp.empty ) { count++; tmp.empty.add( resolve ); } } resolve(); return defer.promise( obj ); } } ); var pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source; var rcssNum = new RegExp( &quot;^(?:([+-])=|)(&quot; + pnum + &quot;)([a-z%]*)$&quot;, &quot;i&quot; ); var cssExpand = [ &quot;Top&quot;, &quot;Right&quot;, &quot;Bottom&quot;, &quot;Left&quot; ]; var isHiddenWithinTree = function( elem, el ) { // isHiddenWithinTree might be called from jQuery#filter function; // in that case, element will be second argument elem = el || elem; // Inline style trumps all return elem.style.display === &quot;none&quot; || elem.style.display === &quot;&quot; &amp;&amp; // Otherwise, check computed style // Support: Firefox &lt;=43 - 45 // Disconnected elements can have computed display: none, so first confirm that elem is // in the document. jQuery.contains( elem.ownerDocument, elem ) &amp;&amp; jQuery.css( elem, &quot;display&quot; ) === &quot;none&quot;; }; var swap = function( elem, options, callback, args ) { var ret, name, old = {}; // Remember the old values, and insert the new ones for ( name in options ) { old[ name ] = elem.style[ name ]; elem.style[ name ] = options[ name ]; } ret = callback.apply( elem, args || [] ); // Revert the old values for ( name in options ) { elem.style[ name ] = old[ name ]; } return ret; }; function adjustCSS( elem, prop, valueParts, tween ) { var adjusted, scale = 1, maxIterations = 20, currentValue = tween ? function() { return tween.cur(); } : function() { return jQuery.css( elem, prop, &quot;&quot; ); }, initial = currentValue(), unit = valueParts &amp;&amp; valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? &quot;&quot; : &quot;px&quot; ), // Starting value computation is required for potential unit mismatches initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== &quot;px&quot; &amp;&amp; +initial ) &amp;&amp; rcssNum.exec( jQuery.css( elem, prop ) ); if ( initialInUnit &amp;&amp; initialInUnit[ 3 ] !== unit ) { // Trust units reported by jQuery.css unit = unit || initialInUnit[ 3 ]; // Make sure we update the tween properties later on valueParts = valueParts || []; // Iteratively approximate from a nonzero starting point initialInUnit = +initial || 1; do { // If previous iteration zeroed out, double until we get *something*. // Use string for doubling so we don't accidentally see scale as unchanged below scale = scale || &quot;.5&quot;; // Adjust and apply initialInUnit = initialInUnit / scale; jQuery.style( elem, prop, initialInUnit + unit ); // Update scale, tolerating zero or NaN from tween.cur() // Break the loop if scale is unchanged or perfect, or if we've just had enough. } while ( scale !== ( scale = currentValue() / initial ) &amp;&amp; scale !== 1 &amp;&amp; --maxIterations ); } if ( valueParts ) { initialInUnit = +initialInUnit || +initial || 0; // Apply relative offset (+=/-=) if specified adjusted = valueParts[ 1 ] ? initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] : +valueParts[ 2 ]; if ( tween ) { tween.unit = unit; tween.start = initialInUnit; tween.end = adjusted; } } return adjusted; } var defaultDisplayMap = {}; function getDefaultDisplay( elem ) { var temp, doc = elem.ownerDocument, nodeName = elem.nodeName, display = defaultDisplayMap[ nodeName ]; if ( display ) { return display; } temp = doc.body.appendChild( doc.createElement( nodeName ) ); display = jQuery.css( temp, &quot;display&quot; ); temp.parentNode.removeChild( temp ); if ( display === &quot;none&quot; ) { display = &quot;block&quot;; } defaultDisplayMap[ nodeName ] = display; return display; } function showHide( elements, show ) { var display, elem, values = [], index = 0, length = elements.length; // Determine new display value for elements that need to change for ( ; index &lt; length; index++ ) { elem = elements[ index ]; if ( !elem.style ) { continue; } display = elem.style.display; if ( show ) { // Since we force visibility upon cascade-hidden elements, an immediate (and slow) // check is required in this first loop unless we have a nonempty display value (either // inline or about-to-be-restored) if ( display === &quot;none&quot; ) { values[ index ] = dataPriv.get( elem, &quot;display&quot; ) || null; if ( !values[ index ] ) { elem.style.display = &quot;&quot;; } } if ( elem.style.display === &quot;&quot; &amp;&amp; isHiddenWithinTree( elem ) ) { values[ index ] = getDefaultDisplay( elem ); } } else { if ( display !== &quot;none&quot; ) { values[ index ] = &quot;none&quot;; // Remember what we're overwriting dataPriv.set( elem, &quot;display&quot;, display ); } } } // Set the display of the elements in a second loop to avoid constant reflow for ( index = 0; index &lt; length; index++ ) { if ( values[ index ] != null ) { elements[ index ].style.display = values[ index ]; } } return elements; } jQuery.fn.extend( { show: function() { return showHide( this, true ); }, hide: function() { return showHide( this ); }, toggle: function( state ) { if ( typeof state === &quot;boolean&quot; ) { return state ? this.show() : this.hide(); } return this.each( function() { if ( isHiddenWithinTree( this ) ) { jQuery( this ).show(); } else { jQuery( this ).hide(); } } ); } } ); var rcheckableType = ( /^(?:checkbox|radio)$/i ); var rtagName = ( /&lt;([a-z][^\\/\\0&gt;\\x20\\t\\r\\n\\f]+)/i ); var rscriptType = ( /^$|\\/(?:java|ecma)script/i ); // We have to close these tags to support XHTML (#13200) var wrapMap = { // Support: IE &lt;=9 only option: [ 1, &quot;&lt;select multiple='multiple'&gt;&quot;, &quot;&lt;/select&gt;&quot; ], // XHTML parsers do not magically insert elements in the // same way that tag soup parsers do. So we cannot shorten // this by omitting &lt;tbody&gt; or other required elements. thead: [ 1, &quot;&lt;table&gt;&quot;, &quot;&lt;/table&gt;&quot; ], col: [ 2, &quot;&lt;table&gt;&lt;colgroup&gt;&quot;, &quot;&lt;/colgroup&gt;&lt;/table&gt;&quot; ], tr: [ 2, &quot;&lt;table&gt;&lt;tbody&gt;&quot;, &quot;&lt;/tbody&gt;&lt;/table&gt;&quot; ], td: [ 3, &quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;, &quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot; ], _default: [ 0, &quot;&quot;, &quot;&quot; ] }; // Support: IE &lt;=9 only wrapMap.optgroup = wrapMap.option; wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead; wrapMap.th = wrapMap.td; function getAll( context, tag ) { // Support: IE &lt;=9 - 11 only // Use typeof to avoid zero-argument method invocation on host objects (#15151) var ret; if ( typeof context.getElementsByTagName !== &quot;undefined&quot; ) { ret = context.getElementsByTagName( tag || &quot;*&quot; ); } else if ( typeof context.querySelectorAll !== &quot;undefined&quot; ) { ret = context.querySelectorAll( tag || &quot;*&quot; ); } else { ret = []; } if ( tag === undefined || tag &amp;&amp; jQuery.nodeName( context, tag ) ) { return jQuery.merge( [ context ], ret ); } return ret; } // Mark scripts as having already been evaluated function setGlobalEval( elems, refElements ) { var i = 0, l = elems.length; for ( ; i &lt; l; i++ ) { dataPriv.set( elems[ i ], &quot;globalEval&quot;, !refElements || dataPriv.get( refElements[ i ], &quot;globalEval&quot; ) ); } } var rhtml = /&lt;|&amp;#?\\w+;/; function buildFragment( elems, context, scripts, selection, ignored ) { var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(), nodes = [], i = 0, l = elems.length; for ( ; i &lt; l; i++ ) { elem = elems[ i ]; if ( elem || elem === 0 ) { // Add nodes directly if ( jQuery.type( elem ) === &quot;object&quot; ) { // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem ); // Convert non-html into a text node } else if ( !rhtml.test( elem ) ) { nodes.push( context.createTextNode( elem ) ); // Convert html into DOM nodes } else { tmp = tmp || fragment.appendChild( context.createElement( &quot;div&quot; ) ); // Deserialize a standard representation tag = ( rtagName.exec( elem ) || [ &quot;&quot;, &quot;&quot; ] )[ 1 ].toLowerCase(); wrap = wrapMap[ tag ] || wrapMap._default; tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ]; // Descend through wrappers to the right content j = wrap[ 0 ]; while ( j-- ) { tmp = tmp.lastChild; } // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( nodes, tmp.childNodes ); // Remember the top-level container tmp = fragment.firstChild; // Ensure the created nodes are orphaned (#12392) tmp.textContent = &quot;&quot;; } } } // Remove wrapper from fragment fragment.textContent = &quot;&quot;; i = 0; while ( ( elem = nodes[ i++ ] ) ) { // Skip elements already in the context collection (trac-4087) if ( selection &amp;&amp; jQuery.inArray( elem, selection ) &gt; -1 ) { if ( ignored ) { ignored.push( elem ); } continue; } contains = jQuery.contains( elem.ownerDocument, elem ); // Append to fragment tmp = getAll( fragment.appendChild( elem ), &quot;script&quot; ); // Preserve script evaluation history if ( contains ) { setGlobalEval( tmp ); } // Capture executables if ( scripts ) { j = 0; while ( ( elem = tmp[ j++ ] ) ) { if ( rscriptType.test( elem.type || &quot;&quot; ) ) { scripts.push( elem ); } } } } return fragment; } ( function() { var fragment = document.createDocumentFragment(), div = fragment.appendChild( document.createElement( &quot;div&quot; ) ), input = document.createElement( &quot;input&quot; ); // Support: Android 4.0 - 4.3 only // Check state lost if the name is set (#11217) // Support: Windows Web Apps (WWA) // `name` and `type` must use .setAttribute for WWA (#14901) input.setAttribute( &quot;type&quot;, &quot;radio&quot; ); input.setAttribute( &quot;checked&quot;, &quot;checked&quot; ); input.setAttribute( &quot;name&quot;, &quot;t&quot; ); div.appendChild( input ); // Support: Android &lt;=4.1 only // Older WebKit doesn't clone checked state correctly in fragments support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked; // Support: IE &lt;=11 only // Make sure textarea (and checkbox) defaultValue is properly cloned div.innerHTML = &quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;; support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue; } )(); var documentElement = document.documentElement; var rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, rtypenamespace = /^([^.]*)(?:\\.(.+)|)/; function returnTrue() { return true; } function returnFalse() { return false; } // Support: IE &lt;=9 only // See #13393 for more info function safeActiveElement() { try { return document.activeElement; } catch ( err ) { } } function on( elem, types, selector, data, fn, one ) { var origFn, type; // Types can be a map of types/handlers if ( typeof types === &quot;object&quot; ) { // ( types-Object, selector, data ) if ( typeof selector !== &quot;string&quot; ) { // ( types-Object, data ) data = data || selector; selector = undefined; } for ( type in types ) { on( elem, type, selector, data, types[ type ], one ); } return elem; } if ( data == null &amp;&amp; fn == null ) { // ( types, fn ) fn = selector; data = selector = undefined; } else if ( fn == null ) { if ( typeof selector === &quot;string&quot; ) { // ( types, selector, fn ) fn = data; data = undefined; } else { // ( types, data, fn ) fn = data; data = selector; selector = undefined; } } if ( fn === false ) { fn = returnFalse; } else if ( !fn ) { return elem; } if ( one === 1 ) { origFn = fn; fn = function( event ) { // Can use an empty set, since event contains the info jQuery().off( event ); return origFn.apply( this, arguments ); }; // Use same guid so caller can remove using origFn fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ ); } return elem.each( function() { jQuery.event.add( this, types, fn, data, selector ); } ); } /* * Helper functions for managing events -- not part of the public interface. * Props to Dean Edwards' addEvent library for many of the ideas. */ jQuery.event = { global: {}, add: function( elem, types, handler, data, selector ) { var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.get( elem ); // Don't attach events to noData or text/comment nodes (but allow plain objects) if ( !elemData ) { return; } // Caller can pass in an object of custom data in lieu of the handler if ( handler.handler ) { handleObjIn = handler; handler = handleObjIn.handler; selector = handleObjIn.selector; } // Ensure that invalid selectors throw exceptions at attach time // Evaluate against documentElement in case elem is a non-element node (e.g., document) if ( selector ) { jQuery.find.matchesSelector( documentElement, selector ); } // Make sure that the handler has a unique ID, used to find/remove it later if ( !handler.guid ) { handler.guid = jQuery.guid++; } // Init the element's event structure and main handler, if this is the first if ( !( events = elemData.events ) ) { events = elemData.events = {}; } if ( !( eventHandle = elemData.handle ) ) { eventHandle = elemData.handle = function( e ) { // Discard the second event of a jQuery.event.trigger() and // when an event is called after a page has unloaded return typeof jQuery !== &quot;undefined&quot; &amp;&amp; jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply( elem, arguments ) : undefined; }; } // Handle multiple events separated by a space types = ( types || &quot;&quot; ).match( rnothtmlwhite ) || [ &quot;&quot; ]; t = types.length; while ( t-- ) { tmp = rtypenamespace.exec( types[ t ] ) || []; type = origType = tmp[ 1 ]; namespaces = ( tmp[ 2 ] || &quot;&quot; ).split( &quot;.&quot; ).sort(); // There *must* be a type, no attaching namespace-only handlers if ( !type ) { continue; } // If event changes its type, use the special event handlers for the changed type special = jQuery.event.special[ type ] || {}; // If selector defined, determine special event api type, otherwise given type type = ( selector ? special.delegateType : special.bindType ) || type; // Update special based on newly reset type special = jQuery.event.special[ type ] || {}; // handleObj is passed to all event handlers handleObj = jQuery.extend( { type: type, origType: origType, data: data, handler: handler, guid: handler.guid, selector: selector, needsContext: selector &amp;&amp; jQuery.expr.match.needsContext.test( selector ), namespace: namespaces.join( &quot;.&quot; ) }, handleObjIn ); // Init the event handler queue if we're the first if ( !( handlers = events[ type ] ) ) { handlers = events[ type ] = []; handlers.delegateCount = 0; // Only use addEventListener if the special events handler returns false if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) { if ( elem.addEventListener ) { elem.addEventListener( type, eventHandle ); } } } if ( special.add ) { special.add.call( elem, handleObj ); if ( !handleObj.handler.guid ) { handleObj.handler.guid = handler.guid; } } // Add to the element's handler list, delegates in front if ( selector ) { handlers.splice( handlers.delegateCount++, 0, handleObj ); } else { handlers.push( handleObj ); } // Keep track of which events have ever been used, for event optimization jQuery.event.global[ type ] = true; } }, // Detach an event or set of events from an element remove: function( elem, types, handler, selector, mappedTypes ) { var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.hasData( elem ) &amp;&amp; dataPriv.get( elem ); if ( !elemData || !( events = elemData.events ) ) { return; } // Once for each type.namespace in types; type may be omitted types = ( types || &quot;&quot; ).match( rnothtmlwhite ) || [ &quot;&quot; ]; t = types.length; while ( t-- ) { tmp = rtypenamespace.exec( types[ t ] ) || []; type = origType = tmp[ 1 ]; namespaces = ( tmp[ 2 ] || &quot;&quot; ).split( &quot;.&quot; ).sort(); // Unbind all events (on this namespace, if provided) for the element if ( !type ) { for ( type in events ) { jQuery.event.remove( elem, type + types[ t ], handler, selector, true ); } continue; } special = jQuery.event.special[ type ] || {}; type = ( selector ? special.delegateType : special.bindType ) || type; handlers = events[ type ] || []; tmp = tmp[ 2 ] &amp;&amp; new RegExp( &quot;(^|\\\\.)&quot; + namespaces.join( &quot;\\\\.(?:.*\\\\.|)&quot; ) + &quot;(\\\\.|$)&quot; ); // Remove matching events origCount = j = handlers.length; while ( j-- ) { handleObj = handlers[ j ]; if ( ( mappedTypes || origType === handleObj.origType ) &amp;&amp; ( !handler || handler.guid === handleObj.guid ) &amp;&amp; ( !tmp || tmp.test( handleObj.namespace ) ) &amp;&amp; ( !selector || selector === handleObj.selector || selector === &quot;**&quot; &amp;&amp; handleObj.selector ) ) { handlers.splice( j, 1 ); if ( handleObj.selector ) { handlers.delegateCount--; } if ( special.remove ) { special.remove.call( elem, handleObj ); } } } // Remove generic event handler if we removed something and no more handlers exist // (avoids potential for endless recursion during removal of special event handlers) if ( origCount &amp;&amp; !handlers.length ) { if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) { jQuery.removeEvent( elem, type, elemData.handle ); } delete events[ type ]; } } // Remove data and the expando if it's no longer used if ( jQuery.isEmptyObject( events ) ) { dataPriv.remove( elem, &quot;handle events&quot; ); } }, dispatch: function( nativeEvent ) { // Make a writable jQuery.Event from the native event object var event = jQuery.event.fix( nativeEvent ); var i, j, ret, matched, handleObj, handlerQueue, args = new Array( arguments.length ), handlers = ( dataPriv.get( this, &quot;events&quot; ) || {} )[ event.type ] || [], special = jQuery.event.special[ event.type ] || {}; // Use the fix-ed jQuery.Event rather than the (read-only) native event args[ 0 ] = event; for ( i = 1; i &lt; arguments.length; i++ ) { args[ i ] = arguments[ i ]; } event.delegateTarget = this; // Call the preDispatch hook for the mapped type, and let it bail if desired if ( special.preDispatch &amp;&amp; special.preDispatch.call( this, event ) === false ) { return; } // Determine handlers handlerQueue = jQuery.event.handlers.call( this, event, handlers ); // Run delegates first; they may want to stop propagation beneath us i = 0; while ( ( matched = handlerQueue[ i++ ] ) &amp;&amp; !event.isPropagationStopped() ) { event.currentTarget = matched.elem; j = 0; while ( ( handleObj = matched.handlers[ j++ ] ) &amp;&amp; !event.isImmediatePropagationStopped() ) { // Triggered event must either 1) have no namespace, or 2) have namespace(s) // a subset or equal to those in the bound event (both can have no namespace). if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) { event.handleObj = handleObj; event.data = handleObj.data; ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle || handleObj.handler ).apply( matched.elem, args ); if ( ret !== undefined ) { if ( ( event.result = ret ) === false ) { event.preventDefault(); event.stopPropagation(); } } } } } // Call the postDispatch hook for the mapped type if ( special.postDispatch ) { special.postDispatch.call( this, event ); } return event.result; }, handlers: function( event, handlers ) { var i, handleObj, sel, matchedHandlers, matchedSelectors, handlerQueue = [], delegateCount = handlers.delegateCount, cur = event.target; // Find delegate handlers if ( delegateCount &amp;&amp; // Support: IE &lt;=9 // Black-hole SVG &lt;use&gt; instance trees (trac-13180) cur.nodeType &amp;&amp; // Support: Firefox &lt;=42 // Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861) // https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click // Support: IE 11 only // ...but not arrow key &quot;clicks&quot; of radio inputs, which can have `button` -1 (gh-2343) !( event.type === &quot;click&quot; &amp;&amp; event.button &gt;= 1 ) ) { for ( ; cur !== this; cur = cur.parentNode || this ) { // Don't check non-elements (#13208) // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764) if ( cur.nodeType === 1 &amp;&amp; !( event.type === &quot;click&quot; &amp;&amp; cur.disabled === true ) ) { matchedHandlers = []; matchedSelectors = {}; for ( i = 0; i &lt; delegateCount; i++ ) { handleObj = handlers[ i ]; // Don't conflict with Object.prototype properties (#13203) sel = handleObj.selector + &quot; &quot;; if ( matchedSelectors[ sel ] === undefined ) { matchedSelectors[ sel ] = handleObj.needsContext ? jQuery( sel, this ).index( cur ) &gt; -1 : jQuery.find( sel, this, null, [ cur ] ).length; } if ( matchedSelectors[ sel ] ) { matchedHandlers.push( handleObj ); } } if ( matchedHandlers.length ) { handlerQueue.push( { elem: cur, handlers: matchedHandlers } ); } } } } // Add the remaining (directly-bound) handlers cur = this; if ( delegateCount &lt; handlers.length ) { handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } ); } return handlerQueue; }, addProp: function( name, hook ) { Object.defineProperty( jQuery.Event.prototype, name, { enumerable: true, configurable: true, get: jQuery.isFunction( hook ) ? function() { if ( this.originalEvent ) { return hook( this.originalEvent ); } } : function() { if ( this.originalEvent ) { return this.originalEvent[ name ]; } }, set: function( value ) { Object.defineProperty( this, name, { enumerable: true, configurable: true, writable: true, value: value } ); } } ); }, fix: function( originalEvent ) { return originalEvent[ jQuery.expando ] ? originalEvent : new jQuery.Event( originalEvent ); }, special: { load: { // Prevent triggered image.load events from bubbling to window.load noBubble: true }, focus: { // Fire native event if possible so blur/focus sequence is correct trigger: function() { if ( this !== safeActiveElement() &amp;&amp; this.focus ) { this.focus(); return false; } }, delegateType: &quot;focusin&quot; }, blur: { trigger: function() { if ( this === safeActiveElement() &amp;&amp; this.blur ) { this.blur(); return false; } }, delegateType: &quot;focusout&quot; }, click: { // For checkbox, fire native event so checked state will be right trigger: function() { if ( this.type === &quot;checkbox&quot; &amp;&amp; this.click &amp;&amp; jQuery.nodeName( this, &quot;input&quot; ) ) { this.click(); return false; } }, // For cross-browser consistency, don't fire native .click() on links _default: function( event ) { return jQuery.nodeName( event.target, &quot;a&quot; ); } }, beforeunload: { postDispatch: function( event ) { // Support: Firefox 20+ // Firefox doesn't alert if the returnValue field is not set. if ( event.result !== undefined &amp;&amp; event.originalEvent ) { event.originalEvent.returnValue = event.result; } } } } }; jQuery.removeEvent = function( elem, type, handle ) { // This &quot;if&quot; is needed for plain objects if ( elem.removeEventListener ) { elem.removeEventListener( type, handle ); } }; jQuery.Event = function( src, props ) { // Allow instantiation without the 'new' keyword if ( !( this instanceof jQuery.Event ) ) { return new jQuery.Event( src, props ); } // Event object if ( src &amp;&amp; src.type ) { this.originalEvent = src; this.type = src.type; // Events bubbling up the document may have been marked as prevented // by a handler lower down the tree; reflect the correct value. this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined &amp;&amp; // Support: Android &lt;=2.3 only src.returnValue === false ? returnTrue : returnFalse; // Create target properties // Support: Safari &lt;=6 - 7 only // Target should not be a text node (#504, #13143) this.target = ( src.target &amp;&amp; src.target.nodeType === 3 ) ? src.target.parentNode : src.target; this.currentTarget = src.currentTarget; this.relatedTarget = src.relatedTarget; // Event type } else { this.type = src; } // Put explicitly provided properties onto the event object if ( props ) { jQuery.extend( this, props ); } // Create a timestamp if incoming event doesn't have one this.timeStamp = src &amp;&amp; src.timeStamp || jQuery.now(); // Mark it as fixed this[ jQuery.expando ] = true; }; // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding // https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html jQuery.Event.prototype = { constructor: jQuery.Event, isDefaultPrevented: returnFalse, isPropagationStopped: returnFalse, isImmediatePropagationStopped: returnFalse, isSimulated: false, preventDefault: function() { var e = this.originalEvent; this.isDefaultPrevented = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.preventDefault(); } }, stopPropagation: function() { var e = this.originalEvent; this.isPropagationStopped = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.stopPropagation(); } }, stopImmediatePropagation: function() { var e = this.originalEvent; this.isImmediatePropagationStopped = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.stopImmediatePropagation(); } this.stopPropagation(); } }; // Includes all common event props including KeyEvent and MouseEvent specific props jQuery.each( { altKey: true, bubbles: true, cancelable: true, changedTouches: true, ctrlKey: true, detail: true, eventPhase: true, metaKey: true, pageX: true, pageY: true, shiftKey: true, view: true, &quot;char&quot;: true, charCode: true, key: true, keyCode: true, button: true, buttons: true, clientX: true, clientY: true, offsetX: true, offsetY: true, pointerId: true, pointerType: true, screenX: true, screenY: true, targetTouches: true, toElement: true, touches: true, which: function( event ) { var button = event.button; // Add which for key events if ( event.which == null &amp;&amp; rkeyEvent.test( event.type ) ) { return event.charCode != null ? event.charCode : event.keyCode; } // Add which for click: 1 === left; 2 === middle; 3 === right if ( !event.which &amp;&amp; button !== undefined &amp;&amp; rmouseEvent.test( event.type ) ) { if ( button &amp; 1 ) { return 1; } if ( button &amp; 2 ) { return 3; } if ( button &amp; 4 ) { return 2; } return 0; } return event.which; } }, jQuery.event.addProp ); // Create mouseenter/leave events using mouseover/out and event-time checks // so that event delegation works in jQuery. // Do the same for pointerenter/pointerleave and pointerover/pointerout // // Support: Safari 7 only // Safari sends mouseenter too often; see: // https://bugs.chromium.org/p/chromium/issues/detail?id=470258 // for the description of the bug (it existed in older Chrome versions as well). jQuery.each( { mouseenter: &quot;mouseover&quot;, mouseleave: &quot;mouseout&quot;, pointerenter: &quot;pointerover&quot;, pointerleave: &quot;pointerout&quot; }, function( orig, fix ) { jQuery.event.special[ orig ] = { delegateType: fix, bindType: fix, handle: function( event ) { var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj; // For mouseenter/leave call the handler if related is outside the target. // NB: No relatedTarget if the mouse left/entered the browser window if ( !related || ( related !== target &amp;&amp; !jQuery.contains( target, related ) ) ) { event.type = handleObj.origType; ret = handleObj.handler.apply( this, arguments ); event.type = fix; } return ret; } }; } ); jQuery.fn.extend( { on: function( types, selector, data, fn ) { return on( this, types, selector, data, fn ); }, one: function( types, selector, data, fn ) { return on( this, types, selector, data, fn, 1 ); }, off: function( types, selector, fn ) { var handleObj, type; if ( types &amp;&amp; types.preventDefault &amp;&amp; types.handleObj ) { // ( event ) dispatched jQuery.Event handleObj = types.handleObj; jQuery( types.delegateTarget ).off( handleObj.namespace ? handleObj.origType + &quot;.&quot; + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler ); return this; } if ( typeof types === &quot;object&quot; ) { // ( types-object [, selector] ) for ( type in types ) { this.off( type, selector, types[ type ] ); } return this; } if ( selector === false || typeof selector === &quot;function&quot; ) { // ( types [, fn] ) fn = selector; selector = undefined; } if ( fn === false ) { fn = returnFalse; } return this.each( function() { jQuery.event.remove( this, types, fn, selector ); } ); } } ); var /* eslint-disable max-len */ // See https://github.com/eslint/eslint/issues/3229 rxhtmlTag = /&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0&gt;\\x20\\t\\r\\n\\f]*)[^&gt;]*)\\/&gt;/gi, /* eslint-enable */ // Support: IE &lt;=10 - 11, Edge 12 - 13 // In IE/Edge using regex groups here causes severe slowdowns. // See https://connect.microsoft.com/IE/feedback/details/1736512/ rnoInnerhtml = /&lt;script|&lt;style|&lt;link/i, // checked=&quot;checked&quot; or checked rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i, rscriptTypeMasked = /^true\\/(.*)/, rcleanScript = /^\\s*&lt;!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)&gt;\\s*$/g; function manipulationTarget( elem, content ) { if ( jQuery.nodeName( elem, &quot;table&quot; ) &amp;&amp; jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, &quot;tr&quot; ) ) { return elem.getElementsByTagName( &quot;tbody&quot; )[ 0 ] || elem; } return elem; } // Replace/restore the type attribute of script elements for safe DOM manipulation function disableScript( elem ) { elem.type = ( elem.getAttribute( &quot;type&quot; ) !== null ) + &quot;/&quot; + elem.type; return elem; } function restoreScript( elem ) { var match = rscriptTypeMasked.exec( elem.type ); if ( match ) { elem.type = match[ 1 ]; } else { elem.removeAttribute( &quot;type&quot; ); } return elem; } function cloneCopyEvent( src, dest ) { var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events; if ( dest.nodeType !== 1 ) { return; } // 1. Copy private data: events, handlers, etc. if ( dataPriv.hasData( src ) ) { pdataOld = dataPriv.access( src ); pdataCur = dataPriv.set( dest, pdataOld ); events = pdataOld.events; if ( events ) { delete pdataCur.handle; pdataCur.events = {}; for ( type in events ) { for ( i = 0, l = events[ type ].length; i &lt; l; i++ ) { jQuery.event.add( dest, type, events[ type ][ i ] ); } } } } // 2. Copy user data if ( dataUser.hasData( src ) ) { udataOld = dataUser.access( src ); udataCur = jQuery.extend( {}, udataOld ); dataUser.set( dest, udataCur ); } } // Fix IE bugs, see support tests function fixInput( src, dest ) { var nodeName = dest.nodeName.toLowerCase(); // Fails to persist the checked state of a cloned checkbox or radio button. if ( nodeName === &quot;input&quot; &amp;&amp; rcheckableType.test( src.type ) ) { dest.checked = src.checked; // Fails to return the selected option to the default selected state when cloning options } else if ( nodeName === &quot;input&quot; || nodeName === &quot;textarea&quot; ) { dest.defaultValue = src.defaultValue; } } function domManip( collection, args, callback, ignored ) { // Flatten any nested arrays args = concat.apply( [], args ); var fragment, first, scripts, hasScripts, node, doc, i = 0, l = collection.length, iNoClone = l - 1, value = args[ 0 ], isFunction = jQuery.isFunction( value ); // We can't cloneNode fragments that contain checked, in WebKit if ( isFunction || ( l &gt; 1 &amp;&amp; typeof value === &quot;string&quot; &amp;&amp; !support.checkClone &amp;&amp; rchecked.test( value ) ) ) { return collection.each( function( index ) { var self = collection.eq( index ); if ( isFunction ) { args[ 0 ] = value.call( this, index, self.html() ); } domManip( self, args, callback, ignored ); } ); } if ( l ) { fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored ); first = fragment.firstChild; if ( fragment.childNodes.length === 1 ) { fragment = first; } // Require either new content or an interest in ignored elements to invoke the callback if ( first || ignored ) { scripts = jQuery.map( getAll( fragment, &quot;script&quot; ), disableScript ); hasScripts = scripts.length; // Use the original fragment for the last item // instead of the first because it can end up // being emptied incorrectly in certain situations (#8070). for ( ; i &lt; l; i++ ) { node = fragment; if ( i !== iNoClone ) { node = jQuery.clone( node, true, true ); // Keep references to cloned scripts for later restoration if ( hasScripts ) { // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( scripts, getAll( node, &quot;script&quot; ) ); } } callback.call( collection[ i ], node, i ); } if ( hasScripts ) { doc = scripts[ scripts.length - 1 ].ownerDocument; // Reenable scripts jQuery.map( scripts, restoreScript ); // Evaluate executable scripts on first document insertion for ( i = 0; i &lt; hasScripts; i++ ) { node = scripts[ i ]; if ( rscriptType.test( node.type || &quot;&quot; ) &amp;&amp; !dataPriv.access( node, &quot;globalEval&quot; ) &amp;&amp; jQuery.contains( doc, node ) ) { if ( node.src ) { // Optional AJAX dependency, but won't run scripts if not present if ( jQuery._evalUrl ) { jQuery._evalUrl( node.src ); } } else { DOMEval( node.textContent.replace( rcleanScript, &quot;&quot; ), doc ); } } } } } } return collection; } function remove( elem, selector, keepData ) { var node, nodes = selector ? jQuery.filter( selector, elem ) : elem, i = 0; for ( ; ( node = nodes[ i ] ) != null; i++ ) { if ( !keepData &amp;&amp; node.nodeType === 1 ) { jQuery.cleanData( getAll( node ) ); } if ( node.parentNode ) { if ( keepData &amp;&amp; jQuery.contains( node.ownerDocument, node ) ) { setGlobalEval( getAll( node, &quot;script&quot; ) ); } node.parentNode.removeChild( node ); } } return elem; } jQuery.extend( { htmlPrefilter: function( html ) { return html.replace( rxhtmlTag, &quot;&lt;$1&gt;&lt;/$2&gt;&quot; ); }, clone: function( elem, dataAndEvents, deepDataAndEvents ) { var i, l, srcElements, destElements, clone = elem.cloneNode( true ), inPage = jQuery.contains( elem.ownerDocument, elem ); // Fix IE cloning issues if ( !support.noCloneChecked &amp;&amp; ( elem.nodeType === 1 || elem.nodeType === 11 ) &amp;&amp; !jQuery.isXMLDoc( elem ) ) { // We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2 destElements = getAll( clone ); srcElements = getAll( elem ); for ( i = 0, l = srcElements.length; i &lt; l; i++ ) { fixInput( srcElements[ i ], destElements[ i ] ); } } // Copy the events from the original to the clone if ( dataAndEvents ) { if ( deepDataAndEvents ) { srcElements = srcElements || getAll( elem ); destElements = destElements || getAll( clone ); for ( i = 0, l = srcElements.length; i &lt; l; i++ ) { cloneCopyEvent( srcElements[ i ], destElements[ i ] ); } } else { cloneCopyEvent( elem, clone ); } } // Preserve script evaluation history destElements = getAll( clone, &quot;script&quot; ); if ( destElements.length &gt; 0 ) { setGlobalEval( destElements, !inPage &amp;&amp; getAll( elem, &quot;script&quot; ) ); } // Return the cloned set return clone; }, cleanData: function( elems ) { var data, elem, type, special = jQuery.event.special, i = 0; for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) { if ( acceptData( elem ) ) { if ( ( data = elem[ dataPriv.expando ] ) ) { if ( data.events ) { for ( type in data.events ) { if ( special[ type ] ) { jQuery.event.remove( elem, type ); // This is a shortcut to avoid jQuery.event.remove's overhead } else { jQuery.removeEvent( elem, type, data.handle ); } } } // Support: Chrome &lt;=35 - 45+ // Assign undefined instead of using delete, see Data#remove elem[ dataPriv.expando ] = undefined; } if ( elem[ dataUser.expando ] ) { // Support: Chrome &lt;=35 - 45+ // Assign undefined instead of using delete, see Data#remove elem[ dataUser.expando ] = undefined; } } } } } ); jQuery.fn.extend( { detach: function( selector ) { return remove( this, selector, true ); }, remove: function( selector ) { return remove( this, selector ); }, text: function( value ) { return access( this, function( value ) { return value === undefined ? jQuery.text( this ) : this.empty().each( function() { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { this.textContent = value; } } ); }, null, value, arguments.length ); }, append: function() { return domManip( this, arguments, function( elem ) { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { var target = manipulationTarget( this, elem ); target.appendChild( elem ); } } ); }, prepend: function() { return domManip( this, arguments, function( elem ) { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { var target = manipulationTarget( this, elem ); target.insertBefore( elem, target.firstChild ); } } ); }, before: function() { return domManip( this, arguments, function( elem ) { if ( this.parentNode ) { this.parentNode.insertBefore( elem, this ); } } ); }, after: function() { return domManip( this, arguments, function( elem ) { if ( this.parentNode ) { this.parentNode.insertBefore( elem, this.nextSibling ); } } ); }, empty: function() { var elem, i = 0; for ( ; ( elem = this[ i ] ) != null; i++ ) { if ( elem.nodeType === 1 ) { // Prevent memory leaks jQuery.cleanData( getAll( elem, false ) ); // Remove any remaining nodes elem.textContent = &quot;&quot;; } } return this; }, clone: function( dataAndEvents, deepDataAndEvents ) { dataAndEvents = dataAndEvents == null ? false : dataAndEvents; deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents; return this.map( function() { return jQuery.clone( this, dataAndEvents, deepDataAndEvents ); } ); }, html: function( value ) { return access( this, function( value ) { var elem = this[ 0 ] || {}, i = 0, l = this.length; if ( value === undefined &amp;&amp; elem.nodeType === 1 ) { return elem.innerHTML; } // See if we can take a shortcut and just use innerHTML if ( typeof value === &quot;string&quot; &amp;&amp; !rnoInnerhtml.test( value ) &amp;&amp; !wrapMap[ ( rtagName.exec( value ) || [ &quot;&quot;, &quot;&quot; ] )[ 1 ].toLowerCase() ] ) { value = jQuery.htmlPrefilter( value ); try { for ( ; i &lt; l; i++ ) { elem = this[ i ] || {}; // Remove element nodes and prevent memory leaks if ( elem.nodeType === 1 ) { jQuery.cleanData( getAll( elem, false ) ); elem.innerHTML = value; } } elem = 0; // If using innerHTML throws an exception, use the fallback method } catch ( e ) {} } if ( elem ) { this.empty().append( value ); } }, null, value, arguments.length ); }, replaceWith: function() { var ignored = []; // Make the changes, replacing each non-ignored context element with the new content return domManip( this, arguments, function( elem ) { var parent = this.parentNode; if ( jQuery.inArray( this, ignored ) &lt; 0 ) { jQuery.cleanData( getAll( this ) ); if ( parent ) { parent.replaceChild( elem, this ); } } // Force callback invocation }, ignored ); } } ); jQuery.each( { appendTo: &quot;append&quot;, prependTo: &quot;prepend&quot;, insertBefore: &quot;before&quot;, insertAfter: &quot;after&quot;, replaceAll: &quot;replaceWith&quot; }, function( name, original ) { jQuery.fn[ name ] = function( selector ) { var elems, ret = [], insert = jQuery( selector ), last = insert.length - 1, i = 0; for ( ; i &lt;= last; i++ ) { elems = i === last ? this : this.clone( true ); jQuery( insert[ i ] )[ original ]( elems ); // Support: Android &lt;=4.0 only, PhantomJS 1 only // .get() because push.apply(_, arraylike) throws on ancient WebKit push.apply( ret, elems.get() ); } return this.pushStack( ret ); }; } ); var rmargin = ( /^margin/ ); var rnumnonpx = new RegExp( &quot;^(&quot; + pnum + &quot;)(?!px)[a-z%]+$&quot;, &quot;i&quot; ); var getStyles = function( elem ) { // Support: IE &lt;=11 only, Firefox &lt;=30 (#15098, #14150) // IE throws on elements created in popups // FF meanwhile throws on frame elements through &quot;defaultView.getComputedStyle&quot; var view = elem.ownerDocument.defaultView; if ( !view || !view.opener ) { view = window; } return view.getComputedStyle( elem ); }; ( function() { // Executing both pixelPosition &amp; boxSizingReliable tests require only one layout // so they're executed at the same time to save the second computation. function computeStyleTests() { // This is a singleton, we need to execute it only once if ( !div ) { return; } div.style.cssText = &quot;box-sizing:border-box;&quot; + &quot;position:relative;display:block;&quot; + &quot;margin:auto;border:1px;padding:1px;&quot; + &quot;top:1%;width:50%&quot;; div.innerHTML = &quot;&quot;; documentElement.appendChild( container ); var divStyle = window.getComputedStyle( div ); pixelPositionVal = divStyle.top !== &quot;1%&quot;; // Support: Android 4.0 - 4.3 only, Firefox &lt;=3 - 44 reliableMarginLeftVal = divStyle.marginLeft === &quot;2px&quot;; boxSizingReliableVal = divStyle.width === &quot;4px&quot;; // Support: Android 4.0 - 4.3 only // Some styles come back with percentage values, even though they shouldn't div.style.marginRight = &quot;50%&quot;; pixelMarginRightVal = divStyle.marginRight === &quot;4px&quot;; documentElement.removeChild( container ); // Nullify the div so it wouldn't be stored in the memory and // it will also be a sign that checks already performed div = null; } var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal, container = document.createElement( &quot;div&quot; ), div = document.createElement( &quot;div&quot; ); // Finish early in limited (non-browser) environments if ( !div.style ) { return; } // Support: IE &lt;=9 - 11 only // Style of cloned element affects source element cloned (#8908) div.style.backgroundClip = &quot;content-box&quot;; div.cloneNode( true ).style.backgroundClip = &quot;&quot;; support.clearCloneStyle = div.style.backgroundClip === &quot;content-box&quot;; container.style.cssText = &quot;border:0;width:8px;height:0;top:0;left:-9999px;&quot; + &quot;padding:0;margin-top:1px;position:absolute&quot;; container.appendChild( div ); jQuery.extend( support, { pixelPosition: function() { computeStyleTests(); return pixelPositionVal; }, boxSizingReliable: function() { computeStyleTests(); return boxSizingReliableVal; }, pixelMarginRight: function() { computeStyleTests(); return pixelMarginRightVal; }, reliableMarginLeft: function() { computeStyleTests(); return reliableMarginLeftVal; } } ); } )(); function curCSS( elem, name, computed ) { var width, minWidth, maxWidth, ret, style = elem.style; computed = computed || getStyles( elem ); // Support: IE &lt;=9 only // getPropertyValue is only needed for .css('filter') (#12537) if ( computed ) { ret = computed.getPropertyValue( name ) || computed[ name ]; if ( ret === &quot;&quot; &amp;&amp; !jQuery.contains( elem.ownerDocument, elem ) ) { ret = jQuery.style( elem, name ); } // A tribute to the &quot;awesome hack by Dean Edwards&quot; // Android Browser returns percentage for some values, // but width seems to be reliably pixels. // This is against the CSSOM draft spec: // https://drafts.csswg.org/cssom/#resolved-values if ( !support.pixelMarginRight() &amp;&amp; rnumnonpx.test( ret ) &amp;&amp; rmargin.test( name ) ) { // Remember the original values width = style.width; minWidth = style.minWidth; maxWidth = style.maxWidth; // Put in the new values to get a computed value out style.minWidth = style.maxWidth = style.width = ret; ret = computed.width; // Revert the changed values style.width = width; style.minWidth = minWidth; style.maxWidth = maxWidth; } } return ret !== undefined ? // Support: IE &lt;=9 - 11 only // IE returns zIndex value as an integer. ret + &quot;&quot; : ret; } function addGetHookIf( conditionFn, hookFn ) { // Define the hook, we'll check on the first run if it's really needed. return { get: function() { if ( conditionFn() ) { // Hook not needed (or it's not possible to use it due // to missing dependency), remove it. delete this.get; return; } // Hook needed; redefine it so that the support test is not executed again. return ( this.get = hookFn ).apply( this, arguments ); } }; } var // Swappable if display is none or starts with table // except &quot;table&quot;, &quot;table-cell&quot;, or &quot;table-caption&quot; // See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display rdisplayswap = /^(none|table(?!-c[ea]).+)/, cssShow = { position: &quot;absolute&quot;, visibility: &quot;hidden&quot;, display: &quot;block&quot; }, cssNormalTransform = { letterSpacing: &quot;0&quot;, fontWeight: &quot;400&quot; }, cssPrefixes = [ &quot;Webkit&quot;, &quot;Moz&quot;, &quot;ms&quot; ], emptyStyle = document.createElement( &quot;div&quot; ).style; // Return a css property mapped to a potentially vendor prefixed property function vendorPropName( name ) { // Shortcut for names that are not vendor prefixed if ( name in emptyStyle ) { return name; } // Check for vendor prefixed names var capName = name[ 0 ].toUpperCase() + name.slice( 1 ), i = cssPrefixes.length; while ( i-- ) { name = cssPrefixes[ i ] + capName; if ( name in emptyStyle ) { return name; } } } function setPositiveNumber( elem, value, subtract ) { // Any relative (+/-) values have already been // normalized at this point var matches = rcssNum.exec( value ); return matches ? // Guard against undefined &quot;subtract&quot;, e.g., when used as in cssHooks Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || &quot;px&quot; ) : value; } function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) { var i, val = 0; // If we already have the right measurement, avoid augmentation if ( extra === ( isBorderBox ? &quot;border&quot; : &quot;content&quot; ) ) { i = 4; // Otherwise initialize for horizontal or vertical properties } else { i = name === &quot;width&quot; ? 1 : 0; } for ( ; i &lt; 4; i += 2 ) { // Both box models exclude margin, so add it if we want it if ( extra === &quot;margin&quot; ) { val += jQuery.css( elem, extra + cssExpand[ i ], true, styles ); } if ( isBorderBox ) { // border-box includes padding, so remove it if we want content if ( extra === &quot;content&quot; ) { val -= jQuery.css( elem, &quot;padding&quot; + cssExpand[ i ], true, styles ); } // At this point, extra isn't border nor margin, so remove border if ( extra !== &quot;margin&quot; ) { val -= jQuery.css( elem, &quot;border&quot; + cssExpand[ i ] + &quot;Width&quot;, true, styles ); } } else { // At this point, extra isn't content, so add padding val += jQuery.css( elem, &quot;padding&quot; + cssExpand[ i ], true, styles ); // At this point, extra isn't content nor padding, so add border if ( extra !== &quot;padding&quot; ) { val += jQuery.css( elem, &quot;border&quot; + cssExpand[ i ] + &quot;Width&quot;, true, styles ); } } } return val; } function getWidthOrHeight( elem, name, extra ) { // Start with offset property, which is equivalent to the border-box value var val, valueIsBorderBox = true, styles = getStyles( elem ), isBorderBox = jQuery.css( elem, &quot;boxSizing&quot;, false, styles ) === &quot;border-box&quot;; // Support: IE &lt;=11 only // Running getBoundingClientRect on a disconnected node // in IE throws an error. if ( elem.getClientRects().length ) { val = elem.getBoundingClientRect()[ name ]; } // Some non-html elements return undefined for offsetWidth, so check for null/undefined // svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285 // MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668 if ( val &lt;= 0 || val == null ) { // Fall back to computed then uncomputed css if necessary val = curCSS( elem, name, styles ); if ( val &lt; 0 || val == null ) { val = elem.style[ name ]; } // Computed unit is not pixels. Stop here and return. if ( rnumnonpx.test( val ) ) { return val; } // Check for style in case a browser which returns unreliable values // for getComputedStyle silently falls back to the reliable elem.style valueIsBorderBox = isBorderBox &amp;&amp; ( support.boxSizingReliable() || val === elem.style[ name ] ); // Normalize &quot;&quot;, auto, and prepare for extra val = parseFloat( val ) || 0; } // Use the active box-sizing model to add/subtract irrelevant styles return ( val + augmentWidthOrHeight( elem, name, extra || ( isBorderBox ? &quot;border&quot; : &quot;content&quot; ), valueIsBorderBox, styles ) ) + &quot;px&quot;; } jQuery.extend( { // Add in style property hooks for overriding the default // behavior of getting and setting a style property cssHooks: { opacity: { get: function( elem, computed ) { if ( computed ) { // We should always get a number back from opacity var ret = curCSS( elem, &quot;opacity&quot; ); return ret === &quot;&quot; ? &quot;1&quot; : ret; } } } }, // Don't automatically add &quot;px&quot; to these possibly-unitless properties cssNumber: { &quot;animationIterationCount&quot;: true, &quot;columnCount&quot;: true, &quot;fillOpacity&quot;: true, &quot;flexGrow&quot;: true, &quot;flexShrink&quot;: true, &quot;fontWeight&quot;: true, &quot;lineHeight&quot;: true, &quot;opacity&quot;: true, &quot;order&quot;: true, &quot;orphans&quot;: true, &quot;widows&quot;: true, &quot;zIndex&quot;: true, &quot;zoom&quot;: true }, // Add in properties whose names you wish to fix before // setting or getting the value cssProps: { &quot;float&quot;: &quot;cssFloat&quot; }, // Get and set the style property on a DOM Node style: function( elem, name, value, extra ) { // Don't set styles on text and comment nodes if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) { return; } // Make sure that we're working with the right name var ret, type, hooks, origName = jQuery.camelCase( name ), style = elem.style; name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName ); // Gets hook for the prefixed version, then unprefixed version hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ]; // Check if we're setting a value if ( value !== undefined ) { type = typeof value; // Convert &quot;+=&quot; or &quot;-=&quot; to relative numbers (#7345) if ( type === &quot;string&quot; &amp;&amp; ( ret = rcssNum.exec( value ) ) &amp;&amp; ret[ 1 ] ) { value = adjustCSS( elem, name, ret ); // Fixes bug #9237 type = &quot;number&quot;; } // Make sure that null and NaN values aren't set (#7116) if ( value == null || value !== value ) { return; } // If a number was passed in, add the unit (except for certain CSS properties) if ( type === &quot;number&quot; ) { value += ret &amp;&amp; ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? &quot;&quot; : &quot;px&quot; ); } // background-* props affect original clone's values if ( !support.clearCloneStyle &amp;&amp; value === &quot;&quot; &amp;&amp; name.indexOf( &quot;background&quot; ) === 0 ) { style[ name ] = &quot;inherit&quot;; } // If a hook was provided, use that value, otherwise just set the specified value if ( !hooks || !( &quot;set&quot; in hooks ) || ( value = hooks.set( elem, value, extra ) ) !== undefined ) { style[ name ] = value; } } else { // If a hook was provided get the non-computed value from there if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, false, extra ) ) !== undefined ) { return ret; } // Otherwise just get the value from the style object return style[ name ]; } }, css: function( elem, name, extra, styles ) { var val, num, hooks, origName = jQuery.camelCase( name ); // Make sure that we're working with the right name name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName ); // Try prefixed name followed by the unprefixed name hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ]; // If a hook was provided get the computed value from there if ( hooks &amp;&amp; &quot;get&quot; in hooks ) { val = hooks.get( elem, true, extra ); } // Otherwise, if a way to get the computed value exists, use that if ( val === undefined ) { val = curCSS( elem, name, styles ); } // Convert &quot;normal&quot; to computed value if ( val === &quot;normal&quot; &amp;&amp; name in cssNormalTransform ) { val = cssNormalTransform[ name ]; } // Make numeric if forced or a qualifier was provided and val looks numeric if ( extra === &quot;&quot; || extra ) { num = parseFloat( val ); return extra === true || isFinite( num ) ? num || 0 : val; } return val; } } ); jQuery.each( [ &quot;height&quot;, &quot;width&quot; ], function( i, name ) { jQuery.cssHooks[ name ] = { get: function( elem, computed, extra ) { if ( computed ) { // Certain elements can have dimension info if we invisibly show them // but it must have a current display style that would benefit return rdisplayswap.test( jQuery.css( elem, &quot;display&quot; ) ) &amp;&amp; // Support: Safari 8+ // Table columns in Safari have non-zero offsetWidth &amp; zero // getBoundingClientRect().width unless display is changed. // Support: IE &lt;=11 only // Running getBoundingClientRect on a disconnected node // in IE throws an error. ( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ? swap( elem, cssShow, function() { return getWidthOrHeight( elem, name, extra ); } ) : getWidthOrHeight( elem, name, extra ); } }, set: function( elem, value, extra ) { var matches, styles = extra &amp;&amp; getStyles( elem ), subtract = extra &amp;&amp; augmentWidthOrHeight( elem, name, extra, jQuery.css( elem, &quot;boxSizing&quot;, false, styles ) === &quot;border-box&quot;, styles ); // Convert to pixels if value adjustment is needed if ( subtract &amp;&amp; ( matches = rcssNum.exec( value ) ) &amp;&amp; ( matches[ 3 ] || &quot;px&quot; ) !== &quot;px&quot; ) { elem.style[ name ] = value; value = jQuery.css( elem, name ); } return setPositiveNumber( elem, value, subtract ); } }; } ); jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft, function( elem, computed ) { if ( computed ) { return ( parseFloat( curCSS( elem, &quot;marginLeft&quot; ) ) || elem.getBoundingClientRect().left - swap( elem, { marginLeft: 0 }, function() { return elem.getBoundingClientRect().left; } ) ) + &quot;px&quot;; } } ); // These hooks are used by animate to expand properties jQuery.each( { margin: &quot;&quot;, padding: &quot;&quot;, border: &quot;Width&quot; }, function( prefix, suffix ) { jQuery.cssHooks[ prefix + suffix ] = { expand: function( value ) { var i = 0, expanded = {}, // Assumes a single number if not a string parts = typeof value === &quot;string&quot; ? value.split( &quot; &quot; ) : [ value ]; for ( ; i &lt; 4; i++ ) { expanded[ prefix + cssExpand[ i ] + suffix ] = parts[ i ] || parts[ i - 2 ] || parts[ 0 ]; } return expanded; } }; if ( !rmargin.test( prefix ) ) { jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber; } } ); jQuery.fn.extend( { css: function( name, value ) { return access( this, function( elem, name, value ) { var styles, len, map = {}, i = 0; if ( jQuery.isArray( name ) ) { styles = getStyles( elem ); len = name.length; for ( ; i &lt; len; i++ ) { map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles ); } return map; } return value !== undefined ? jQuery.style( elem, name, value ) : jQuery.css( elem, name ); }, name, value, arguments.length &gt; 1 ); } } ); function Tween( elem, options, prop, end, easing ) { return new Tween.prototype.init( elem, options, prop, end, easing ); } jQuery.Tween = Tween; Tween.prototype = { constructor: Tween, init: function( elem, options, prop, end, easing, unit ) { this.elem = elem; this.prop = prop; this.easing = easing || jQuery.easing._default; this.options = options; this.start = this.now = this.cur(); this.end = end; this.unit = unit || ( jQuery.cssNumber[ prop ] ? &quot;&quot; : &quot;px&quot; ); }, cur: function() { var hooks = Tween.propHooks[ this.prop ]; return hooks &amp;&amp; hooks.get ? hooks.get( this ) : Tween.propHooks._default.get( this ); }, run: function( percent ) { var eased, hooks = Tween.propHooks[ this.prop ]; if ( this.options.duration ) { this.pos = eased = jQuery.easing[ this.easing ]( percent, this.options.duration * percent, 0, 1, this.options.duration ); } else { this.pos = eased = percent; } this.now = ( this.end - this.start ) * eased + this.start; if ( this.options.step ) { this.options.step.call( this.elem, this.now, this ); } if ( hooks &amp;&amp; hooks.set ) { hooks.set( this ); } else { Tween.propHooks._default.set( this ); } return this; } }; Tween.prototype.init.prototype = Tween.prototype; Tween.propHooks = { _default: { get: function( tween ) { var result; // Use a property on the element directly when it is not a DOM element, // or when there is no matching style property that exists. if ( tween.elem.nodeType !== 1 || tween.elem[ tween.prop ] != null &amp;&amp; tween.elem.style[ tween.prop ] == null ) { return tween.elem[ tween.prop ]; } // Passing an empty string as a 3rd parameter to .css will automatically // attempt a parseFloat and fallback to a string if the parse fails. // Simple values such as &quot;10px&quot; are parsed to Float; // complex values such as &quot;rotate(1rad)&quot; are returned as-is. result = jQuery.css( tween.elem, tween.prop, &quot;&quot; ); // Empty strings, null, undefined and &quot;auto&quot; are converted to 0. return !result || result === &quot;auto&quot; ? 0 : result; }, set: function( tween ) { // Use step hook for back compat. // Use cssHook if its there. // Use .style if available and use plain properties where available. if ( jQuery.fx.step[ tween.prop ] ) { jQuery.fx.step[ tween.prop ]( tween ); } else if ( tween.elem.nodeType === 1 &amp;&amp; ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) { jQuery.style( tween.elem, tween.prop, tween.now + tween.unit ); } else { tween.elem[ tween.prop ] = tween.now; } } } }; // Support: IE &lt;=9 only // Panic based approach to setting things on disconnected nodes Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = { set: function( tween ) { if ( tween.elem.nodeType &amp;&amp; tween.elem.parentNode ) { tween.elem[ tween.prop ] = tween.now; } } }; jQuery.easing = { linear: function( p ) { return p; }, swing: function( p ) { return 0.5 - Math.cos( p * Math.PI ) / 2; }, _default: &quot;swing&quot; }; jQuery.fx = Tween.prototype.init; // Back compat &lt;1.8 extension point jQuery.fx.step = {}; var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/, rrun = /queueHooks$/; function raf() { if ( timerId ) { window.requestAnimationFrame( raf ); jQuery.fx.tick(); } } // Animations created synchronously will run synchronously function createFxNow() { window.setTimeout( function() { fxNow = undefined; } ); return ( fxNow = jQuery.now() ); } // Generate parameters to create a standard animation function genFx( type, includeWidth ) { var which, i = 0, attrs = { height: type }; // If we include width, step value is 1 to do all cssExpand values, // otherwise step value is 2 to skip over Left and Right includeWidth = includeWidth ? 1 : 0; for ( ; i &lt; 4; i += 2 - includeWidth ) { which = cssExpand[ i ]; attrs[ &quot;margin&quot; + which ] = attrs[ &quot;padding&quot; + which ] = type; } if ( includeWidth ) { attrs.opacity = attrs.width = type; } return attrs; } function createTween( value, prop, animation ) { var tween, collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ &quot;*&quot; ] ), index = 0, length = collection.length; for ( ; index &lt; length; index++ ) { if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) { // We're done with this property return tween; } } } function defaultPrefilter( elem, props, opts ) { var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display, isBox = &quot;width&quot; in props || &quot;height&quot; in props, anim = this, orig = {}, style = elem.style, hidden = elem.nodeType &amp;&amp; isHiddenWithinTree( elem ), dataShow = dataPriv.get( elem, &quot;fxshow&quot; ); // Queue-skipping animations hijack the fx hooks if ( !opts.queue ) { hooks = jQuery._queueHooks( elem, &quot;fx&quot; ); if ( hooks.unqueued == null ) { hooks.unqueued = 0; oldfire = hooks.empty.fire; hooks.empty.fire = function() { if ( !hooks.unqueued ) { oldfire(); } }; } hooks.unqueued++; anim.always( function() { // Ensure the complete handler is called before this completes anim.always( function() { hooks.unqueued--; if ( !jQuery.queue( elem, &quot;fx&quot; ).length ) { hooks.empty.fire(); } } ); } ); } // Detect show/hide animations for ( prop in props ) { value = props[ prop ]; if ( rfxtypes.test( value ) ) { delete props[ prop ]; toggle = toggle || value === &quot;toggle&quot;; if ( value === ( hidden ? &quot;hide&quot; : &quot;show&quot; ) ) { // Pretend to be hidden if this is a &quot;show&quot; and // there is still data from a stopped show/hide if ( value === &quot;show&quot; &amp;&amp; dataShow &amp;&amp; dataShow[ prop ] !== undefined ) { hidden = true; // Ignore all other no-op show/hide data } else { continue; } } orig[ prop ] = dataShow &amp;&amp; dataShow[ prop ] || jQuery.style( elem, prop ); } } // Bail out if this is a no-op like .hide().hide() propTween = !jQuery.isEmptyObject( props ); if ( !propTween &amp;&amp; jQuery.isEmptyObject( orig ) ) { return; } // Restrict &quot;overflow&quot; and &quot;display&quot; styles during box animations if ( isBox &amp;&amp; elem.nodeType === 1 ) { // Support: IE &lt;=9 - 11, Edge 12 - 13 // Record all 3 overflow attributes because IE does not infer the shorthand // from identically-valued overflowX and overflowY opts.overflow = [ style.overflow, style.overflowX, style.overflowY ]; // Identify a display type, preferring old show/hide data over the CSS cascade restoreDisplay = dataShow &amp;&amp; dataShow.display; if ( restoreDisplay == null ) { restoreDisplay = dataPriv.get( elem, &quot;display&quot; ); } display = jQuery.css( elem, &quot;display&quot; ); if ( display === &quot;none&quot; ) { if ( restoreDisplay ) { display = restoreDisplay; } else { // Get nonempty value(s) by temporarily forcing visibility showHide( [ elem ], true ); restoreDisplay = elem.style.display || restoreDisplay; display = jQuery.css( elem, &quot;display&quot; ); showHide( [ elem ] ); } } // Animate inline elements as inline-block if ( display === &quot;inline&quot; || display === &quot;inline-block&quot; &amp;&amp; restoreDisplay != null ) { if ( jQuery.css( elem, &quot;float&quot; ) === &quot;none&quot; ) { // Restore the original display value at the end of pure show/hide animations if ( !propTween ) { anim.done( function() { style.display = restoreDisplay; } ); if ( restoreDisplay == null ) { display = style.display; restoreDisplay = display === &quot;none&quot; ? &quot;&quot; : display; } } style.display = &quot;inline-block&quot;; } } } if ( opts.overflow ) { style.overflow = &quot;hidden&quot;; anim.always( function() { style.overflow = opts.overflow[ 0 ]; style.overflowX = opts.overflow[ 1 ]; style.overflowY = opts.overflow[ 2 ]; } ); } // Implement show/hide animations propTween = false; for ( prop in orig ) { // General show/hide setup for this element animation if ( !propTween ) { if ( dataShow ) { if ( &quot;hidden&quot; in dataShow ) { hidden = dataShow.hidden; } } else { dataShow = dataPriv.access( elem, &quot;fxshow&quot;, { display: restoreDisplay } ); } // Store hidden/visible for toggle so `.stop().toggle()` &quot;reverses&quot; if ( toggle ) { dataShow.hidden = !hidden; } // Show elements before animating them if ( hidden ) { showHide( [ elem ], true ); } /* eslint-disable no-loop-func */ anim.done( function() { /* eslint-enable no-loop-func */ // The final step of a &quot;hide&quot; animation is actually hiding the element if ( !hidden ) { showHide( [ elem ] ); } dataPriv.remove( elem, &quot;fxshow&quot; ); for ( prop in orig ) { jQuery.style( elem, prop, orig[ prop ] ); } } ); } // Per-property setup propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim ); if ( !( prop in dataShow ) ) { dataShow[ prop ] = propTween.start; if ( hidden ) { propTween.end = propTween.start; propTween.start = 0; } } } } function propFilter( props, specialEasing ) { var index, name, easing, value, hooks; // camelCase, specialEasing and expand cssHook pass for ( index in props ) { name = jQuery.camelCase( index ); easing = specialEasing[ name ]; value = props[ index ]; if ( jQuery.isArray( value ) ) { easing = value[ 1 ]; value = props[ index ] = value[ 0 ]; } if ( index !== name ) { props[ name ] = value; delete props[ index ]; } hooks = jQuery.cssHooks[ name ]; if ( hooks &amp;&amp; &quot;expand&quot; in hooks ) { value = hooks.expand( value ); delete props[ name ]; // Not quite $.extend, this won't overwrite existing keys. // Reusing 'index' because we have the correct &quot;name&quot; for ( index in value ) { if ( !( index in props ) ) { props[ index ] = value[ index ]; specialEasing[ index ] = easing; } } } else { specialEasing[ name ] = easing; } } } function Animation( elem, properties, options ) { var result, stopped, index = 0, length = Animation.prefilters.length, deferred = jQuery.Deferred().always( function() { // Don't match elem in the :animated selector delete tick.elem; } ), tick = function() { if ( stopped ) { return false; } var currentTime = fxNow || createFxNow(), remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ), // Support: Android 2.3 only // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497) temp = remaining / animation.duration || 0, percent = 1 - temp, index = 0, length = animation.tweens.length; for ( ; index &lt; length; index++ ) { animation.tweens[ index ].run( percent ); } deferred.notifyWith( elem, [ animation, percent, remaining ] ); if ( percent &lt; 1 &amp;&amp; length ) { return remaining; } else { deferred.resolveWith( elem, [ animation ] ); return false; } }, animation = deferred.promise( { elem: elem, props: jQuery.extend( {}, properties ), opts: jQuery.extend( true, { specialEasing: {}, easing: jQuery.easing._default }, options ), originalProperties: properties, originalOptions: options, startTime: fxNow || createFxNow(), duration: options.duration, tweens: [], createTween: function( prop, end ) { var tween = jQuery.Tween( elem, animation.opts, prop, end, animation.opts.specialEasing[ prop ] || animation.opts.easing ); animation.tweens.push( tween ); return tween; }, stop: function( gotoEnd ) { var index = 0, // If we are going to the end, we want to run all the tweens // otherwise we skip this part length = gotoEnd ? animation.tweens.length : 0; if ( stopped ) { return this; } stopped = true; for ( ; index &lt; length; index++ ) { animation.tweens[ index ].run( 1 ); } // Resolve when we played the last frame; otherwise, reject if ( gotoEnd ) { deferred.notifyWith( elem, [ animation, 1, 0 ] ); deferred.resolveWith( elem, [ animation, gotoEnd ] ); } else { deferred.rejectWith( elem, [ animation, gotoEnd ] ); } return this; } } ), props = animation.props; propFilter( props, animation.opts.specialEasing ); for ( ; index &lt; length; index++ ) { result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts ); if ( result ) { if ( jQuery.isFunction( result.stop ) ) { jQuery._queueHooks( animation.elem, animation.opts.queue ).stop = jQuery.proxy( result.stop, result ); } return result; } } jQuery.map( props, createTween, animation ); if ( jQuery.isFunction( animation.opts.start ) ) { animation.opts.start.call( elem, animation ); } jQuery.fx.timer( jQuery.extend( tick, { elem: elem, anim: animation, queue: animation.opts.queue } ) ); // attach callbacks from options return animation.progress( animation.opts.progress ) .done( animation.opts.done, animation.opts.complete ) .fail( animation.opts.fail ) .always( animation.opts.always ); } jQuery.Animation = jQuery.extend( Animation, { tweeners: { &quot;*&quot;: [ function( prop, value ) { var tween = this.createTween( prop, value ); adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween ); return tween; } ] }, tweener: function( props, callback ) { if ( jQuery.isFunction( props ) ) { callback = props; props = [ &quot;*&quot; ]; } else { props = props.match( rnothtmlwhite ); } var prop, index = 0, length = props.length; for ( ; index &lt; length; index++ ) { prop = props[ index ]; Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || []; Animation.tweeners[ prop ].unshift( callback ); } }, prefilters: [ defaultPrefilter ], prefilter: function( callback, prepend ) { if ( prepend ) { Animation.prefilters.unshift( callback ); } else { Animation.prefilters.push( callback ); } } } ); jQuery.speed = function( speed, easing, fn ) { var opt = speed &amp;&amp; typeof speed === &quot;object&quot; ? jQuery.extend( {}, speed ) : { complete: fn || !fn &amp;&amp; easing || jQuery.isFunction( speed ) &amp;&amp; speed, duration: speed, easing: fn &amp;&amp; easing || easing &amp;&amp; !jQuery.isFunction( easing ) &amp;&amp; easing }; // Go to the end state if fx are off or if document is hidden if ( jQuery.fx.off || document.hidden ) { opt.duration = 0; } else { if ( typeof opt.duration !== &quot;number&quot; ) { if ( opt.duration in jQuery.fx.speeds ) { opt.duration = jQuery.fx.speeds[ opt.duration ]; } else { opt.duration = jQuery.fx.speeds._default; } } } // Normalize opt.queue - true/undefined/null -&gt; &quot;fx&quot; if ( opt.queue == null || opt.queue === true ) { opt.queue = &quot;fx&quot;; } // Queueing opt.old = opt.complete; opt.complete = function() { if ( jQuery.isFunction( opt.old ) ) { opt.old.call( this ); } if ( opt.queue ) { jQuery.dequeue( this, opt.queue ); } }; return opt; }; jQuery.fn.extend( { fadeTo: function( speed, to, easing, callback ) { // Show any hidden elements after setting opacity to 0 return this.filter( isHiddenWithinTree ).css( &quot;opacity&quot;, 0 ).show() // Animate to the value specified .end().animate( { opacity: to }, speed, easing, callback ); }, animate: function( prop, speed, easing, callback ) { var empty = jQuery.isEmptyObject( prop ), optall = jQuery.speed( speed, easing, callback ), doAnimation = function() { // Operate on a copy of prop so per-property easing won't be lost var anim = Animation( this, jQuery.extend( {}, prop ), optall ); // Empty animations, or finishing resolves immediately if ( empty || dataPriv.get( this, &quot;finish&quot; ) ) { anim.stop( true ); } }; doAnimation.finish = doAnimation; return empty || optall.queue === false ? this.each( doAnimation ) : this.queue( optall.queue, doAnimation ); }, stop: function( type, clearQueue, gotoEnd ) { var stopQueue = function( hooks ) { var stop = hooks.stop; delete hooks.stop; stop( gotoEnd ); }; if ( typeof type !== &quot;string&quot; ) { gotoEnd = clearQueue; clearQueue = type; type = undefined; } if ( clearQueue &amp;&amp; type !== false ) { this.queue( type || &quot;fx&quot;, [] ); } return this.each( function() { var dequeue = true, index = type != null &amp;&amp; type + &quot;queueHooks&quot;, timers = jQuery.timers, data = dataPriv.get( this ); if ( index ) { if ( data[ index ] &amp;&amp; data[ index ].stop ) { stopQueue( data[ index ] ); } } else { for ( index in data ) { if ( data[ index ] &amp;&amp; data[ index ].stop &amp;&amp; rrun.test( index ) ) { stopQueue( data[ index ] ); } } } for ( index = timers.length; index--; ) { if ( timers[ index ].elem === this &amp;&amp; ( type == null || timers[ index ].queue === type ) ) { timers[ index ].anim.stop( gotoEnd ); dequeue = false; timers.splice( index, 1 ); } } // Start the next in the queue if the last step wasn't forced. // Timers currently will call their complete callbacks, which // will dequeue but only if they were gotoEnd. if ( dequeue || !gotoEnd ) { jQuery.dequeue( this, type ); } } ); }, finish: function( type ) { if ( type !== false ) { type = type || &quot;fx&quot;; } return this.each( function() { var index, data = dataPriv.get( this ), queue = data[ type + &quot;queue&quot; ], hooks = data[ type + &quot;queueHooks&quot; ], timers = jQuery.timers, length = queue ? queue.length : 0; // Enable finishing flag on private data data.finish = true; // Empty the queue first jQuery.queue( this, type, [] ); if ( hooks &amp;&amp; hooks.stop ) { hooks.stop.call( this, true ); } // Look for any active animations, and finish them for ( index = timers.length; index--; ) { if ( timers[ index ].elem === this &amp;&amp; timers[ index ].queue === type ) { timers[ index ].anim.stop( true ); timers.splice( index, 1 ); } } // Look for any animations in the old queue and finish them for ( index = 0; index &lt; length; index++ ) { if ( queue[ index ] &amp;&amp; queue[ index ].finish ) { queue[ index ].finish.call( this ); } } // Turn off finishing flag delete data.finish; } ); } } ); jQuery.each( [ &quot;toggle&quot;, &quot;show&quot;, &quot;hide&quot; ], function( i, name ) { var cssFn = jQuery.fn[ name ]; jQuery.fn[ name ] = function( speed, easing, callback ) { return speed == null || typeof speed === &quot;boolean&quot; ? cssFn.apply( this, arguments ) : this.animate( genFx( name, true ), speed, easing, callback ); }; } ); // Generate shortcuts for custom animations jQuery.each( { slideDown: genFx( &quot;show&quot; ), slideUp: genFx( &quot;hide&quot; ), slideToggle: genFx( &quot;toggle&quot; ), fadeIn: { opacity: &quot;show&quot; }, fadeOut: { opacity: &quot;hide&quot; }, fadeToggle: { opacity: &quot;toggle&quot; } }, function( name, props ) { jQuery.fn[ name ] = function( speed, easing, callback ) { return this.animate( props, speed, easing, callback ); }; } ); jQuery.timers = []; jQuery.fx.tick = function() { var timer, i = 0, timers = jQuery.timers; fxNow = jQuery.now(); for ( ; i &lt; timers.length; i++ ) { timer = timers[ i ]; // Checks the timer has not already been removed if ( !timer() &amp;&amp; timers[ i ] === timer ) { timers.splice( i--, 1 ); } } if ( !timers.length ) { jQuery.fx.stop(); } fxNow = undefined; }; jQuery.fx.timer = function( timer ) { jQuery.timers.push( timer ); if ( timer() ) { jQuery.fx.start(); } else { jQuery.timers.pop(); } }; jQuery.fx.interval = 13; jQuery.fx.start = function() { if ( !timerId ) { timerId = window.requestAnimationFrame ? window.requestAnimationFrame( raf ) : window.setInterval( jQuery.fx.tick, jQuery.fx.interval ); } }; jQuery.fx.stop = function() { if ( window.cancelAnimationFrame ) { window.cancelAnimationFrame( timerId ); } else { window.clearInterval( timerId ); } timerId = null; }; jQuery.fx.speeds = { slow: 600, fast: 200, // Default speed _default: 400 }; // Based off of the plugin by Clint Helfers, with permission. // https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/ jQuery.fn.delay = function( time, type ) { time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time; type = type || &quot;fx&quot;; return this.queue( type, function( next, hooks ) { var timeout = window.setTimeout( next, time ); hooks.stop = function() { window.clearTimeout( timeout ); }; } ); }; ( function() { var input = document.createElement( &quot;input&quot; ), select = document.createElement( &quot;select&quot; ), opt = select.appendChild( document.createElement( &quot;option&quot; ) ); input.type = &quot;checkbox&quot;; // Support: Android &lt;=4.3 only // Default value for a checkbox should be &quot;on&quot; support.checkOn = input.value !== &quot;&quot;; // Support: IE &lt;=11 only // Must access selectedIndex to make default options select support.optSelected = opt.selected; // Support: IE &lt;=11 only // An input loses its value after becoming a radio input = document.createElement( &quot;input&quot; ); input.value = &quot;t&quot;; input.type = &quot;radio&quot;; support.radioValue = input.value === &quot;t&quot;; } )(); var boolHook, attrHandle = jQuery.expr.attrHandle; jQuery.fn.extend( { attr: function( name, value ) { return access( this, jQuery.attr, name, value, arguments.length &gt; 1 ); }, removeAttr: function( name ) { return this.each( function() { jQuery.removeAttr( this, name ); } ); } } ); jQuery.extend( { attr: function( elem, name, value ) { var ret, hooks, nType = elem.nodeType; // Don't get/set attributes on text, comment and attribute nodes if ( nType === 3 || nType === 8 || nType === 2 ) { return; } // Fallback to prop when attributes are not supported if ( typeof elem.getAttribute === &quot;undefined&quot; ) { return jQuery.prop( elem, name, value ); } // Attribute hooks are determined by the lowercase version // Grab necessary hook if one is defined if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) { hooks = jQuery.attrHooks[ name.toLowerCase() ] || ( jQuery.expr.match.bool.test( name ) ? boolHook : undefined ); } if ( value !== undefined ) { if ( value === null ) { jQuery.removeAttr( elem, name ); return; } if ( hooks &amp;&amp; &quot;set&quot; in hooks &amp;&amp; ( ret = hooks.set( elem, value, name ) ) !== undefined ) { return ret; } elem.setAttribute( name, value + &quot;&quot; ); return value; } if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, name ) ) !== null ) { return ret; } ret = jQuery.find.attr( elem, name ); // Non-existent attributes return null, we normalize to undefined return ret == null ? undefined : ret; }, attrHooks: { type: { set: function( elem, value ) { if ( !support.radioValue &amp;&amp; value === &quot;radio&quot; &amp;&amp; jQuery.nodeName( elem, &quot;input&quot; ) ) { var val = elem.value; elem.setAttribute( &quot;type&quot;, value ); if ( val ) { elem.value = val; } return value; } } } }, removeAttr: function( elem, value ) { var name, i = 0, // Attribute names can contain non-HTML whitespace characters // https://html.spec.whatwg.org/multipage/syntax.html#attributes-2 attrNames = value &amp;&amp; value.match( rnothtmlwhite ); if ( attrNames &amp;&amp; elem.nodeType === 1 ) { while ( ( name = attrNames[ i++ ] ) ) { elem.removeAttribute( name ); } } } } ); // Hooks for boolean attributes boolHook = { set: function( elem, value, name ) { if ( value === false ) { // Remove boolean attributes when set to false jQuery.removeAttr( elem, name ); } else { elem.setAttribute( name, name ); } return name; } }; jQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) { var getter = attrHandle[ name ] || jQuery.find.attr; attrHandle[ name ] = function( elem, name, isXML ) { var ret, handle, lowercaseName = name.toLowerCase(); if ( !isXML ) { // Avoid an infinite loop by temporarily removing this function from the getter handle = attrHandle[ lowercaseName ]; attrHandle[ lowercaseName ] = ret; ret = getter( elem, name, isXML ) != null ? lowercaseName : null; attrHandle[ lowercaseName ] = handle; } return ret; }; } ); var rfocusable = /^(?:input|select|textarea|button)$/i, rclickable = /^(?:a|area)$/i; jQuery.fn.extend( { prop: function( name, value ) { return access( this, jQuery.prop, name, value, arguments.length &gt; 1 ); }, removeProp: function( name ) { return this.each( function() { delete this[ jQuery.propFix[ name ] || name ]; } ); } } ); jQuery.extend( { prop: function( elem, name, value ) { var ret, hooks, nType = elem.nodeType; // Don't get/set properties on text, comment and attribute nodes if ( nType === 3 || nType === 8 || nType === 2 ) { return; } if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) { // Fix name and attach hooks name = jQuery.propFix[ name ] || name; hooks = jQuery.propHooks[ name ]; } if ( value !== undefined ) { if ( hooks &amp;&amp; &quot;set&quot; in hooks &amp;&amp; ( ret = hooks.set( elem, value, name ) ) !== undefined ) { return ret; } return ( elem[ name ] = value ); } if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, name ) ) !== null ) { return ret; } return elem[ name ]; }, propHooks: { tabIndex: { get: function( elem ) { // Support: IE &lt;=9 - 11 only // elem.tabIndex doesn't always return the // correct value when it hasn't been explicitly set // https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/ // Use proper attribute retrieval(#12072) var tabindex = jQuery.find.attr( elem, &quot;tabindex&quot; ); if ( tabindex ) { return parseInt( tabindex, 10 ); } if ( rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) &amp;&amp; elem.href ) { return 0; } return -1; } } }, propFix: { &quot;for&quot;: &quot;htmlFor&quot;, &quot;class&quot;: &quot;className&quot; } } ); // Support: IE &lt;=11 only // Accessing the selectedIndex property // forces the browser to respect setting selected // on the option // The getter ensures a default option is selected // when in an optgroup // eslint rule &quot;no-unused-expressions&quot; is disabled for this code // since it considers such accessions noop if ( !support.optSelected ) { jQuery.propHooks.selected = { get: function( elem ) { /* eslint no-unused-expressions: &quot;off&quot; */ var parent = elem.parentNode; if ( parent &amp;&amp; parent.parentNode ) { parent.parentNode.selectedIndex; } return null; }, set: function( elem ) { /* eslint no-unused-expressions: &quot;off&quot; */ var parent = elem.parentNode; if ( parent ) { parent.selectedIndex; if ( parent.parentNode ) { parent.parentNode.selectedIndex; } } } }; } jQuery.each( [ &quot;tabIndex&quot;, &quot;readOnly&quot;, &quot;maxLength&quot;, &quot;cellSpacing&quot;, &quot;cellPadding&quot;, &quot;rowSpan&quot;, &quot;colSpan&quot;, &quot;useMap&quot;, &quot;frameBorder&quot;, &quot;contentEditable&quot; ], function() { jQuery.propFix[ this.toLowerCase() ] = this; } ); // Strip and collapse whitespace according to HTML spec // https://html.spec.whatwg.org/multipage/infrastructure.html#strip-and-collapse-whitespace function stripAndCollapse( value ) { var tokens = value.match( rnothtmlwhite ) || []; return tokens.join( &quot; &quot; ); } function getClass( elem ) { return elem.getAttribute &amp;&amp; elem.getAttribute( &quot;class&quot; ) || &quot;&quot;; } jQuery.fn.extend( { addClass: function( value ) { var classes, elem, cur, curValue, clazz, j, finalValue, i = 0; if ( jQuery.isFunction( value ) ) { return this.each( function( j ) { jQuery( this ).addClass( value.call( this, j, getClass( this ) ) ); } ); } if ( typeof value === &quot;string&quot; &amp;&amp; value ) { classes = value.match( rnothtmlwhite ) || []; while ( ( elem = this[ i++ ] ) ) { curValue = getClass( elem ); cur = elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( curValue ) + &quot; &quot; ); if ( cur ) { j = 0; while ( ( clazz = classes[ j++ ] ) ) { if ( cur.indexOf( &quot; &quot; + clazz + &quot; &quot; ) &lt; 0 ) { cur += clazz + &quot; &quot;; } } // Only assign if different to avoid unneeded rendering. finalValue = stripAndCollapse( cur ); if ( curValue !== finalValue ) { elem.setAttribute( &quot;class&quot;, finalValue ); } } } } return this; }, removeClass: function( value ) { var classes, elem, cur, curValue, clazz, j, finalValue, i = 0; if ( jQuery.isFunction( value ) ) { return this.each( function( j ) { jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) ); } ); } if ( !arguments.length ) { return this.attr( &quot;class&quot;, &quot;&quot; ); } if ( typeof value === &quot;string&quot; &amp;&amp; value ) { classes = value.match( rnothtmlwhite ) || []; while ( ( elem = this[ i++ ] ) ) { curValue = getClass( elem ); // This expression is here for better compressibility (see addClass) cur = elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( curValue ) + &quot; &quot; ); if ( cur ) { j = 0; while ( ( clazz = classes[ j++ ] ) ) { // Remove *all* instances while ( cur.indexOf( &quot; &quot; + clazz + &quot; &quot; ) &gt; -1 ) { cur = cur.replace( &quot; &quot; + clazz + &quot; &quot;, &quot; &quot; ); } } // Only assign if different to avoid unneeded rendering. finalValue = stripAndCollapse( cur ); if ( curValue !== finalValue ) { elem.setAttribute( &quot;class&quot;, finalValue ); } } } } return this; }, toggleClass: function( value, stateVal ) { var type = typeof value; if ( typeof stateVal === &quot;boolean&quot; &amp;&amp; type === &quot;string&quot; ) { return stateVal ? this.addClass( value ) : this.removeClass( value ); } if ( jQuery.isFunction( value ) ) { return this.each( function( i ) { jQuery( this ).toggleClass( value.call( this, i, getClass( this ), stateVal ), stateVal ); } ); } return this.each( function() { var className, i, self, classNames; if ( type === &quot;string&quot; ) { // Toggle individual class names i = 0; self = jQuery( this ); classNames = value.match( rnothtmlwhite ) || []; while ( ( className = classNames[ i++ ] ) ) { // Check each className given, space separated list if ( self.hasClass( className ) ) { self.removeClass( className ); } else { self.addClass( className ); } } // Toggle whole class name } else if ( value === undefined || type === &quot;boolean&quot; ) { className = getClass( this ); if ( className ) { // Store className if set dataPriv.set( this, &quot;__className__&quot;, className ); } // If the element has a class name or if we're passed `false`, // then remove the whole classname (if there was one, the above saved it). // Otherwise bring back whatever was previously saved (if anything), // falling back to the empty string if nothing was stored. if ( this.setAttribute ) { this.setAttribute( &quot;class&quot;, className || value === false ? &quot;&quot; : dataPriv.get( this, &quot;__className__&quot; ) || &quot;&quot; ); } } } ); }, hasClass: function( selector ) { var className, elem, i = 0; className = &quot; &quot; + selector + &quot; &quot;; while ( ( elem = this[ i++ ] ) ) { if ( elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( getClass( elem ) ) + &quot; &quot; ).indexOf( className ) &gt; -1 ) { return true; } } return false; } } ); var rreturn = /\\r/g; jQuery.fn.extend( { val: function( value ) { var hooks, ret, isFunction, elem = this[ 0 ]; if ( !arguments.length ) { if ( elem ) { hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ]; if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, &quot;value&quot; ) ) !== undefined ) { return ret; } ret = elem.value; // Handle most common string cases if ( typeof ret === &quot;string&quot; ) { return ret.replace( rreturn, &quot;&quot; ); } // Handle cases where value is null/undef or number return ret == null ? &quot;&quot; : ret; } return; } isFunction = jQuery.isFunction( value ); return this.each( function( i ) { var val; if ( this.nodeType !== 1 ) { return; } if ( isFunction ) { val = value.call( this, i, jQuery( this ).val() ); } else { val = value; } // Treat null/undefined as &quot;&quot;; convert numbers to string if ( val == null ) { val = &quot;&quot;; } else if ( typeof val === &quot;number&quot; ) { val += &quot;&quot;; } else if ( jQuery.isArray( val ) ) { val = jQuery.map( val, function( value ) { return value == null ? &quot;&quot; : value + &quot;&quot;; } ); } hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ]; // If set returns undefined, fall back to normal setting if ( !hooks || !( &quot;set&quot; in hooks ) || hooks.set( this, val, &quot;value&quot; ) === undefined ) { this.value = val; } } ); } } ); jQuery.extend( { valHooks: { option: { get: function( elem ) { var val = jQuery.find.attr( elem, &quot;value&quot; ); return val != null ? val : // Support: IE &lt;=10 - 11 only // option.text throws exceptions (#14686, #14858) // Strip and collapse whitespace // https://html.spec.whatwg.org/#strip-and-collapse-whitespace stripAndCollapse( jQuery.text( elem ) ); } }, select: { get: function( elem ) { var value, option, i, options = elem.options, index = elem.selectedIndex, one = elem.type === &quot;select-one&quot;, values = one ? null : [], max = one ? index + 1 : options.length; if ( index &lt; 0 ) { i = max; } else { i = one ? index : 0; } // Loop through all the selected options for ( ; i &lt; max; i++ ) { option = options[ i ]; // Support: IE &lt;=9 only // IE8-9 doesn't update selected after form reset (#2551) if ( ( option.selected || i === index ) &amp;&amp; // Don't return options that are disabled or in a disabled optgroup !option.disabled &amp;&amp; ( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, &quot;optgroup&quot; ) ) ) { // Get the specific value for the option value = jQuery( option ).val(); // We don't need an array for one selects if ( one ) { return value; } // Multi-Selects return an array values.push( value ); } } return values; }, set: function( elem, value ) { var optionSet, option, options = elem.options, values = jQuery.makeArray( value ), i = options.length; while ( i-- ) { option = options[ i ]; /* eslint-disable no-cond-assign */ if ( option.selected = jQuery.inArray( jQuery.valHooks.option.get( option ), values ) &gt; -1 ) { optionSet = true; } /* eslint-enable no-cond-assign */ } // Force browsers to behave consistently when non-matching value is set if ( !optionSet ) { elem.selectedIndex = -1; } return values; } } } } ); // Radios and checkboxes getter/setter jQuery.each( [ &quot;radio&quot;, &quot;checkbox&quot; ], function() { jQuery.valHooks[ this ] = { set: function( elem, value ) { if ( jQuery.isArray( value ) ) { return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) &gt; -1 ); } } }; if ( !support.checkOn ) { jQuery.valHooks[ this ].get = function( elem ) { return elem.getAttribute( &quot;value&quot; ) === null ? &quot;on&quot; : elem.value; }; } } ); // Return jQuery for attributes-only inclusion var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/; jQuery.extend( jQuery.event, { trigger: function( event, data, elem, onlyHandlers ) { var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [ elem || document ], type = hasOwn.call( event, &quot;type&quot; ) ? event.type : event, namespaces = hasOwn.call( event, &quot;namespace&quot; ) ? event.namespace.split( &quot;.&quot; ) : []; cur = tmp = elem = elem || document; // Don't do events on text and comment nodes if ( elem.nodeType === 3 || elem.nodeType === 8 ) { return; } // focus/blur morphs to focusin/out; ensure we're not firing them right now if ( rfocusMorph.test( type + jQuery.event.triggered ) ) { return; } if ( type.indexOf( &quot;.&quot; ) &gt; -1 ) { // Namespaced trigger; create a regexp to match event type in handle() namespaces = type.split( &quot;.&quot; ); type = namespaces.shift(); namespaces.sort(); } ontype = type.indexOf( &quot;:&quot; ) &lt; 0 &amp;&amp; &quot;on&quot; + type; // Caller can pass in a jQuery.Event object, Object, or just an event type string event = event[ jQuery.expando ] ? event : new jQuery.Event( type, typeof event === &quot;object&quot; &amp;&amp; event ); // Trigger bitmask: &amp; 1 for native handlers; &amp; 2 for jQuery (always true) event.isTrigger = onlyHandlers ? 2 : 3; event.namespace = namespaces.join( &quot;.&quot; ); event.rnamespace = event.namespace ? new RegExp( &quot;(^|\\\\.)&quot; + namespaces.join( &quot;\\\\.(?:.*\\\\.|)&quot; ) + &quot;(\\\\.|$)&quot; ) : null; // Clean up the event in case it is being reused event.result = undefined; if ( !event.target ) { event.target = elem; } // Clone any incoming data and prepend the event, creating the handler arg list data = data == null ? [ event ] : jQuery.makeArray( data, [ event ] ); // Allow special events to draw outside the lines special = jQuery.event.special[ type ] || {}; if ( !onlyHandlers &amp;&amp; special.trigger &amp;&amp; special.trigger.apply( elem, data ) === false ) { return; } // Determine event propagation path in advance, per W3C events spec (#9951) // Bubble up to document, then to window; watch for a global ownerDocument var (#9724) if ( !onlyHandlers &amp;&amp; !special.noBubble &amp;&amp; !jQuery.isWindow( elem ) ) { bubbleType = special.delegateType || type; if ( !rfocusMorph.test( bubbleType + type ) ) { cur = cur.parentNode; } for ( ; cur; cur = cur.parentNode ) { eventPath.push( cur ); tmp = cur; } // Only add window if we got to document (e.g., not plain obj or detached DOM) if ( tmp === ( elem.ownerDocument || document ) ) { eventPath.push( tmp.defaultView || tmp.parentWindow || window ); } } // Fire handlers on the event path i = 0; while ( ( cur = eventPath[ i++ ] ) &amp;&amp; !event.isPropagationStopped() ) { event.type = i &gt; 1 ? bubbleType : special.bindType || type; // jQuery handler handle = ( dataPriv.get( cur, &quot;events&quot; ) || {} )[ event.type ] &amp;&amp; dataPriv.get( cur, &quot;handle&quot; ); if ( handle ) { handle.apply( cur, data ); } // Native handler handle = ontype &amp;&amp; cur[ ontype ]; if ( handle &amp;&amp; handle.apply &amp;&amp; acceptData( cur ) ) { event.result = handle.apply( cur, data ); if ( event.result === false ) { event.preventDefault(); } } } event.type = type; // If nobody prevented the default action, do it now if ( !onlyHandlers &amp;&amp; !event.isDefaultPrevented() ) { if ( ( !special._default || special._default.apply( eventPath.pop(), data ) === false ) &amp;&amp; acceptData( elem ) ) { // Call a native DOM method on the target with the same name as the event. // Don't do default actions on window, that's where global variables be (#6170) if ( ontype &amp;&amp; jQuery.isFunction( elem[ type ] ) &amp;&amp; !jQuery.isWindow( elem ) ) { // Don't re-trigger an onFOO event when we call its FOO() method tmp = elem[ ontype ]; if ( tmp ) { elem[ ontype ] = null; } // Prevent re-triggering of the same event, since we already bubbled it above jQuery.event.triggered = type; elem[ type ](); jQuery.event.triggered = undefined; if ( tmp ) { elem[ ontype ] = tmp; } } } } return event.result; }, // Piggyback on a donor event to simulate a different one // Used only for `focus(in | out)` events simulate: function( type, elem, event ) { var e = jQuery.extend( new jQuery.Event(), event, { type: type, isSimulated: true } ); jQuery.event.trigger( e, null, elem ); } } ); jQuery.fn.extend( { trigger: function( type, data ) { return this.each( function() { jQuery.event.trigger( type, data, this ); } ); }, triggerHandler: function( type, data ) { var elem = this[ 0 ]; if ( elem ) { return jQuery.event.trigger( type, data, elem, true ); } } } ); jQuery.each( ( &quot;blur focus focusin focusout resize scroll click dblclick &quot; + &quot;mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave &quot; + &quot;change select submit keydown keypress keyup contextmenu&quot; ).split( &quot; &quot; ), function( i, name ) { // Handle event binding jQuery.fn[ name ] = function( data, fn ) { return arguments.length &gt; 0 ? this.on( name, null, data, fn ) : this.trigger( name ); }; } ); jQuery.fn.extend( { hover: function( fnOver, fnOut ) { return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver ); } } ); support.focusin = &quot;onfocusin&quot; in window; // Support: Firefox &lt;=44 // Firefox doesn't have focus(in | out) events // Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787 // // Support: Chrome &lt;=48 - 49, Safari &lt;=9.0 - 9.1 // focus(in | out) events fire after focus &amp; blur events, // which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order // Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857 if ( !support.focusin ) { jQuery.each( { focus: &quot;focusin&quot;, blur: &quot;focusout&quot; }, function( orig, fix ) { // Attach a single capturing handler on the document while someone wants focusin/focusout var handler = function( event ) { jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) ); }; jQuery.event.special[ fix ] = { setup: function() { var doc = this.ownerDocument || this, attaches = dataPriv.access( doc, fix ); if ( !attaches ) { doc.addEventListener( orig, handler, true ); } dataPriv.access( doc, fix, ( attaches || 0 ) + 1 ); }, teardown: function() { var doc = this.ownerDocument || this, attaches = dataPriv.access( doc, fix ) - 1; if ( !attaches ) { doc.removeEventListener( orig, handler, true ); dataPriv.remove( doc, fix ); } else { dataPriv.access( doc, fix, attaches ); } } }; } ); } var location = window.location; var nonce = jQuery.now(); var rquery = ( /\\?/ ); // Cross-browser xml parsing jQuery.parseXML = function( data ) { var xml; if ( !data || typeof data !== &quot;string&quot; ) { return null; } // Support: IE 9 - 11 only // IE throws on parseFromString with invalid input. try { xml = ( new window.DOMParser() ).parseFromString( data, &quot;text/xml&quot; ); } catch ( e ) { xml = undefined; } if ( !xml || xml.getElementsByTagName( &quot;parsererror&quot; ).length ) { jQuery.error( &quot;Invalid XML: &quot; + data ); } return xml; }; var rbracket = /\\[\\]$/, rCRLF = /\\r?\\n/g, rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i, rsubmittable = /^(?:input|select|textarea|keygen)/i; function buildParams( prefix, obj, traditional, add ) { var name; if ( jQuery.isArray( obj ) ) { // Serialize array item. jQuery.each( obj, function( i, v ) { if ( traditional || rbracket.test( prefix ) ) { // Treat each array item as a scalar. add( prefix, v ); } else { // Item is non-scalar (array or object), encode its numeric index. buildParams( prefix + &quot;[&quot; + ( typeof v === &quot;object&quot; &amp;&amp; v != null ? i : &quot;&quot; ) + &quot;]&quot;, v, traditional, add ); } } ); } else if ( !traditional &amp;&amp; jQuery.type( obj ) === &quot;object&quot; ) { // Serialize object item. for ( name in obj ) { buildParams( prefix + &quot;[&quot; + name + &quot;]&quot;, obj[ name ], traditional, add ); } } else { // Serialize scalar item. add( prefix, obj ); } } // Serialize an array of form elements or a set of // key/values into a query string jQuery.param = function( a, traditional ) { var prefix, s = [], add = function( key, valueOrFunction ) { // If value is a function, invoke it and use its return value var value = jQuery.isFunction( valueOrFunction ) ? valueOrFunction() : valueOrFunction; s[ s.length ] = encodeURIComponent( key ) + &quot;=&quot; + encodeURIComponent( value == null ? &quot;&quot; : value ); }; // If an array was passed in, assume that it is an array of form elements. if ( jQuery.isArray( a ) || ( a.jquery &amp;&amp; !jQuery.isPlainObject( a ) ) ) { // Serialize the form elements jQuery.each( a, function() { add( this.name, this.value ); } ); } else { // If traditional, encode the &quot;old&quot; way (the way 1.3.2 or older // did it), otherwise encode params recursively. for ( prefix in a ) { buildParams( prefix, a[ prefix ], traditional, add ); } } // Return the resulting serialization return s.join( &quot;&amp;&quot; ); }; jQuery.fn.extend( { serialize: function() { return jQuery.param( this.serializeArray() ); }, serializeArray: function() { return this.map( function() { // Can add propHook for &quot;elements&quot; to filter or add form elements var elements = jQuery.prop( this, &quot;elements&quot; ); return elements ? jQuery.makeArray( elements ) : this; } ) .filter( function() { var type = this.type; // Use .is( &quot;:disabled&quot; ) so that fieldset[disabled] works return this.name &amp;&amp; !jQuery( this ).is( &quot;:disabled&quot; ) &amp;&amp; rsubmittable.test( this.nodeName ) &amp;&amp; !rsubmitterTypes.test( type ) &amp;&amp; ( this.checked || !rcheckableType.test( type ) ); } ) .map( function( i, elem ) { var val = jQuery( this ).val(); if ( val == null ) { return null; } if ( jQuery.isArray( val ) ) { return jQuery.map( val, function( val ) { return { name: elem.name, value: val.replace( rCRLF, &quot;\\r\\n&quot; ) }; } ); } return { name: elem.name, value: val.replace( rCRLF, &quot;\\r\\n&quot; ) }; } ).get(); } } ); var r20 = /%20/g, rhash = /#.*$/, rantiCache = /([?&amp;])_=[^&amp;]*/, rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg, // #7653, #8125, #8152: local protocol detection rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, rnoContent = /^(?:GET|HEAD)$/, rprotocol = /^\\/\\//, /* Prefilters * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example) * 2) These are called: * - BEFORE asking for a transport * - AFTER param serialization (s.data is a string if s.processData is true) * 3) key is the dataType * 4) the catchall symbol &quot;*&quot; can be used * 5) execution will start with transport dataType and THEN continue down to &quot;*&quot; if needed */ prefilters = {}, /* Transports bindings * 1) key is the dataType * 2) the catchall symbol &quot;*&quot; can be used * 3) selection will start with transport dataType and THEN go to &quot;*&quot; if needed */ transports = {}, // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression allTypes = &quot;*/&quot;.concat( &quot;*&quot; ), // Anchor tag for parsing the document origin originAnchor = document.createElement( &quot;a&quot; ); originAnchor.href = location.href; // Base &quot;constructor&quot; for jQuery.ajaxPrefilter and jQuery.ajaxTransport function addToPrefiltersOrTransports( structure ) { // dataTypeExpression is optional and defaults to &quot;*&quot; return function( dataTypeExpression, func ) { if ( typeof dataTypeExpression !== &quot;string&quot; ) { func = dataTypeExpression; dataTypeExpression = &quot;*&quot;; } var dataType, i = 0, dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || []; if ( jQuery.isFunction( func ) ) { // For each dataType in the dataTypeExpression while ( ( dataType = dataTypes[ i++ ] ) ) { // Prepend if requested if ( dataType[ 0 ] === &quot;+&quot; ) { dataType = dataType.slice( 1 ) || &quot;*&quot;; ( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func ); // Otherwise append } else { ( structure[ dataType ] = structure[ dataType ] || [] ).push( func ); } } } }; } // Base inspection function for prefilters and transports function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) { var inspected = {}, seekingTransport = ( structure === transports ); function inspect( dataType ) { var selected; inspected[ dataType ] = true; jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) { var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR ); if ( typeof dataTypeOrTransport === &quot;string&quot; &amp;&amp; !seekingTransport &amp;&amp; !inspected[ dataTypeOrTransport ] ) { options.dataTypes.unshift( dataTypeOrTransport ); inspect( dataTypeOrTransport ); return false; } else if ( seekingTransport ) { return !( selected = dataTypeOrTransport ); } } ); return selected; } return inspect( options.dataTypes[ 0 ] ) || !inspected[ &quot;*&quot; ] &amp;&amp; inspect( &quot;*&quot; ); } // A special extend for ajax options // that takes &quot;flat&quot; options (not to be deep extended) // Fixes #9887 function ajaxExtend( target, src ) { var key, deep, flatOptions = jQuery.ajaxSettings.flatOptions || {}; for ( key in src ) { if ( src[ key ] !== undefined ) { ( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ]; } } if ( deep ) { jQuery.extend( true, target, deep ); } return target; } /* Handles responses to an ajax request: * - finds the right dataType (mediates between content-type and expected dataType) * - returns the corresponding response */ function ajaxHandleResponses( s, jqXHR, responses ) { var ct, type, finalDataType, firstDataType, contents = s.contents, dataTypes = s.dataTypes; // Remove auto dataType and get content-type in the process while ( dataTypes[ 0 ] === &quot;*&quot; ) { dataTypes.shift(); if ( ct === undefined ) { ct = s.mimeType || jqXHR.getResponseHeader( &quot;Content-Type&quot; ); } } // Check if we're dealing with a known content-type if ( ct ) { for ( type in contents ) { if ( contents[ type ] &amp;&amp; contents[ type ].test( ct ) ) { dataTypes.unshift( type ); break; } } } // Check to see if we have a response for the expected dataType if ( dataTypes[ 0 ] in responses ) { finalDataType = dataTypes[ 0 ]; } else { // Try convertible dataTypes for ( type in responses ) { if ( !dataTypes[ 0 ] || s.converters[ type + &quot; &quot; + dataTypes[ 0 ] ] ) { finalDataType = type; break; } if ( !firstDataType ) { firstDataType = type; } } // Or just use first one finalDataType = finalDataType || firstDataType; } // If we found a dataType // We add the dataType to the list if needed // and return the corresponding response if ( finalDataType ) { if ( finalDataType !== dataTypes[ 0 ] ) { dataTypes.unshift( finalDataType ); } return responses[ finalDataType ]; } } /* Chain conversions given the request and the original response * Also sets the responseXXX fields on the jqXHR instance */ function ajaxConvert( s, response, jqXHR, isSuccess ) { var conv2, current, conv, tmp, prev, converters = {}, // Work with a copy of dataTypes in case we need to modify it for conversion dataTypes = s.dataTypes.slice(); // Create converters map with lowercased keys if ( dataTypes[ 1 ] ) { for ( conv in s.converters ) { converters[ conv.toLowerCase() ] = s.converters[ conv ]; } } current = dataTypes.shift(); // Convert to each sequential dataType while ( current ) { if ( s.responseFields[ current ] ) { jqXHR[ s.responseFields[ current ] ] = response; } // Apply the dataFilter if provided if ( !prev &amp;&amp; isSuccess &amp;&amp; s.dataFilter ) { response = s.dataFilter( response, s.dataType ); } prev = current; current = dataTypes.shift(); if ( current ) { // There's only work to do if current dataType is non-auto if ( current === &quot;*&quot; ) { current = prev; // Convert response if prev dataType is non-auto and differs from current } else if ( prev !== &quot;*&quot; &amp;&amp; prev !== current ) { // Seek a direct converter conv = converters[ prev + &quot; &quot; + current ] || converters[ &quot;* &quot; + current ]; // If none found, seek a pair if ( !conv ) { for ( conv2 in converters ) { // If conv2 outputs current tmp = conv2.split( &quot; &quot; ); if ( tmp[ 1 ] === current ) { // If prev can be converted to accepted input conv = converters[ prev + &quot; &quot; + tmp[ 0 ] ] || converters[ &quot;* &quot; + tmp[ 0 ] ]; if ( conv ) { // Condense equivalence converters if ( conv === true ) { conv = converters[ conv2 ]; // Otherwise, insert the intermediate dataType } else if ( converters[ conv2 ] !== true ) { current = tmp[ 0 ]; dataTypes.unshift( tmp[ 1 ] ); } break; } } } } // Apply converter (if not an equivalence) if ( conv !== true ) { // Unless errors are allowed to bubble, catch and return them if ( conv &amp;&amp; s.throws ) { response = conv( response ); } else { try { response = conv( response ); } catch ( e ) { return { state: &quot;parsererror&quot;, error: conv ? e : &quot;No conversion from &quot; + prev + &quot; to &quot; + current }; } } } } } } return { state: &quot;success&quot;, data: response }; } jQuery.extend( { // Counter for holding the number of active queries active: 0, // Last-Modified header cache for next request lastModified: {}, etag: {}, ajaxSettings: { url: location.href, type: &quot;GET&quot;, isLocal: rlocalProtocol.test( location.protocol ), global: true, processData: true, async: true, contentType: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;, /* timeout: 0, data: null, dataType: null, username: null, password: null, cache: null, throws: false, traditional: false, headers: {}, */ accepts: { &quot;*&quot;: allTypes, text: &quot;text/plain&quot;, html: &quot;text/html&quot;, xml: &quot;application/xml, text/xml&quot;, json: &quot;application/json, text/javascript&quot; }, contents: { xml: /\\bxml\\b/, html: /\\bhtml/, json: /\\bjson\\b/ }, responseFields: { xml: &quot;responseXML&quot;, text: &quot;responseText&quot;, json: &quot;responseJSON&quot; }, // Data converters // Keys separate source (or catchall &quot;*&quot;) and destination types with a single space converters: { // Convert anything to text &quot;* text&quot;: String, // Text to html (true = no transformation) &quot;text html&quot;: true, // Evaluate text as a json expression &quot;text json&quot;: JSON.parse, // Parse text as xml &quot;text xml&quot;: jQuery.parseXML }, // For options that shouldn't be deep extended: // you can add your own custom options here if // and when you create one that shouldn't be // deep extended (see ajaxExtend) flatOptions: { url: true, context: true } }, // Creates a full fledged settings object into target // with both ajaxSettings and settings fields. // If target is omitted, writes into ajaxSettings. ajaxSetup: function( target, settings ) { return settings ? // Building a settings object ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) : // Extending ajaxSettings ajaxExtend( jQuery.ajaxSettings, target ); }, ajaxPrefilter: addToPrefiltersOrTransports( prefilters ), ajaxTransport: addToPrefiltersOrTransports( transports ), // Main method ajax: function( url, options ) { // If url is an object, simulate pre-1.5 signature if ( typeof url === &quot;object&quot; ) { options = url; url = undefined; } // Force options to be an object options = options || {}; var transport, // URL without anti-cache param cacheURL, // Response headers responseHeadersString, responseHeaders, // timeout handle timeoutTimer, // Url cleanup var urlAnchor, // Request state (becomes false upon send and true upon completion) completed, // To know if global events are to be dispatched fireGlobals, // Loop variable i, // uncached part of the url uncached, // Create the final options object s = jQuery.ajaxSetup( {}, options ), // Callbacks context callbackContext = s.context || s, // Context for global events is callbackContext if it is a DOM node or jQuery collection globalEventContext = s.context &amp;&amp; ( callbackContext.nodeType || callbackContext.jquery ) ? jQuery( callbackContext ) : jQuery.event, // Deferreds deferred = jQuery.Deferred(), completeDeferred = jQuery.Callbacks( &quot;once memory&quot; ), // Status-dependent callbacks statusCode = s.statusCode || {}, // Headers (they are sent all at once) requestHeaders = {}, requestHeadersNames = {}, // Default abort message strAbort = &quot;canceled&quot;, // Fake xhr jqXHR = { readyState: 0, // Builds headers hashtable if needed getResponseHeader: function( key ) { var match; if ( completed ) { if ( !responseHeaders ) { responseHeaders = {}; while ( ( match = rheaders.exec( responseHeadersString ) ) ) { responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ]; } } match = responseHeaders[ key.toLowerCase() ]; } return match == null ? null : match; }, // Raw string getAllResponseHeaders: function() { return completed ? responseHeadersString : null; }, // Caches the header setRequestHeader: function( name, value ) { if ( completed == null ) { name = requestHeadersNames[ name.toLowerCase() ] = requestHeadersNames[ name.toLowerCase() ] || name; requestHeaders[ name ] = value; } return this; }, // Overrides response content-type header overrideMimeType: function( type ) { if ( completed == null ) { s.mimeType = type; } return this; }, // Status-dependent callbacks statusCode: function( map ) { var code; if ( map ) { if ( completed ) { // Execute the appropriate callbacks jqXHR.always( map[ jqXHR.status ] ); } else { // Lazy-add the new callbacks in a way that preserves old ones for ( code in map ) { statusCode[ code ] = [ statusCode[ code ], map[ code ] ]; } } } return this; }, // Cancel the request abort: function( statusText ) { var finalText = statusText || strAbort; if ( transport ) { transport.abort( finalText ); } done( 0, finalText ); return this; } }; // Attach deferreds deferred.promise( jqXHR ); // Add protocol if not provided (prefilters might expect it) // Handle falsy url in the settings object (#10093: consistency with old signature) // We also use the url parameter if available s.url = ( ( url || s.url || location.href ) + &quot;&quot; ) .replace( rprotocol, location.protocol + &quot;//&quot; ); // Alias method option to type as per ticket #12004 s.type = options.method || options.type || s.method || s.type; // Extract dataTypes list s.dataTypes = ( s.dataType || &quot;*&quot; ).toLowerCase().match( rnothtmlwhite ) || [ &quot;&quot; ]; // A cross-domain request is in order when the origin doesn't match the current origin. if ( s.crossDomain == null ) { urlAnchor = document.createElement( &quot;a&quot; ); // Support: IE &lt;=8 - 11, Edge 12 - 13 // IE throws exception on accessing the href property if url is malformed, // e.g. http://example.com:80x/ try { urlAnchor.href = s.url; // Support: IE &lt;=8 - 11 only // Anchor's host property isn't correctly set when s.url is relative urlAnchor.href = urlAnchor.href; s.crossDomain = originAnchor.protocol + &quot;//&quot; + originAnchor.host !== urlAnchor.protocol + &quot;//&quot; + urlAnchor.host; } catch ( e ) { // If there is an error parsing the URL, assume it is crossDomain, // it can be rejected by the transport if it is invalid s.crossDomain = true; } } // Convert data if not already a string if ( s.data &amp;&amp; s.processData &amp;&amp; typeof s.data !== &quot;string&quot; ) { s.data = jQuery.param( s.data, s.traditional ); } // Apply prefilters inspectPrefiltersOrTransports( prefilters, s, options, jqXHR ); // If request was aborted inside a prefilter, stop there if ( completed ) { return jqXHR; } // We can fire global events as of now if asked to // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118) fireGlobals = jQuery.event &amp;&amp; s.global; // Watch for a new set of requests if ( fireGlobals &amp;&amp; jQuery.active++ === 0 ) { jQuery.event.trigger( &quot;ajaxStart&quot; ); } // Uppercase the type s.type = s.type.toUpperCase(); // Determine if request has content s.hasContent = !rnoContent.test( s.type ); // Save the URL in case we're toying with the If-Modified-Since // and/or If-None-Match header later on // Remove hash to simplify url manipulation cacheURL = s.url.replace( rhash, &quot;&quot; ); // More options handling for requests with no content if ( !s.hasContent ) { // Remember the hash so we can put it back uncached = s.url.slice( cacheURL.length ); // If data is available, append data to url if ( s.data ) { cacheURL += ( rquery.test( cacheURL ) ? &quot;&amp;&quot; : &quot;?&quot; ) + s.data; // #9682: remove data so that it's not used in an eventual retry delete s.data; } // Add or update anti-cache param if needed if ( s.cache === false ) { cacheURL = cacheURL.replace( rantiCache, &quot;$1&quot; ); uncached = ( rquery.test( cacheURL ) ? &quot;&amp;&quot; : &quot;?&quot; ) + &quot;_=&quot; + ( nonce++ ) + uncached; } // Put hash and anti-cache on the URL that will be requested (gh-1732) s.url = cacheURL + uncached; // Change '%20' to '+' if this is encoded form body content (gh-2658) } else if ( s.data &amp;&amp; s.processData &amp;&amp; ( s.contentType || &quot;&quot; ).indexOf( &quot;application/x-www-form-urlencoded&quot; ) === 0 ) { s.data = s.data.replace( r20, &quot;+&quot; ); } // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode. if ( s.ifModified ) { if ( jQuery.lastModified[ cacheURL ] ) { jqXHR.setRequestHeader( &quot;If-Modified-Since&quot;, jQuery.lastModified[ cacheURL ] ); } if ( jQuery.etag[ cacheURL ] ) { jqXHR.setRequestHeader( &quot;If-None-Match&quot;, jQuery.etag[ cacheURL ] ); } } // Set the correct header, if data is being sent if ( s.data &amp;&amp; s.hasContent &amp;&amp; s.contentType !== false || options.contentType ) { jqXHR.setRequestHeader( &quot;Content-Type&quot;, s.contentType ); } // Set the Accepts header for the server, depending on the dataType jqXHR.setRequestHeader( &quot;Accept&quot;, s.dataTypes[ 0 ] &amp;&amp; s.accepts[ s.dataTypes[ 0 ] ] ? s.accepts[ s.dataTypes[ 0 ] ] + ( s.dataTypes[ 0 ] !== &quot;*&quot; ? &quot;, &quot; + allTypes + &quot;; q=0.01&quot; : &quot;&quot; ) : s.accepts[ &quot;*&quot; ] ); // Check for headers option for ( i in s.headers ) { jqXHR.setRequestHeader( i, s.headers[ i ] ); } // Allow custom headers/mimetypes and early abort if ( s.beforeSend &amp;&amp; ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) { // Abort if not done already and return return jqXHR.abort(); } // Aborting is no longer a cancellation strAbort = &quot;abort&quot;; // Install callbacks on deferreds completeDeferred.add( s.complete ); jqXHR.done( s.success ); jqXHR.fail( s.error ); // Get transport transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR ); // If no transport, we auto-abort if ( !transport ) { done( -1, &quot;No Transport&quot; ); } else { jqXHR.readyState = 1; // Send global event if ( fireGlobals ) { globalEventContext.trigger( &quot;ajaxSend&quot;, [ jqXHR, s ] ); } // If request was aborted inside ajaxSend, stop there if ( completed ) { return jqXHR; } // Timeout if ( s.async &amp;&amp; s.timeout &gt; 0 ) { timeoutTimer = window.setTimeout( function() { jqXHR.abort( &quot;timeout&quot; ); }, s.timeout ); } try { completed = false; transport.send( requestHeaders, done ); } catch ( e ) { // Rethrow post-completion exceptions if ( completed ) { throw e; } // Propagate others as results done( -1, e ); } } // Callback for when everything is done function done( status, nativeStatusText, responses, headers ) { var isSuccess, success, error, response, modified, statusText = nativeStatusText; // Ignore repeat invocations if ( completed ) { return; } completed = true; // Clear timeout if it exists if ( timeoutTimer ) { window.clearTimeout( timeoutTimer ); } // Dereference transport for early garbage collection // (no matter how long the jqXHR object will be used) transport = undefined; // Cache response headers responseHeadersString = headers || &quot;&quot;; // Set readyState jqXHR.readyState = status &gt; 0 ? 4 : 0; // Determine if successful isSuccess = status &gt;= 200 &amp;&amp; status &lt; 300 || status === 304; // Get response data if ( responses ) { response = ajaxHandleResponses( s, jqXHR, responses ); } // Convert no matter what (that way responseXXX fields are always set) response = ajaxConvert( s, response, jqXHR, isSuccess ); // If successful, handle type chaining if ( isSuccess ) { // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode. if ( s.ifModified ) { modified = jqXHR.getResponseHeader( &quot;Last-Modified&quot; ); if ( modified ) { jQuery.lastModified[ cacheURL ] = modified; } modified = jqXHR.getResponseHeader( &quot;etag&quot; ); if ( modified ) { jQuery.etag[ cacheURL ] = modified; } } // if no content if ( status === 204 || s.type === &quot;HEAD&quot; ) { statusText = &quot;nocontent&quot;; // if not modified } else if ( status === 304 ) { statusText = &quot;notmodified&quot;; // If we have data, let's convert it } else { statusText = response.state; success = response.data; error = response.error; isSuccess = !error; } } else { // Extract error from statusText and normalize for non-aborts error = statusText; if ( status || !statusText ) { statusText = &quot;error&quot;; if ( status &lt; 0 ) { status = 0; } } } // Set data for the fake xhr object jqXHR.status = status; jqXHR.statusText = ( nativeStatusText || statusText ) + &quot;&quot;; // Success/Error if ( isSuccess ) { deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] ); } else { deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] ); } // Status-dependent callbacks jqXHR.statusCode( statusCode ); statusCode = undefined; if ( fireGlobals ) { globalEventContext.trigger( isSuccess ? &quot;ajaxSuccess&quot; : &quot;ajaxError&quot;, [ jqXHR, s, isSuccess ? success : error ] ); } // Complete completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] ); if ( fireGlobals ) { globalEventContext.trigger( &quot;ajaxComplete&quot;, [ jqXHR, s ] ); // Handle the global AJAX counter if ( !( --jQuery.active ) ) { jQuery.event.trigger( &quot;ajaxStop&quot; ); } } } return jqXHR; }, getJSON: function( url, data, callback ) { return jQuery.get( url, data, callback, &quot;json&quot; ); }, getScript: function( url, callback ) { return jQuery.get( url, undefined, callback, &quot;script&quot; ); } } ); jQuery.each( [ &quot;get&quot;, &quot;post&quot; ], function( i, method ) { jQuery[ method ] = function( url, data, callback, type ) { // Shift arguments if data argument was omitted if ( jQuery.isFunction( data ) ) { type = type || callback; callback = data; data = undefined; } // The url can be an options object (which then must have .url) return jQuery.ajax( jQuery.extend( { url: url, type: method, dataType: type, data: data, success: callback }, jQuery.isPlainObject( url ) &amp;&amp; url ) ); }; } ); jQuery._evalUrl = function( url ) { return jQuery.ajax( { url: url, // Make this explicit, since user can override this through ajaxSetup (#11264) type: &quot;GET&quot;, dataType: &quot;script&quot;, cache: true, async: false, global: false, &quot;throws&quot;: true } ); }; jQuery.fn.extend( { wrapAll: function( html ) { var wrap; if ( this[ 0 ] ) { if ( jQuery.isFunction( html ) ) { html = html.call( this[ 0 ] ); } // The elements to wrap the target around wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true ); if ( this[ 0 ].parentNode ) { wrap.insertBefore( this[ 0 ] ); } wrap.map( function() { var elem = this; while ( elem.firstElementChild ) { elem = elem.firstElementChild; } return elem; } ).append( this ); } return this; }, wrapInner: function( html ) { if ( jQuery.isFunction( html ) ) { return this.each( function( i ) { jQuery( this ).wrapInner( html.call( this, i ) ); } ); } return this.each( function() { var self = jQuery( this ), contents = self.contents(); if ( contents.length ) { contents.wrapAll( html ); } else { self.append( html ); } } ); }, wrap: function( html ) { var isFunction = jQuery.isFunction( html ); return this.each( function( i ) { jQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html ); } ); }, unwrap: function( selector ) { this.parent( selector ).not( &quot;body&quot; ).each( function() { jQuery( this ).replaceWith( this.childNodes ); } ); return this; } } ); jQuery.expr.pseudos.hidden = function( elem ) { return !jQuery.expr.pseudos.visible( elem ); }; jQuery.expr.pseudos.visible = function( elem ) { return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length ); }; jQuery.ajaxSettings.xhr = function() { try { return new window.XMLHttpRequest(); } catch ( e ) {} }; var xhrSuccessStatus = { // File protocol always yields status code 0, assume 200 0: 200, // Support: IE &lt;=9 only // #1450: sometimes IE returns 1223 when it should be 204 1223: 204 }, xhrSupported = jQuery.ajaxSettings.xhr(); support.cors = !!xhrSupported &amp;&amp; ( &quot;withCredentials&quot; in xhrSupported ); support.ajax = xhrSupported = !!xhrSupported; jQuery.ajaxTransport( function( options ) { var callback, errorCallback; // Cross domain only allowed if supported through XMLHttpRequest if ( support.cors || xhrSupported &amp;&amp; !options.crossDomain ) { return { send: function( headers, complete ) { var i, xhr = options.xhr(); xhr.open( options.type, options.url, options.async, options.username, options.password ); // Apply custom fields if provided if ( options.xhrFields ) { for ( i in options.xhrFields ) { xhr[ i ] = options.xhrFields[ i ]; } } // Override mime type if needed if ( options.mimeType &amp;&amp; xhr.overrideMimeType ) { xhr.overrideMimeType( options.mimeType ); } // X-Requested-With header // For cross-domain requests, seeing as conditions for a preflight are // akin to a jigsaw puzzle, we simply never set it to be sure. // (it can always be set on a per-request basis or even using ajaxSetup) // For same-domain requests, won't change header if already provided. if ( !options.crossDomain &amp;&amp; !headers[ &quot;X-Requested-With&quot; ] ) { headers[ &quot;X-Requested-With&quot; ] = &quot;XMLHttpRequest&quot;; } // Set headers for ( i in headers ) { xhr.setRequestHeader( i, headers[ i ] ); } // Callback callback = function( type ) { return function() { if ( callback ) { callback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = null; if ( type === &quot;abort&quot; ) { xhr.abort(); } else if ( type === &quot;error&quot; ) { // Support: IE &lt;=9 only // On a manual native abort, IE9 throws // errors on any property access that is not readyState if ( typeof xhr.status !== &quot;number&quot; ) { complete( 0, &quot;error&quot; ); } else { complete( // File: protocol always yields status 0; see #8605, #14207 xhr.status, xhr.statusText ); } } else { complete( xhrSuccessStatus[ xhr.status ] || xhr.status, xhr.statusText, // Support: IE &lt;=9 only // IE9 has no XHR2 but throws on binary (trac-11426) // For XHR2 non-text, let the caller handle it (gh-2498) ( xhr.responseType || &quot;text&quot; ) !== &quot;text&quot; || typeof xhr.responseText !== &quot;string&quot; ? { binary: xhr.response } : { text: xhr.responseText }, xhr.getAllResponseHeaders() ); } } }; }; // Listen to events xhr.onload = callback(); errorCallback = xhr.onerror = callback( &quot;error&quot; ); // Support: IE 9 only // Use onreadystatechange to replace onabort // to handle uncaught aborts if ( xhr.onabort !== undefined ) { xhr.onabort = errorCallback; } else { xhr.onreadystatechange = function() { // Check readyState before timeout as it changes if ( xhr.readyState === 4 ) { // Allow onerror to be called first, // but that will not handle a native abort // Also, save errorCallback to a variable // as xhr.onerror cannot be accessed window.setTimeout( function() { if ( callback ) { errorCallback(); } } ); } }; } // Create the abort callback callback = callback( &quot;abort&quot; ); try { // Do send the request (this may raise an exception) xhr.send( options.hasContent &amp;&amp; options.data || null ); } catch ( e ) { // #14683: Only rethrow if this hasn't been notified as an error yet if ( callback ) { throw e; } } }, abort: function() { if ( callback ) { callback(); } } }; } } ); // Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432) jQuery.ajaxPrefilter( function( s ) { if ( s.crossDomain ) { s.contents.script = false; } } ); // Install script dataType jQuery.ajaxSetup( { accepts: { script: &quot;text/javascript, application/javascript, &quot; + &quot;application/ecmascript, application/x-ecmascript&quot; }, contents: { script: /\\b(?:java|ecma)script\\b/ }, converters: { &quot;text script&quot;: function( text ) { jQuery.globalEval( text ); return text; } } } ); // Handle cache's special case and crossDomain jQuery.ajaxPrefilter( &quot;script&quot;, function( s ) { if ( s.cache === undefined ) { s.cache = false; } if ( s.crossDomain ) { s.type = &quot;GET&quot;; } } ); // Bind script tag hack transport jQuery.ajaxTransport( &quot;script&quot;, function( s ) { // This transport only deals with cross domain requests if ( s.crossDomain ) { var script, callback; return { send: function( _, complete ) { script = jQuery( &quot;&lt;script&gt;&quot; ).prop( { charset: s.scriptCharset, src: s.url } ).on( &quot;load error&quot;, callback = function( evt ) { script.remove(); callback = null; if ( evt ) { complete( evt.type === &quot;error&quot; ? 404 : 200, evt.type ); } } ); // Use native DOM manipulation to avoid our domManip AJAX trickery document.head.appendChild( script[ 0 ] ); }, abort: function() { if ( callback ) { callback(); } } }; } } ); var oldCallbacks = [], rjsonp = /(=)\\?(?=&amp;|$)|\\?\\?/; // Default jsonp settings jQuery.ajaxSetup( { jsonp: &quot;callback&quot;, jsonpCallback: function() { var callback = oldCallbacks.pop() || ( jQuery.expando + &quot;_&quot; + ( nonce++ ) ); this[ callback ] = true; return callback; } } ); // Detect, normalize options and install callbacks for jsonp requests jQuery.ajaxPrefilter( &quot;json jsonp&quot;, function( s, originalSettings, jqXHR ) { var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false &amp;&amp; ( rjsonp.test( s.url ) ? &quot;url&quot; : typeof s.data === &quot;string&quot; &amp;&amp; ( s.contentType || &quot;&quot; ) .indexOf( &quot;application/x-www-form-urlencoded&quot; ) === 0 &amp;&amp; rjsonp.test( s.data ) &amp;&amp; &quot;data&quot; ); // Handle iff the expected data type is &quot;jsonp&quot; or we have a parameter to set if ( jsonProp || s.dataTypes[ 0 ] === &quot;jsonp&quot; ) { // Get callback name, remembering preexisting value associated with it callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ? s.jsonpCallback() : s.jsonpCallback; // Insert callback into url or form data if ( jsonProp ) { s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, &quot;$1&quot; + callbackName ); } else if ( s.jsonp !== false ) { s.url += ( rquery.test( s.url ) ? &quot;&amp;&quot; : &quot;?&quot; ) + s.jsonp + &quot;=&quot; + callbackName; } // Use data converter to retrieve json after script execution s.converters[ &quot;script json&quot; ] = function() { if ( !responseContainer ) { jQuery.error( callbackName + &quot; was not called&quot; ); } return responseContainer[ 0 ]; }; // Force json dataType s.dataTypes[ 0 ] = &quot;json&quot;; // Install callback overwritten = window[ callbackName ]; window[ callbackName ] = function() { responseContainer = arguments; }; // Clean-up function (fires after converters) jqXHR.always( function() { // If previous value didn't exist - remove it if ( overwritten === undefined ) { jQuery( window ).removeProp( callbackName ); // Otherwise restore preexisting value } else { window[ callbackName ] = overwritten; } // Save back as free if ( s[ callbackName ] ) { // Make sure that re-using the options doesn't screw things around s.jsonpCallback = originalSettings.jsonpCallback; // Save the callback name for future use oldCallbacks.push( callbackName ); } // Call if it was a function and we have a response if ( responseContainer &amp;&amp; jQuery.isFunction( overwritten ) ) { overwritten( responseContainer[ 0 ] ); } responseContainer = overwritten = undefined; } ); // Delegate to script return &quot;script&quot;; } } ); // Support: Safari 8 only // In Safari 8 documents created via document.implementation.createHTMLDocument // collapse sibling forms: the second one becomes a child of the first one. // Because of that, this security measure has to be disabled in Safari 8. // https://bugs.webkit.org/show_bug.cgi?id=137337 support.createHTMLDocument = ( function() { var body = document.implementation.createHTMLDocument( &quot;&quot; ).body; body.innerHTML = &quot;&lt;form&gt;&lt;/form&gt;&lt;form&gt;&lt;/form&gt;&quot;; return body.childNodes.length === 2; } )(); // Argument &quot;data&quot; should be string of html // context (optional): If specified, the fragment will be created in this context, // defaults to document // keepScripts (optional): If true, will include scripts passed in the html string jQuery.parseHTML = function( data, context, keepScripts ) { if ( typeof data !== &quot;string&quot; ) { return []; } if ( typeof context === &quot;boolean&quot; ) { keepScripts = context; context = false; } var base, parsed, scripts; if ( !context ) { // Stop scripts or inline event handlers from being executed immediately // by using document.implementation if ( support.createHTMLDocument ) { context = document.implementation.createHTMLDocument( &quot;&quot; ); // Set the base href for the created document // so any parsed elements with URLs // are based on the document's URL (gh-2965) base = context.createElement( &quot;base&quot; ); base.href = document.location.href; context.head.appendChild( base ); } else { context = document; } } parsed = rsingleTag.exec( data ); scripts = !keepScripts &amp;&amp; []; // Single tag if ( parsed ) { return [ context.createElement( parsed[ 1 ] ) ]; } parsed = buildFragment( [ data ], context, scripts ); if ( scripts &amp;&amp; scripts.length ) { jQuery( scripts ).remove(); } return jQuery.merge( [], parsed.childNodes ); }; /** * Load a url into a page */ jQuery.fn.load = function( url, params, callback ) { var selector, type, response, self = this, off = url.indexOf( &quot; &quot; ); if ( off &gt; -1 ) { selector = stripAndCollapse( url.slice( off ) ); url = url.slice( 0, off ); } // If it's a function if ( jQuery.isFunction( params ) ) { // We assume that it's the callback callback = params; params = undefined; // Otherwise, build a param string } else if ( params &amp;&amp; typeof params === &quot;object&quot; ) { type = &quot;POST&quot;; } // If we have elements to modify, make the request if ( self.length &gt; 0 ) { jQuery.ajax( { url: url, // If &quot;type&quot; variable is undefined, then &quot;GET&quot; method will be used. // Make value of this field explicit since // user can override it through ajaxSetup method type: type || &quot;GET&quot;, dataType: &quot;html&quot;, data: params } ).done( function( responseText ) { // Save response for use in complete callback response = arguments; self.html( selector ? // If a selector was specified, locate the right elements in a dummy div // Exclude scripts to avoid IE 'Permission Denied' errors jQuery( &quot;&lt;div&gt;&quot; ).append( jQuery.parseHTML( responseText ) ).find( selector ) : // Otherwise use the full result responseText ); // If the request succeeds, this function gets &quot;data&quot;, &quot;status&quot;, &quot;jqXHR&quot; // but they are ignored because response was set above. // If it fails, this function gets &quot;jqXHR&quot;, &quot;status&quot;, &quot;error&quot; } ).always( callback &amp;&amp; function( jqXHR, status ) { self.each( function() { callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] ); } ); } ); } return this; }; // Attach a bunch of functions for handling common AJAX events jQuery.each( [ &quot;ajaxStart&quot;, &quot;ajaxStop&quot;, &quot;ajaxComplete&quot;, &quot;ajaxError&quot;, &quot;ajaxSuccess&quot;, &quot;ajaxSend&quot; ], function( i, type ) { jQuery.fn[ type ] = function( fn ) { return this.on( type, fn ); }; } ); jQuery.expr.pseudos.animated = function( elem ) { return jQuery.grep( jQuery.timers, function( fn ) { return elem === fn.elem; } ).length; }; /** * Gets a window from an element */ function getWindow( elem ) { return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 &amp;&amp; elem.defaultView; } jQuery.offset = { setOffset: function( elem, options, i ) { var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css( elem, &quot;position&quot; ), curElem = jQuery( elem ), props = {}; // Set position first, in-case top/left are set even on static elem if ( position === &quot;static&quot; ) { elem.style.position = &quot;relative&quot;; } curOffset = curElem.offset(); curCSSTop = jQuery.css( elem, &quot;top&quot; ); curCSSLeft = jQuery.css( elem, &quot;left&quot; ); calculatePosition = ( position === &quot;absolute&quot; || position === &quot;fixed&quot; ) &amp;&amp; ( curCSSTop + curCSSLeft ).indexOf( &quot;auto&quot; ) &gt; -1; // Need to be able to calculate position if either // top or left is auto and position is either absolute or fixed if ( calculatePosition ) { curPosition = curElem.position(); curTop = curPosition.top; curLeft = curPosition.left; } else { curTop = parseFloat( curCSSTop ) || 0; curLeft = parseFloat( curCSSLeft ) || 0; } if ( jQuery.isFunction( options ) ) { // Use jQuery.extend here to allow modification of coordinates argument (gh-1848) options = options.call( elem, i, jQuery.extend( {}, curOffset ) ); } if ( options.top != null ) { props.top = ( options.top - curOffset.top ) + curTop; } if ( options.left != null ) { props.left = ( options.left - curOffset.left ) + curLeft; } if ( &quot;using&quot; in options ) { options.using.call( elem, props ); } else { curElem.css( props ); } } }; jQuery.fn.extend( { offset: function( options ) { // Preserve chaining for setter if ( arguments.length ) { return options === undefined ? this : this.each( function( i ) { jQuery.offset.setOffset( this, options, i ); } ); } var docElem, win, rect, doc, elem = this[ 0 ]; if ( !elem ) { return; } // Support: IE &lt;=11 only // Running getBoundingClientRect on a // disconnected node in IE throws an error if ( !elem.getClientRects().length ) { return { top: 0, left: 0 }; } rect = elem.getBoundingClientRect(); // Make sure element is not hidden (display: none) if ( rect.width || rect.height ) { doc = elem.ownerDocument; win = getWindow( doc ); docElem = doc.documentElement; return { top: rect.top + win.pageYOffset - docElem.clientTop, left: rect.left + win.pageXOffset - docElem.clientLeft }; } // Return zeros for disconnected and hidden elements (gh-2310) return rect; }, position: function() { if ( !this[ 0 ] ) { return; } var offsetParent, offset, elem = this[ 0 ], parentOffset = { top: 0, left: 0 }; // Fixed elements are offset from window (parentOffset = {top:0, left: 0}, // because it is its only offset parent if ( jQuery.css( elem, &quot;position&quot; ) === &quot;fixed&quot; ) { // Assume getBoundingClientRect is there when computed position is fixed offset = elem.getBoundingClientRect(); } else { // Get *real* offsetParent offsetParent = this.offsetParent(); // Get correct offsets offset = this.offset(); if ( !jQuery.nodeName( offsetParent[ 0 ], &quot;html&quot; ) ) { parentOffset = offsetParent.offset(); } // Add offsetParent borders parentOffset = { top: parentOffset.top + jQuery.css( offsetParent[ 0 ], &quot;borderTopWidth&quot;, true ), left: parentOffset.left + jQuery.css( offsetParent[ 0 ], &quot;borderLeftWidth&quot;, true ) }; } // Subtract parent offsets and element margins return { top: offset.top - parentOffset.top - jQuery.css( elem, &quot;marginTop&quot;, true ), left: offset.left - parentOffset.left - jQuery.css( elem, &quot;marginLeft&quot;, true ) }; }, // This method will return documentElement in the following cases: // 1) For the element inside the iframe without offsetParent, this method will return // documentElement of the parent window // 2) For the hidden or detached element // 3) For body or html element, i.e. in case of the html node - it will return itself // // but those exceptions were never presented as a real life use-cases // and might be considered as more preferable results. // // This logic, however, is not guaranteed and can change at any point in the future offsetParent: function() { return this.map( function() { var offsetParent = this.offsetParent; while ( offsetParent &amp;&amp; jQuery.css( offsetParent, &quot;position&quot; ) === &quot;static&quot; ) { offsetParent = offsetParent.offsetParent; } return offsetParent || documentElement; } ); } } ); // Create scrollLeft and scrollTop methods jQuery.each( { scrollLeft: &quot;pageXOffset&quot;, scrollTop: &quot;pageYOffset&quot; }, function( method, prop ) { var top = &quot;pageYOffset&quot; === prop; jQuery.fn[ method ] = function( val ) { return access( this, function( elem, method, val ) { var win = getWindow( elem ); if ( val === undefined ) { return win ? win[ prop ] : elem[ method ]; } if ( win ) { win.scrollTo( !top ? val : win.pageXOffset, top ? val : win.pageYOffset ); } else { elem[ method ] = val; } }, method, val, arguments.length ); }; } ); // Support: Safari &lt;=7 - 9.1, Chrome &lt;=37 - 49 // Add the top/left cssHooks using jQuery.fn.position // Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084 // Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347 // getComputedStyle returns percent when specified for top/left/bottom/right; // rather than make the css module depend on the offset module, just check for it here jQuery.each( [ &quot;top&quot;, &quot;left&quot; ], function( i, prop ) { jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition, function( elem, computed ) { if ( computed ) { computed = curCSS( elem, prop ); // If curCSS returns percentage, fallback to offset return rnumnonpx.test( computed ) ? jQuery( elem ).position()[ prop ] + &quot;px&quot; : computed; } } ); } ); // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods jQuery.each( { Height: &quot;height&quot;, Width: &quot;width&quot; }, function( name, type ) { jQuery.each( { padding: &quot;inner&quot; + name, content: type, &quot;&quot;: &quot;outer&quot; + name }, function( defaultExtra, funcName ) { // Margin is only for outerHeight, outerWidth jQuery.fn[ funcName ] = function( margin, value ) { var chainable = arguments.length &amp;&amp; ( defaultExtra || typeof margin !== &quot;boolean&quot; ), extra = defaultExtra || ( margin === true || value === true ? &quot;margin&quot; : &quot;border&quot; ); return access( this, function( elem, type, value ) { var doc; if ( jQuery.isWindow( elem ) ) { // $( window ).outerWidth/Height return w/h including scrollbars (gh-1729) return funcName.indexOf( &quot;outer&quot; ) === 0 ? elem[ &quot;inner&quot; + name ] : elem.document.documentElement[ &quot;client&quot; + name ]; } // Get document width or height if ( elem.nodeType === 9 ) { doc = elem.documentElement; // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], // whichever is greatest return Math.max( elem.body[ &quot;scroll&quot; + name ], doc[ &quot;scroll&quot; + name ], elem.body[ &quot;offset&quot; + name ], doc[ &quot;offset&quot; + name ], doc[ &quot;client&quot; + name ] ); } return value === undefined ? // Get width or height on the element, requesting but not forcing parseFloat jQuery.css( elem, type, extra ) : // Set width or height on the element jQuery.style( elem, type, value, extra ); }, type, chainable ? margin : undefined, chainable ); }; } ); } ); jQuery.fn.extend( { bind: function( types, data, fn ) { return this.on( types, null, data, fn ); }, unbind: function( types, fn ) { return this.off( types, null, fn ); }, delegate: function( selector, types, data, fn ) { return this.on( types, selector, data, fn ); }, undelegate: function( selector, types, fn ) { // ( namespace ) or ( selector, types [, fn] ) return arguments.length === 1 ? this.off( selector, &quot;**&quot; ) : this.off( types, selector || &quot;**&quot;, fn ); } } ); jQuery.parseJSON = JSON.parse; // Register as a named AMD module, since jQuery can be concatenated with other // files that may use define, but not via a proper concatenation script that // understands anonymous AMD modules. A named AMD is safest and most robust // way to register. Lowercase jquery is used because AMD module names are // derived from file names, and jQuery is normally delivered in a lowercase // file name. Do this after creating the global so that if an AMD module wants // to call noConflict to hide this version of jQuery, it will work. // Note that for maximum portability, libraries that are not jQuery should // declare themselves as anonymous modules, and avoid setting a global if an // AMD loader is present. jQuery is a special case. For more information, see // https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon if ( typeof define === &quot;function&quot; &amp;&amp; define.amd ) { define( &quot;jquery&quot;, [], function() { return jQuery; } ); } var // Map over jQuery in case of overwrite _jQuery = window.jQuery, // Map over the $ in case of overwrite _$ = window.$; jQuery.noConflict = function( deep ) { if ( window.$ === jQuery ) { window.$ = _$; } if ( deep &amp;&amp; window.jQuery === jQuery ) { window.jQuery = _jQuery; } return jQuery; }; // Expose jQuery and $ identifiers, even in AMD // (#7102#comment:10, https://github.com/jquery/jquery/pull/557) // and CommonJS for browser emulators (#13566) if ( !noGlobal ) { window.jQuery = window.$ = jQuery; } return jQuery; } ); × Search results Close "},"jquery-3.2.1.js.html":{"id":"jquery-3.2.1.js.html","title":"Source: jquery-3.2.1.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: jquery-3.2.1.js /*! * jQuery JavaScript Library v3.2.1 * https://jquery.com/ * * Includes Sizzle.js * https://sizzlejs.com/ * * Copyright JS Foundation and other contributors * Released under the MIT license * https://jquery.org/license * * Date: 2017-03-20T18:59Z */ ( function( global, factory ) { &quot;use strict&quot;; if ( typeof module === &quot;object&quot; &amp;&amp; typeof module.exports === &quot;object&quot; ) { // For CommonJS and CommonJS-like environments where a proper `window` // is present, execute the factory and get jQuery. // For environments that do not have a `window` with a `document` // (such as Node.js), expose a factory as module.exports. // This accentuates the need for the creation of a real `window`. // e.g. var jQuery = require(&quot;jquery&quot;)(window); // See ticket #14549 for more info. module.exports = global.document ? factory( global, true ) : function( w ) { if ( !w.document ) { throw new Error( &quot;jQuery requires a window with a document&quot; ); } return factory( w ); }; } else { factory( global ); } // Pass this if window is not defined yet } )( typeof window !== &quot;undefined&quot; ? window : this, function( window, noGlobal ) { // Edge &lt;= 12 - 13+, Firefox &lt;=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1 // throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode // arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common // enough that all such attempts are guarded in a try block. &quot;use strict&quot;; var arr = []; var document = window.document; var getProto = Object.getPrototypeOf; var slice = arr.slice; var concat = arr.concat; var push = arr.push; var indexOf = arr.indexOf; var class2type = {}; var toString = class2type.toString; var hasOwn = class2type.hasOwnProperty; var fnToString = hasOwn.toString; var ObjectFunctionString = fnToString.call( Object ); var support = {}; function DOMEval( code, doc ) { doc = doc || document; var script = doc.createElement( &quot;script&quot; ); script.text = code; doc.head.appendChild( script ).parentNode.removeChild( script ); } /* global Symbol */ // Defining this global in .eslintrc.json would create a danger of using the global // unguarded in another place, it seems safer to define global only for this module var version = &quot;3.2.1&quot;, // Define a local copy of jQuery jQuery = function( selector, context ) { // The jQuery object is actually just the init constructor 'enhanced' // Need init if jQuery is called (just allow error to be thrown if not included) return new jQuery.fn.init( selector, context ); }, // Support: Android &lt;=4.0 only // Make sure we trim BOM and NBSP rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, // Matches dashed string for camelizing rmsPrefix = /^-ms-/, rdashAlpha = /-([a-z])/g, // Used by jQuery.camelCase as callback to replace() fcamelCase = function( all, letter ) { return letter.toUpperCase(); }; jQuery.fn = jQuery.prototype = { // The current version of jQuery being used jquery: version, constructor: jQuery, // The default length of a jQuery object is 0 length: 0, toArray: function() { return slice.call( this ); }, // Get the Nth element in the matched element set OR // Get the whole matched element set as a clean array get: function( num ) { // Return all the elements in a clean array if ( num == null ) { return slice.call( this ); } // Return just the one element from the set return num &lt; 0 ? this[ num + this.length ] : this[ num ]; }, // Take an array of elements and push it onto the stack // (returning the new matched element set) pushStack: function( elems ) { // Build a new jQuery matched element set var ret = jQuery.merge( this.constructor(), elems ); // Add the old object onto the stack (as a reference) ret.prevObject = this; // Return the newly-formed element set return ret; }, // Execute a callback for every element in the matched set. each: function( callback ) { return jQuery.each( this, callback ); }, map: function( callback ) { return this.pushStack( jQuery.map( this, function( elem, i ) { return callback.call( elem, i, elem ); } ) ); }, slice: function() { return this.pushStack( slice.apply( this, arguments ) ); }, first: function() { return this.eq( 0 ); }, last: function() { return this.eq( -1 ); }, eq: function( i ) { var len = this.length, j = +i + ( i &lt; 0 ? len : 0 ); return this.pushStack( j &gt;= 0 &amp;&amp; j &lt; len ? [ this[ j ] ] : [] ); }, end: function() { return this.prevObject || this.constructor(); }, // For internal use only. // Behaves like an Array's method, not like a jQuery method. push: push, sort: arr.sort, splice: arr.splice }; jQuery.extend = jQuery.fn.extend = function() { var options, name, src, copy, copyIsArray, clone, target = arguments[ 0 ] || {}, i = 1, length = arguments.length, deep = false; // Handle a deep copy situation if ( typeof target === &quot;boolean&quot; ) { deep = target; // Skip the boolean and the target target = arguments[ i ] || {}; i++; } // Handle case when target is a string or something (possible in deep copy) if ( typeof target !== &quot;object&quot; &amp;&amp; !jQuery.isFunction( target ) ) { target = {}; } // Extend jQuery itself if only one argument is passed if ( i === length ) { target = this; i--; } for ( ; i &lt; length; i++ ) { // Only deal with non-null/undefined values if ( ( options = arguments[ i ] ) != null ) { // Extend the base object for ( name in options ) { src = target[ name ]; copy = options[ name ]; // Prevent never-ending loop if ( target === copy ) { continue; } // Recurse if we're merging plain objects or arrays if ( deep &amp;&amp; copy &amp;&amp; ( jQuery.isPlainObject( copy ) || ( copyIsArray = Array.isArray( copy ) ) ) ) { if ( copyIsArray ) { copyIsArray = false; clone = src &amp;&amp; Array.isArray( src ) ? src : []; } else { clone = src &amp;&amp; jQuery.isPlainObject( src ) ? src : {}; } // Never move original objects, clone them target[ name ] = jQuery.extend( deep, clone, copy ); // Don't bring in undefined values } else if ( copy !== undefined ) { target[ name ] = copy; } } } } // Return the modified object return target; }; jQuery.extend( { // Unique for each copy of jQuery on the page expando: &quot;jQuery&quot; + ( version + Math.random() ).replace( /\\D/g, &quot;&quot; ), // Assume jQuery is ready without the ready module isReady: true, error: function( msg ) { throw new Error( msg ); }, noop: function() {}, isFunction: function( obj ) { return jQuery.type( obj ) === &quot;function&quot;; }, isWindow: function( obj ) { return obj != null &amp;&amp; obj === obj.window; }, isNumeric: function( obj ) { // As of jQuery 3.0, isNumeric is limited to // strings and numbers (primitives or objects) // that can be coerced to finite numbers (gh-2662) var type = jQuery.type( obj ); return ( type === &quot;number&quot; || type === &quot;string&quot; ) &amp;&amp; // parseFloat NaNs numeric-cast false positives (&quot;&quot;) // ...but misinterprets leading-number strings, particularly hex literals (&quot;0x...&quot;) // subtraction forces infinities to NaN !isNaN( obj - parseFloat( obj ) ); }, isPlainObject: function( obj ) { var proto, Ctor; // Detect obvious negatives // Use toString instead of jQuery.type to catch host objects if ( !obj || toString.call( obj ) !== &quot;[object Object]&quot; ) { return false; } proto = getProto( obj ); // Objects with no prototype (e.g., `Object.create( null )`) are plain if ( !proto ) { return true; } // Objects with prototype are plain iff they were constructed by a global Object function Ctor = hasOwn.call( proto, &quot;constructor&quot; ) &amp;&amp; proto.constructor; return typeof Ctor === &quot;function&quot; &amp;&amp; fnToString.call( Ctor ) === ObjectFunctionString; }, isEmptyObject: function( obj ) { /* eslint-disable no-unused-vars */ // See https://github.com/eslint/eslint/issues/6125 var name; for ( name in obj ) { return false; } return true; }, type: function( obj ) { if ( obj == null ) { return obj + &quot;&quot;; } // Support: Android &lt;=2.3 only (functionish RegExp) return typeof obj === &quot;object&quot; || typeof obj === &quot;function&quot; ? class2type[ toString.call( obj ) ] || &quot;object&quot; : typeof obj; }, // Evaluates a script in a global context globalEval: function( code ) { DOMEval( code ); }, // Convert dashed to camelCase; used by the css and data modules // Support: IE &lt;=9 - 11, Edge 12 - 13 // Microsoft forgot to hump their vendor prefix (#9572) camelCase: function( string ) { return string.replace( rmsPrefix, &quot;ms-&quot; ).replace( rdashAlpha, fcamelCase ); }, each: function( obj, callback ) { var length, i = 0; if ( isArrayLike( obj ) ) { length = obj.length; for ( ; i &lt; length; i++ ) { if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) { break; } } } else { for ( i in obj ) { if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) { break; } } } return obj; }, // Support: Android &lt;=4.0 only trim: function( text ) { return text == null ? &quot;&quot; : ( text + &quot;&quot; ).replace( rtrim, &quot;&quot; ); }, // results is for internal usage only makeArray: function( arr, results ) { var ret = results || []; if ( arr != null ) { if ( isArrayLike( Object( arr ) ) ) { jQuery.merge( ret, typeof arr === &quot;string&quot; ? [ arr ] : arr ); } else { push.call( ret, arr ); } } return ret; }, inArray: function( elem, arr, i ) { return arr == null ? -1 : indexOf.call( arr, elem, i ); }, // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit merge: function( first, second ) { var len = +second.length, j = 0, i = first.length; for ( ; j &lt; len; j++ ) { first[ i++ ] = second[ j ]; } first.length = i; return first; }, grep: function( elems, callback, invert ) { var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert; // Go through the array, only saving the items // that pass the validator function for ( ; i &lt; length; i++ ) { callbackInverse = !callback( elems[ i ], i ); if ( callbackInverse !== callbackExpect ) { matches.push( elems[ i ] ); } } return matches; }, // arg is for internal usage only map: function( elems, callback, arg ) { var length, value, i = 0, ret = []; // Go through the array, translating each of the items to their new values if ( isArrayLike( elems ) ) { length = elems.length; for ( ; i &lt; length; i++ ) { value = callback( elems[ i ], i, arg ); if ( value != null ) { ret.push( value ); } } // Go through every key on the object, } else { for ( i in elems ) { value = callback( elems[ i ], i, arg ); if ( value != null ) { ret.push( value ); } } } // Flatten any nested arrays return concat.apply( [], ret ); }, // A global GUID counter for objects guid: 1, // Bind a function to a context, optionally partially applying any // arguments. proxy: function( fn, context ) { var tmp, args, proxy; if ( typeof context === &quot;string&quot; ) { tmp = fn[ context ]; context = fn; fn = tmp; } // Quick check to determine if target is callable, in the spec // this throws a TypeError, but we will just return undefined. if ( !jQuery.isFunction( fn ) ) { return undefined; } // Simulated bind args = slice.call( arguments, 2 ); proxy = function() { return fn.apply( context || this, args.concat( slice.call( arguments ) ) ); }; // Set the guid of unique handler to the same of original handler, so it can be removed proxy.guid = fn.guid = fn.guid || jQuery.guid++; return proxy; }, now: Date.now, // jQuery.support is not used in Core but other projects attach their // properties to it so it needs to exist. support: support } ); if ( typeof Symbol === &quot;function&quot; ) { jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ]; } // Populate the class2type map jQuery.each( &quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split( &quot; &quot; ), function( i, name ) { class2type[ &quot;[object &quot; + name + &quot;]&quot; ] = name.toLowerCase(); } ); function isArrayLike( obj ) { // Support: real iOS 8.2 only (not reproducible in simulator) // `in` check used to prevent JIT error (gh-2145) // hasOwn isn't used here due to false negatives // regarding Nodelist length in IE var length = !!obj &amp;&amp; &quot;length&quot; in obj &amp;&amp; obj.length, type = jQuery.type( obj ); if ( type === &quot;function&quot; || jQuery.isWindow( obj ) ) { return false; } return type === &quot;array&quot; || length === 0 || typeof length === &quot;number&quot; &amp;&amp; length &gt; 0 &amp;&amp; ( length - 1 ) in obj; } var Sizzle = /*! * Sizzle CSS Selector Engine v2.3.3 * https://sizzlejs.com/ * * Copyright jQuery Foundation and other contributors * Released under the MIT license * http://jquery.org/license * * Date: 2016-08-08 */ (function( window ) { var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, // Local document vars setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, // Instance-specific data expando = &quot;sizzle&quot; + 1 * new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function( a, b ) { if ( a === b ) { hasDuplicate = true; } return 0; }, // Instance methods hasOwn = ({}).hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, // Use a stripped-down indexOf as it's faster than native // https://jsperf.com/thor-indexof-vs-for/5 indexOf = function( list, elem ) { var i = 0, len = list.length; for ( ; i &lt; len; i++ ) { if ( list[i] === elem ) { return i; } } return -1; }, booleans = &quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;, // Regular expressions // http://www.w3.org/TR/css3-selectors/#whitespace whitespace = &quot;[\\\\x20\\\\t\\\\r\\\\n\\\\f]&quot;, // http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier identifier = &quot;(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+&quot;, // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors attributes = &quot;\\\\[&quot; + whitespace + &quot;*(&quot; + identifier + &quot;)(?:&quot; + whitespace + // Operator (capture 2) &quot;*([*^$|!~]?=)&quot; + whitespace + // &quot;Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]&quot; &quot;*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\&quot;((?:\\\\\\\\.|[^\\\\\\\\\\&quot;])*)\\&quot;|(&quot; + identifier + &quot;))|)&quot; + whitespace + &quot;*\\\\]&quot;, pseudos = &quot;:(&quot; + identifier + &quot;)(?:\\\\((&quot; + // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments: // 1. quoted (capture 3; capture 4 or capture 5) &quot;('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\&quot;((?:\\\\\\\\.|[^\\\\\\\\\\&quot;])*)\\&quot;)|&quot; + // 2. simple (capture 6) &quot;((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|&quot; + attributes + &quot;)*)|&quot; + // 3. anything else (capture 2) &quot;.*&quot; + &quot;)\\\\)|)&quot;, // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter rwhitespace = new RegExp( whitespace + &quot;+&quot;, &quot;g&quot; ), rtrim = new RegExp( &quot;^&quot; + whitespace + &quot;+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)&quot; + whitespace + &quot;+$&quot;, &quot;g&quot; ), rcomma = new RegExp( &quot;^&quot; + whitespace + &quot;*,&quot; + whitespace + &quot;*&quot; ), rcombinators = new RegExp( &quot;^&quot; + whitespace + &quot;*([&gt;+~]|&quot; + whitespace + &quot;)&quot; + whitespace + &quot;*&quot; ), rattributeQuotes = new RegExp( &quot;=&quot; + whitespace + &quot;*([^\\\\]'\\&quot;]*?)&quot; + whitespace + &quot;*\\\\]&quot;, &quot;g&quot; ), rpseudo = new RegExp( pseudos ), ridentifier = new RegExp( &quot;^&quot; + identifier + &quot;$&quot; ), matchExpr = { &quot;ID&quot;: new RegExp( &quot;^#(&quot; + identifier + &quot;)&quot; ), &quot;CLASS&quot;: new RegExp( &quot;^\\\\.(&quot; + identifier + &quot;)&quot; ), &quot;TAG&quot;: new RegExp( &quot;^(&quot; + identifier + &quot;|[*])&quot; ), &quot;ATTR&quot;: new RegExp( &quot;^&quot; + attributes ), &quot;PSEUDO&quot;: new RegExp( &quot;^&quot; + pseudos ), &quot;CHILD&quot;: new RegExp( &quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(&quot; + whitespace + &quot;*(even|odd|(([+-]|)(\\\\d*)n|)&quot; + whitespace + &quot;*(?:([+-]|)&quot; + whitespace + &quot;*(\\\\d+)|))&quot; + whitespace + &quot;*\\\\)|)&quot;, &quot;i&quot; ), &quot;bool&quot;: new RegExp( &quot;^(?:&quot; + booleans + &quot;)$&quot;, &quot;i&quot; ), // For use in libraries implementing .is() // We use this for POS matching in `select` &quot;needsContext&quot;: new RegExp( &quot;^&quot; + whitespace + &quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(&quot; + whitespace + &quot;*((?:-\\\\d)?\\\\d*)&quot; + whitespace + &quot;*\\\\)|)(?=[^-]|$)&quot;, &quot;i&quot; ) }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, // Easily-parseable/retrievable ID or TAG or CLASS selectors rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, // CSS escapes // http://www.w3.org/TR/CSS21/syndata.html#escaped-characters runescape = new RegExp( &quot;\\\\\\\\([\\\\da-f]{1,6}&quot; + whitespace + &quot;?|(&quot; + whitespace + &quot;)|.)&quot;, &quot;ig&quot; ), funescape = function( _, escaped, escapedWhitespace ) { var high = &quot;0x&quot; + escaped - 0x10000; // NaN means non-codepoint // Support: Firefox&lt;24 // Workaround erroneous numeric interpretation of +&quot;0x&quot; return high !== high || escapedWhitespace ? escaped : high &lt; 0 ? // BMP codepoint String.fromCharCode( high + 0x10000 ) : // Supplemental Plane codepoint (surrogate pair) String.fromCharCode( high &gt;&gt; 10 | 0xD800, high &amp; 0x3FF | 0xDC00 ); }, // CSS string/identifier serialization // https://drafts.csswg.org/cssom/#common-serializing-idioms rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g, fcssescape = function( ch, asCodePoint ) { if ( asCodePoint ) { // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER if ( ch === &quot;\\0&quot; ) { return &quot;\\uFFFD&quot;; } // Control characters and (dependent upon position) numbers get escaped as code points return ch.slice( 0, -1 ) + &quot;\\\\&quot; + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + &quot; &quot;; } // Other potentially-special ASCII characters get backslash-escaped return &quot;\\\\&quot; + ch; }, // Used for iframes // See setDocument() // Removing the function wrapper causes a &quot;Permission Denied&quot; // error in IE unloadHandler = function() { setDocument(); }, disabledAncestor = addCombinator( function( elem ) { return elem.disabled === true &amp;&amp; (&quot;form&quot; in elem || &quot;label&quot; in elem); }, { dir: &quot;parentNode&quot;, next: &quot;legend&quot; } ); // Optimize for push.apply( _, NodeList ) try { push.apply( (arr = slice.call( preferredDoc.childNodes )), preferredDoc.childNodes ); // Support: Android&lt;4.0 // Detect silently failing push.apply arr[ preferredDoc.childNodes.length ].nodeType; } catch ( e ) { push = { apply: arr.length ? // Leverage slice if possible function( target, els ) { push_native.apply( target, slice.call(els) ); } : // Support: IE&lt;9 // Otherwise append directly function( target, els ) { var j = target.length, i = 0; // Can't trust NodeList.length while ( (target[j++] = els[i++]) ) {} target.length = j - 1; } }; } function Sizzle( selector, context, results, seed ) { var m, i, elem, nid, match, groups, newSelector, newContext = context &amp;&amp; context.ownerDocument, // nodeType defaults to 9, since context defaults to document nodeType = context ? context.nodeType : 9; results = results || []; // Return early from calls with invalid selector or context if ( typeof selector !== &quot;string&quot; || !selector || nodeType !== 1 &amp;&amp; nodeType !== 9 &amp;&amp; nodeType !== 11 ) { return results; } // Try to shortcut find operations (as opposed to filters) in HTML documents if ( !seed ) { if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) { setDocument( context ); } context = context || document; if ( documentIsHTML ) { // If the selector is sufficiently simple, try using a &quot;get*By*&quot; DOM method // (excepting DocumentFragment context, where the methods don't exist) if ( nodeType !== 11 &amp;&amp; (match = rquickExpr.exec( selector )) ) { // ID selector if ( (m = match[1]) ) { // Document context if ( nodeType === 9 ) { if ( (elem = context.getElementById( m )) ) { // Support: IE, Opera, Webkit // TODO: identify versions // getElementById can match elements by name instead of ID if ( elem.id === m ) { results.push( elem ); return results; } } else { return results; } // Element context } else { // Support: IE, Opera, Webkit // TODO: identify versions // getElementById can match elements by name instead of ID if ( newContext &amp;&amp; (elem = newContext.getElementById( m )) &amp;&amp; contains( context, elem ) &amp;&amp; elem.id === m ) { results.push( elem ); return results; } } // Type selector } else if ( match[2] ) { push.apply( results, context.getElementsByTagName( selector ) ); return results; // Class selector } else if ( (m = match[3]) &amp;&amp; support.getElementsByClassName &amp;&amp; context.getElementsByClassName ) { push.apply( results, context.getElementsByClassName( m ) ); return results; } } // Take advantage of querySelectorAll if ( support.qsa &amp;&amp; !compilerCache[ selector + &quot; &quot; ] &amp;&amp; (!rbuggyQSA || !rbuggyQSA.test( selector )) ) { if ( nodeType !== 1 ) { newContext = context; newSelector = selector; // qSA looks outside Element context, which is not what we want // Thanks to Andrew Dupont for this workaround technique // Support: IE &lt;=8 // Exclude object elements } else if ( context.nodeName.toLowerCase() !== &quot;object&quot; ) { // Capture the context ID, setting it first if necessary if ( (nid = context.getAttribute( &quot;id&quot; )) ) { nid = nid.replace( rcssescape, fcssescape ); } else { context.setAttribute( &quot;id&quot;, (nid = expando) ); } // Prefix every selector in the list groups = tokenize( selector ); i = groups.length; while ( i-- ) { groups[i] = &quot;#&quot; + nid + &quot; &quot; + toSelector( groups[i] ); } newSelector = groups.join( &quot;,&quot; ); // Expand context for sibling selectors newContext = rsibling.test( selector ) &amp;&amp; testContext( context.parentNode ) || context; } if ( newSelector ) { try { push.apply( results, newContext.querySelectorAll( newSelector ) ); return results; } catch ( qsaError ) { } finally { if ( nid === expando ) { context.removeAttribute( &quot;id&quot; ); } } } } } } // All others return select( selector.replace( rtrim, &quot;$1&quot; ), context, results, seed ); } /** * Create key-value caches of limited size * @returns {function(string, object)} Returns the Object data after storing it on itself with * property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength) * deleting the oldest entry */ function createCache() { var keys = []; function cache( key, value ) { // Use (key + &quot; &quot;) to avoid collision with native prototype properties (see Issue #157) if ( keys.push( key + &quot; &quot; ) &gt; Expr.cacheLength ) { // Only keep the most recent entries delete cache[ keys.shift() ]; } return (cache[ key + &quot; &quot; ] = value); } return cache; } /** * Mark a function for special use by Sizzle * @param {Function} fn The function to mark */ function markFunction( fn ) { fn[ expando ] = true; return fn; } /** * Support testing using an element * @param {Function} fn Passed the created element and returns a boolean result */ function assert( fn ) { var el = document.createElement(&quot;fieldset&quot;); try { return !!fn( el ); } catch (e) { return false; } finally { // Remove from its parent by default if ( el.parentNode ) { el.parentNode.removeChild( el ); } // release memory in IE el = null; } } /** * Adds the same handler for all of the specified attrs * @param {String} attrs Pipe-separated list of attributes * @param {Function} handler The method that will be applied */ function addHandle( attrs, handler ) { var arr = attrs.split(&quot;|&quot;), i = arr.length; while ( i-- ) { Expr.attrHandle[ arr[i] ] = handler; } } /** * Checks document order of two siblings * @param {Element} a * @param {Element} b * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b */ function siblingCheck( a, b ) { var cur = b &amp;&amp; a, diff = cur &amp;&amp; a.nodeType === 1 &amp;&amp; b.nodeType === 1 &amp;&amp; a.sourceIndex - b.sourceIndex; // Use IE sourceIndex if available on both nodes if ( diff ) { return diff; } // Check if b follows a if ( cur ) { while ( (cur = cur.nextSibling) ) { if ( cur === b ) { return -1; } } } return a ? 1 : -1; } /** * Returns a function to use in pseudos for input types * @param {String} type */ function createInputPseudo( type ) { return function( elem ) { var name = elem.nodeName.toLowerCase(); return name === &quot;input&quot; &amp;&amp; elem.type === type; }; } /** * Returns a function to use in pseudos for buttons * @param {String} type */ function createButtonPseudo( type ) { return function( elem ) { var name = elem.nodeName.toLowerCase(); return (name === &quot;input&quot; || name === &quot;button&quot;) &amp;&amp; elem.type === type; }; } /** * Returns a function to use in pseudos for :enabled/:disabled * @param {Boolean} disabled true for :disabled; false for :enabled */ function createDisabledPseudo( disabled ) { // Known :disabled false positives: fieldset[disabled] &gt; legend:nth-of-type(n+2) :can-disable return function( elem ) { // Only certain elements can match :enabled or :disabled // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled if ( &quot;form&quot; in elem ) { // Check for inherited disabledness on relevant non-disabled elements: // * listed form-associated elements in a disabled fieldset // https://html.spec.whatwg.org/multipage/forms.html#category-listed // https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled // * option elements in a disabled optgroup // https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled // All such elements have a &quot;form&quot; property. if ( elem.parentNode &amp;&amp; elem.disabled === false ) { // Option elements defer to a parent optgroup if present if ( &quot;label&quot; in elem ) { if ( &quot;label&quot; in elem.parentNode ) { return elem.parentNode.disabled === disabled; } else { return elem.disabled === disabled; } } // Support: IE 6 - 11 // Use the isDisabled shortcut property to check for disabled fieldset ancestors return elem.isDisabled === disabled || // Where there is no isDisabled, check manually /* jshint -W018 */ elem.isDisabled !== !disabled &amp;&amp; disabledAncestor( elem ) === disabled; } return elem.disabled === disabled; // Try to winnow out elements that can't be disabled before trusting the disabled property. // Some victims get caught in our net (label, legend, menu, track), but it shouldn't // even exist on them, let alone have a boolean value. } else if ( &quot;label&quot; in elem ) { return elem.disabled === disabled; } // Remaining elements are neither :enabled nor :disabled return false; }; } /** * Returns a function to use in pseudos for positionals * @param {Function} fn */ function createPositionalPseudo( fn ) { return markFunction(function( argument ) { argument = +argument; return markFunction(function( seed, matches ) { var j, matchIndexes = fn( [], seed.length, argument ), i = matchIndexes.length; // Match elements found at the specified indexes while ( i-- ) { if ( seed[ (j = matchIndexes[i]) ] ) { seed[j] = !(matches[j] = seed[j]); } } }); }); } /** * Checks a node for validity as a Sizzle context * @param {Element|Object=} context * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value */ function testContext( context ) { return context &amp;&amp; typeof context.getElementsByTagName !== &quot;undefined&quot; &amp;&amp; context; } // Expose support vars for convenience support = Sizzle.support = {}; /** * Detects XML nodes * @param {Element|Object} elem An element or a document * @returns {Boolean} True iff elem is a non-HTML XML node */ isXML = Sizzle.isXML = function( elem ) { // documentElement is verified for cases where it doesn't yet exist // (such as loading iframes in IE - #4833) var documentElement = elem &amp;&amp; (elem.ownerDocument || elem).documentElement; return documentElement ? documentElement.nodeName !== &quot;HTML&quot; : false; }; /** * Sets document-related variables once based on the current document * @param {Element|Object} [doc] An element or document object to use to set the document * @returns {Object} Returns the current document */ setDocument = Sizzle.setDocument = function( node ) { var hasCompare, subWindow, doc = node ? node.ownerDocument || node : preferredDoc; // Return early if doc is invalid or already selected if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) { return document; } // Update global variables document = doc; docElem = document.documentElement; documentIsHTML = !isXML( document ); // Support: IE 9-11, Edge // Accessing iframe documents after unload throws &quot;permission denied&quot; errors (jQuery #13936) if ( preferredDoc !== document &amp;&amp; (subWindow = document.defaultView) &amp;&amp; subWindow.top !== subWindow ) { // Support: IE 11, Edge if ( subWindow.addEventListener ) { subWindow.addEventListener( &quot;unload&quot;, unloadHandler, false ); // Support: IE 9 - 10 only } else if ( subWindow.attachEvent ) { subWindow.attachEvent( &quot;onunload&quot;, unloadHandler ); } } /* Attributes ---------------------------------------------------------------------- */ // Support: IE&lt;8 // Verify that getAttribute really returns attributes and not properties // (excepting IE8 booleans) support.attributes = assert(function( el ) { el.className = &quot;i&quot;; return !el.getAttribute(&quot;className&quot;); }); /* getElement(s)By* ---------------------------------------------------------------------- */ // Check if getElementsByTagName(&quot;*&quot;) returns only elements support.getElementsByTagName = assert(function( el ) { el.appendChild( document.createComment(&quot;&quot;) ); return !el.getElementsByTagName(&quot;*&quot;).length; }); // Support: IE&lt;9 support.getElementsByClassName = rnative.test( document.getElementsByClassName ); // Support: IE&lt;10 // Check if getElementById returns elements by name // The broken getElementById methods don't pick up programmatically-set names, // so use a roundabout getElementsByName test support.getById = assert(function( el ) { docElem.appendChild( el ).id = expando; return !document.getElementsByName || !document.getElementsByName( expando ).length; }); // ID filter and find if ( support.getById ) { Expr.filter[&quot;ID&quot;] = function( id ) { var attrId = id.replace( runescape, funescape ); return function( elem ) { return elem.getAttribute(&quot;id&quot;) === attrId; }; }; Expr.find[&quot;ID&quot;] = function( id, context ) { if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { var elem = context.getElementById( id ); return elem ? [ elem ] : []; } }; } else { Expr.filter[&quot;ID&quot;] = function( id ) { var attrId = id.replace( runescape, funescape ); return function( elem ) { var node = typeof elem.getAttributeNode !== &quot;undefined&quot; &amp;&amp; elem.getAttributeNode(&quot;id&quot;); return node &amp;&amp; node.value === attrId; }; }; // Support: IE 6 - 7 only // getElementById is not reliable as a find shortcut Expr.find[&quot;ID&quot;] = function( id, context ) { if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { var node, i, elems, elem = context.getElementById( id ); if ( elem ) { // Verify the id attribute node = elem.getAttributeNode(&quot;id&quot;); if ( node &amp;&amp; node.value === id ) { return [ elem ]; } // Fall back on getElementsByName elems = context.getElementsByName( id ); i = 0; while ( (elem = elems[i++]) ) { node = elem.getAttributeNode(&quot;id&quot;); if ( node &amp;&amp; node.value === id ) { return [ elem ]; } } } return []; } }; } // Tag Expr.find[&quot;TAG&quot;] = support.getElementsByTagName ? function( tag, context ) { if ( typeof context.getElementsByTagName !== &quot;undefined&quot; ) { return context.getElementsByTagName( tag ); // DocumentFragment nodes don't have gEBTN } else if ( support.qsa ) { return context.querySelectorAll( tag ); } } : function( tag, context ) { var elem, tmp = [], i = 0, // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too results = context.getElementsByTagName( tag ); // Filter out possible comments if ( tag === &quot;*&quot; ) { while ( (elem = results[i++]) ) { if ( elem.nodeType === 1 ) { tmp.push( elem ); } } return tmp; } return results; }; // Class Expr.find[&quot;CLASS&quot;] = support.getElementsByClassName &amp;&amp; function( className, context ) { if ( typeof context.getElementsByClassName !== &quot;undefined&quot; &amp;&amp; documentIsHTML ) { return context.getElementsByClassName( className ); } }; /* QSA/matchesSelector ---------------------------------------------------------------------- */ // QSA and matchesSelector support // matchesSelector(:active) reports false when true (IE9/Opera 11.5) rbuggyMatches = []; // qSa(:focus) reports false when true (Chrome 21) // We allow this because of a bug in IE8/9 that throws an error // whenever `document.activeElement` is accessed on an iframe // So, we allow :focus to pass through QSA all the time to avoid the IE error // See https://bugs.jquery.com/ticket/13378 rbuggyQSA = []; if ( (support.qsa = rnative.test( document.querySelectorAll )) ) { // Build QSA regex // Regex strategy adopted from Diego Perini assert(function( el ) { // Select is set to empty string on purpose // This is to test IE's treatment of not explicitly // setting a boolean content attribute, // since its presence should be enough // https://bugs.jquery.com/ticket/12359 docElem.appendChild( el ).innerHTML = &quot;&lt;a id='&quot; + expando + &quot;'&gt;&lt;/a&gt;&quot; + &quot;&lt;select id='&quot; + expando + &quot;-\\r\\\\' msallowcapture=''&gt;&quot; + &quot;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;; // Support: IE8, Opera 11-12.16 // Nothing should be selected when empty strings follow ^= or $= or *= // The test attribute must be unknown in Opera but &quot;safe&quot; for WinRT // https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section if ( el.querySelectorAll(&quot;[msallowcapture^='']&quot;).length ) { rbuggyQSA.push( &quot;[*^$]=&quot; + whitespace + &quot;*(?:''|\\&quot;\\&quot;)&quot; ); } // Support: IE8 // Boolean attributes and &quot;value&quot; are not treated correctly if ( !el.querySelectorAll(&quot;[selected]&quot;).length ) { rbuggyQSA.push( &quot;\\\\[&quot; + whitespace + &quot;*(?:value|&quot; + booleans + &quot;)&quot; ); } // Support: Chrome&lt;29, Android&lt;4.4, Safari&lt;7.0+, iOS&lt;7.0+, PhantomJS&lt;1.9.8+ if ( !el.querySelectorAll( &quot;[id~=&quot; + expando + &quot;-]&quot; ).length ) { rbuggyQSA.push(&quot;~=&quot;); } // Webkit/Opera - :checked should return selected option elements // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked // IE8 throws error here and will not see later tests if ( !el.querySelectorAll(&quot;:checked&quot;).length ) { rbuggyQSA.push(&quot;:checked&quot;); } // Support: Safari 8+, iOS 8+ // https://bugs.webkit.org/show_bug.cgi?id=136851 // In-page `selector#id sibling-combinator selector` fails if ( !el.querySelectorAll( &quot;a#&quot; + expando + &quot;+*&quot; ).length ) { rbuggyQSA.push(&quot;.#.+[+~]&quot;); } }); assert(function( el ) { el.innerHTML = &quot;&lt;a href='' disabled='disabled'&gt;&lt;/a&gt;&quot; + &quot;&lt;select disabled='disabled'&gt;&lt;option/&gt;&lt;/select&gt;&quot;; // Support: Windows 8 Native Apps // The type and name attributes are restricted during .innerHTML assignment var input = document.createElement(&quot;input&quot;); input.setAttribute( &quot;type&quot;, &quot;hidden&quot; ); el.appendChild( input ).setAttribute( &quot;name&quot;, &quot;D&quot; ); // Support: IE8 // Enforce case-sensitivity of name attribute if ( el.querySelectorAll(&quot;[name=d]&quot;).length ) { rbuggyQSA.push( &quot;name&quot; + whitespace + &quot;*[*^$|!~]?=&quot; ); } // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled) // IE8 throws error here and will not see later tests if ( el.querySelectorAll(&quot;:enabled&quot;).length !== 2 ) { rbuggyQSA.push( &quot;:enabled&quot;, &quot;:disabled&quot; ); } // Support: IE9-11+ // IE's :disabled selector does not pick up the children of disabled fieldsets docElem.appendChild( el ).disabled = true; if ( el.querySelectorAll(&quot;:disabled&quot;).length !== 2 ) { rbuggyQSA.push( &quot;:enabled&quot;, &quot;:disabled&quot; ); } // Opera 10-11 does not throw on post-comma invalid pseudos el.querySelectorAll(&quot;*,:x&quot;); rbuggyQSA.push(&quot;,.*:&quot;); }); } if ( (support.matchesSelector = rnative.test( (matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector) )) ) { assert(function( el ) { // Check to see if it's possible to do matchesSelector // on a disconnected node (IE 9) support.disconnectedMatch = matches.call( el, &quot;*&quot; ); // This should fail with an exception // Gecko does not error, returns false instead matches.call( el, &quot;[s!='']:x&quot; ); rbuggyMatches.push( &quot;!=&quot;, pseudos ); }); } rbuggyQSA = rbuggyQSA.length &amp;&amp; new RegExp( rbuggyQSA.join(&quot;|&quot;) ); rbuggyMatches = rbuggyMatches.length &amp;&amp; new RegExp( rbuggyMatches.join(&quot;|&quot;) ); /* Contains ---------------------------------------------------------------------- */ hasCompare = rnative.test( docElem.compareDocumentPosition ); // Element contains another // Purposefully self-exclusive // As in, an element does not contain itself contains = hasCompare || rnative.test( docElem.contains ) ? function( a, b ) { var adown = a.nodeType === 9 ? a.documentElement : a, bup = b &amp;&amp; b.parentNode; return a === bup || !!( bup &amp;&amp; bup.nodeType === 1 &amp;&amp; ( adown.contains ? adown.contains( bup ) : a.compareDocumentPosition &amp;&amp; a.compareDocumentPosition( bup ) &amp; 16 )); } : function( a, b ) { if ( b ) { while ( (b = b.parentNode) ) { if ( b === a ) { return true; } } } return false; }; /* Sorting ---------------------------------------------------------------------- */ // Document order sorting sortOrder = hasCompare ? function( a, b ) { // Flag for duplicate removal if ( a === b ) { hasDuplicate = true; return 0; } // Sort on method existence if only one input has compareDocumentPosition var compare = !a.compareDocumentPosition - !b.compareDocumentPosition; if ( compare ) { return compare; } // Calculate position if both inputs belong to the same document compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ? a.compareDocumentPosition( b ) : // Otherwise we know they are disconnected 1; // Disconnected nodes if ( compare &amp; 1 || (!support.sortDetached &amp;&amp; b.compareDocumentPosition( a ) === compare) ) { // Choose the first element that is related to our preferred document if ( a === document || a.ownerDocument === preferredDoc &amp;&amp; contains(preferredDoc, a) ) { return -1; } if ( b === document || b.ownerDocument === preferredDoc &amp;&amp; contains(preferredDoc, b) ) { return 1; } // Maintain original order return sortInput ? ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) : 0; } return compare &amp; 4 ? -1 : 1; } : function( a, b ) { // Exit early if the nodes are identical if ( a === b ) { hasDuplicate = true; return 0; } var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [ a ], bp = [ b ]; // Parentless nodes are either documents or disconnected if ( !aup || !bup ) { return a === document ? -1 : b === document ? 1 : aup ? -1 : bup ? 1 : sortInput ? ( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) : 0; // If the nodes are siblings, we can do a quick check } else if ( aup === bup ) { return siblingCheck( a, b ); } // Otherwise we need full lists of their ancestors for comparison cur = a; while ( (cur = cur.parentNode) ) { ap.unshift( cur ); } cur = b; while ( (cur = cur.parentNode) ) { bp.unshift( cur ); } // Walk down the tree looking for a discrepancy while ( ap[i] === bp[i] ) { i++; } return i ? // Do a sibling check if the nodes have a common ancestor siblingCheck( ap[i], bp[i] ) : // Otherwise nodes in our document sort first ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0; }; return document; }; Sizzle.matches = function( expr, elements ) { return Sizzle( expr, null, null, elements ); }; Sizzle.matchesSelector = function( elem, expr ) { // Set document vars if needed if ( ( elem.ownerDocument || elem ) !== document ) { setDocument( elem ); } // Make sure that attribute selectors are quoted expr = expr.replace( rattributeQuotes, &quot;='$1']&quot; ); if ( support.matchesSelector &amp;&amp; documentIsHTML &amp;&amp; !compilerCache[ expr + &quot; &quot; ] &amp;&amp; ( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &amp;&amp; ( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) { try { var ret = matches.call( elem, expr ); // IE 9's matchesSelector returns false on disconnected nodes if ( ret || support.disconnectedMatch || // As well, disconnected nodes are said to be in a document // fragment in IE 9 elem.document &amp;&amp; elem.document.nodeType !== 11 ) { return ret; } } catch (e) {} } return Sizzle( expr, document, null, [ elem ] ).length &gt; 0; }; Sizzle.contains = function( context, elem ) { // Set document vars if needed if ( ( context.ownerDocument || context ) !== document ) { setDocument( context ); } return contains( context, elem ); }; Sizzle.attr = function( elem, name ) { // Set document vars if needed if ( ( elem.ownerDocument || elem ) !== document ) { setDocument( elem ); } var fn = Expr.attrHandle[ name.toLowerCase() ], // Don't get fooled by Object.prototype properties (jQuery #13807) val = fn &amp;&amp; hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ? fn( elem, name, !documentIsHTML ) : undefined; return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute( name ) : (val = elem.getAttributeNode(name)) &amp;&amp; val.specified ? val.value : null; }; Sizzle.escape = function( sel ) { return (sel + &quot;&quot;).replace( rcssescape, fcssescape ); }; Sizzle.error = function( msg ) { throw new Error( &quot;Syntax error, unrecognized expression: &quot; + msg ); }; /** * Document sorting and removing duplicates * @param {ArrayLike} results */ Sizzle.uniqueSort = function( results ) { var elem, duplicates = [], j = 0, i = 0; // Unless we *know* we can detect duplicates, assume their presence hasDuplicate = !support.detectDuplicates; sortInput = !support.sortStable &amp;&amp; results.slice( 0 ); results.sort( sortOrder ); if ( hasDuplicate ) { while ( (elem = results[i++]) ) { if ( elem === results[ i ] ) { j = duplicates.push( i ); } } while ( j-- ) { results.splice( duplicates[ j ], 1 ); } } // Clear input after sorting to release objects // See https://github.com/jquery/sizzle/pull/225 sortInput = null; return results; }; /** * Utility function for retrieving the text value of an array of DOM nodes * @param {Array|Element} elem */ getText = Sizzle.getText = function( elem ) { var node, ret = &quot;&quot;, i = 0, nodeType = elem.nodeType; if ( !nodeType ) { // If no nodeType, this is expected to be an array while ( (node = elem[i++]) ) { // Do not traverse comment nodes ret += getText( node ); } } else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) { // Use textContent for elements // innerText usage removed for consistency of new lines (jQuery #11153) if ( typeof elem.textContent === &quot;string&quot; ) { return elem.textContent; } else { // Traverse its children for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) { ret += getText( elem ); } } } else if ( nodeType === 3 || nodeType === 4 ) { return elem.nodeValue; } // Do not include comment or processing instruction nodes return ret; }; Expr = Sizzle.selectors = { // Can be adjusted by the user cacheLength: 50, createPseudo: markFunction, match: matchExpr, attrHandle: {}, find: {}, relative: { &quot;&gt;&quot;: { dir: &quot;parentNode&quot;, first: true }, &quot; &quot;: { dir: &quot;parentNode&quot; }, &quot;+&quot;: { dir: &quot;previousSibling&quot;, first: true }, &quot;~&quot;: { dir: &quot;previousSibling&quot; } }, preFilter: { &quot;ATTR&quot;: function( match ) { match[1] = match[1].replace( runescape, funescape ); // Move the given value to match[3] whether quoted or unquoted match[3] = ( match[3] || match[4] || match[5] || &quot;&quot; ).replace( runescape, funescape ); if ( match[2] === &quot;~=&quot; ) { match[3] = &quot; &quot; + match[3] + &quot; &quot;; } return match.slice( 0, 4 ); }, &quot;CHILD&quot;: function( match ) { /* matches from matchExpr[&quot;CHILD&quot;] 1 type (only|nth|...) 2 what (child|of-type) 3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...) 4 xn-component of xn+y argument ([+-]?\\d*n|) 5 sign of xn-component 6 x of xn-component 7 sign of y-component 8 y of y-component */ match[1] = match[1].toLowerCase(); if ( match[1].slice( 0, 3 ) === &quot;nth&quot; ) { // nth-* requires argument if ( !match[3] ) { Sizzle.error( match[0] ); } // numeric x and y parameters for Expr.filter.CHILD // remember that false/true cast respectively to 0/1 match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === &quot;even&quot; || match[3] === &quot;odd&quot; ) ); match[5] = +( ( match[7] + match[8] ) || match[3] === &quot;odd&quot; ); // other types prohibit arguments } else if ( match[3] ) { Sizzle.error( match[0] ); } return match; }, &quot;PSEUDO&quot;: function( match ) { var excess, unquoted = !match[6] &amp;&amp; match[2]; if ( matchExpr[&quot;CHILD&quot;].test( match[0] ) ) { return null; } // Accept quoted arguments as-is if ( match[3] ) { match[2] = match[4] || match[5] || &quot;&quot;; // Strip excess characters from unquoted arguments } else if ( unquoted &amp;&amp; rpseudo.test( unquoted ) &amp;&amp; // Get excess from tokenize (recursively) (excess = tokenize( unquoted, true )) &amp;&amp; // advance to the next closing parenthesis (excess = unquoted.indexOf( &quot;)&quot;, unquoted.length - excess ) - unquoted.length) ) { // excess is a negative index match[0] = match[0].slice( 0, excess ); match[2] = unquoted.slice( 0, excess ); } // Return only captures needed by the pseudo filter method (type and argument) return match.slice( 0, 3 ); } }, filter: { &quot;TAG&quot;: function( nodeNameSelector ) { var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase(); return nodeNameSelector === &quot;*&quot; ? function() { return true; } : function( elem ) { return elem.nodeName &amp;&amp; elem.nodeName.toLowerCase() === nodeName; }; }, &quot;CLASS&quot;: function( className ) { var pattern = classCache[ className + &quot; &quot; ]; return pattern || (pattern = new RegExp( &quot;(^|&quot; + whitespace + &quot;)&quot; + className + &quot;(&quot; + whitespace + &quot;|$)&quot; )) &amp;&amp; classCache( className, function( elem ) { return pattern.test( typeof elem.className === &quot;string&quot; &amp;&amp; elem.className || typeof elem.getAttribute !== &quot;undefined&quot; &amp;&amp; elem.getAttribute(&quot;class&quot;) || &quot;&quot; ); }); }, &quot;ATTR&quot;: function( name, operator, check ) { return function( elem ) { var result = Sizzle.attr( elem, name ); if ( result == null ) { return operator === &quot;!=&quot;; } if ( !operator ) { return true; } result += &quot;&quot;; return operator === &quot;=&quot; ? result === check : operator === &quot;!=&quot; ? result !== check : operator === &quot;^=&quot; ? check &amp;&amp; result.indexOf( check ) === 0 : operator === &quot;*=&quot; ? check &amp;&amp; result.indexOf( check ) &gt; -1 : operator === &quot;$=&quot; ? check &amp;&amp; result.slice( -check.length ) === check : operator === &quot;~=&quot; ? ( &quot; &quot; + result.replace( rwhitespace, &quot; &quot; ) + &quot; &quot; ).indexOf( check ) &gt; -1 : operator === &quot;|=&quot; ? result === check || result.slice( 0, check.length + 1 ) === check + &quot;-&quot; : false; }; }, &quot;CHILD&quot;: function( type, what, argument, first, last ) { var simple = type.slice( 0, 3 ) !== &quot;nth&quot;, forward = type.slice( -4 ) !== &quot;last&quot;, ofType = what === &quot;of-type&quot;; return first === 1 &amp;&amp; last === 0 ? // Shortcut for :nth-*(n) function( elem ) { return !!elem.parentNode; } : function( elem, context, xml ) { var cache, uniqueCache, outerCache, node, nodeIndex, start, dir = simple !== forward ? &quot;nextSibling&quot; : &quot;previousSibling&quot;, parent = elem.parentNode, name = ofType &amp;&amp; elem.nodeName.toLowerCase(), useCache = !xml &amp;&amp; !ofType, diff = false; if ( parent ) { // :(first|last|only)-(child|of-type) if ( simple ) { while ( dir ) { node = elem; while ( (node = node[ dir ]) ) { if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) { return false; } } // Reverse direction for :only-* (if we haven't yet done so) start = dir = type === &quot;only&quot; &amp;&amp; !start &amp;&amp; &quot;nextSibling&quot;; } return true; } start = [ forward ? parent.firstChild : parent.lastChild ]; // non-xml :nth-child(...) stores cache data on `parent` if ( forward &amp;&amp; useCache ) { // Seek `elem` from a previously-cached index // ...in a gzip-friendly way node = parent; outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); cache = uniqueCache[ type ] || []; nodeIndex = cache[ 0 ] === dirruns &amp;&amp; cache[ 1 ]; diff = nodeIndex &amp;&amp; cache[ 2 ]; node = nodeIndex &amp;&amp; parent.childNodes[ nodeIndex ]; while ( (node = ++nodeIndex &amp;&amp; node &amp;&amp; node[ dir ] || // Fallback to seeking `elem` from the start (diff = nodeIndex = 0) || start.pop()) ) { // When found, cache indexes on `parent` and break if ( node.nodeType === 1 &amp;&amp; ++diff &amp;&amp; node === elem ) { uniqueCache[ type ] = [ dirruns, nodeIndex, diff ]; break; } } } else { // Use previously-cached element index if available if ( useCache ) { // ...in a gzip-friendly way node = elem; outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); cache = uniqueCache[ type ] || []; nodeIndex = cache[ 0 ] === dirruns &amp;&amp; cache[ 1 ]; diff = nodeIndex; } // xml :nth-child(...) // or :nth-last-child(...) or :nth(-last)?-of-type(...) if ( diff === false ) { // Use the same loop as above to seek `elem` from the start while ( (node = ++nodeIndex &amp;&amp; node &amp;&amp; node[ dir ] || (diff = nodeIndex = 0) || start.pop()) ) { if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) &amp;&amp; ++diff ) { // Cache the index of each encountered element if ( useCache ) { outerCache = node[ expando ] || (node[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ node.uniqueID ] || (outerCache[ node.uniqueID ] = {}); uniqueCache[ type ] = [ dirruns, diff ]; } if ( node === elem ) { break; } } } } } // Incorporate the offset, then check against cycle size diff -= last; return diff === first || ( diff % first === 0 &amp;&amp; diff / first &gt;= 0 ); } }; }, &quot;PSEUDO&quot;: function( pseudo, argument ) { // pseudo-class names are case-insensitive // http://www.w3.org/TR/selectors/#pseudo-classes // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters // Remember that setFilters inherits from pseudos var args, fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] || Sizzle.error( &quot;unsupported pseudo: &quot; + pseudo ); // The user may use createPseudo to indicate that // arguments are needed to create the filter function // just as Sizzle does if ( fn[ expando ] ) { return fn( argument ); } // But maintain support for old signatures if ( fn.length &gt; 1 ) { args = [ pseudo, pseudo, &quot;&quot;, argument ]; return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ? markFunction(function( seed, matches ) { var idx, matched = fn( seed, argument ), i = matched.length; while ( i-- ) { idx = indexOf( seed, matched[i] ); seed[ idx ] = !( matches[ idx ] = matched[i] ); } }) : function( elem ) { return fn( elem, 0, args ); }; } return fn; } }, pseudos: { // Potentially complex pseudos &quot;not&quot;: markFunction(function( selector ) { // Trim the selector passed to compile // to avoid treating leading and trailing // spaces as combinators var input = [], results = [], matcher = compile( selector.replace( rtrim, &quot;$1&quot; ) ); return matcher[ expando ] ? markFunction(function( seed, matches, context, xml ) { var elem, unmatched = matcher( seed, null, xml, [] ), i = seed.length; // Match elements unmatched by `matcher` while ( i-- ) { if ( (elem = unmatched[i]) ) { seed[i] = !(matches[i] = elem); } } }) : function( elem, context, xml ) { input[0] = elem; matcher( input, null, xml, results ); // Don't keep the element (issue #299) input[0] = null; return !results.pop(); }; }), &quot;has&quot;: markFunction(function( selector ) { return function( elem ) { return Sizzle( selector, elem ).length &gt; 0; }; }), &quot;contains&quot;: markFunction(function( text ) { text = text.replace( runescape, funescape ); return function( elem ) { return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) &gt; -1; }; }), // &quot;Whether an element is represented by a :lang() selector // is based solely on the element's language value // being equal to the identifier C, // or beginning with the identifier C immediately followed by &quot;-&quot;. // The matching of C against the element's language value is performed case-insensitively. // The identifier C does not have to be a valid language name.&quot; // http://www.w3.org/TR/selectors/#lang-pseudo &quot;lang&quot;: markFunction( function( lang ) { // lang value must be a valid identifier if ( !ridentifier.test(lang || &quot;&quot;) ) { Sizzle.error( &quot;unsupported lang: &quot; + lang ); } lang = lang.replace( runescape, funescape ).toLowerCase(); return function( elem ) { var elemLang; do { if ( (elemLang = documentIsHTML ? elem.lang : elem.getAttribute(&quot;xml:lang&quot;) || elem.getAttribute(&quot;lang&quot;)) ) { elemLang = elemLang.toLowerCase(); return elemLang === lang || elemLang.indexOf( lang + &quot;-&quot; ) === 0; } } while ( (elem = elem.parentNode) &amp;&amp; elem.nodeType === 1 ); return false; }; }), // Miscellaneous &quot;target&quot;: function( elem ) { var hash = window.location &amp;&amp; window.location.hash; return hash &amp;&amp; hash.slice( 1 ) === elem.id; }, &quot;root&quot;: function( elem ) { return elem === docElem; }, &quot;focus&quot;: function( elem ) { return elem === document.activeElement &amp;&amp; (!document.hasFocus || document.hasFocus()) &amp;&amp; !!(elem.type || elem.href || ~elem.tabIndex); }, // Boolean properties &quot;enabled&quot;: createDisabledPseudo( false ), &quot;disabled&quot;: createDisabledPseudo( true ), &quot;checked&quot;: function( elem ) { // In CSS3, :checked should return both checked and selected elements // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked var nodeName = elem.nodeName.toLowerCase(); return (nodeName === &quot;input&quot; &amp;&amp; !!elem.checked) || (nodeName === &quot;option&quot; &amp;&amp; !!elem.selected); }, &quot;selected&quot;: function( elem ) { // Accessing this property makes selected-by-default // options in Safari work properly if ( elem.parentNode ) { elem.parentNode.selectedIndex; } return elem.selected === true; }, // Contents &quot;empty&quot;: function( elem ) { // http://www.w3.org/TR/selectors/#empty-pseudo // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5), // but not by others (comment: 8; processing instruction: 7; etc.) // nodeType &lt; 6 works because attributes (2) do not appear as children for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) { if ( elem.nodeType &lt; 6 ) { return false; } } return true; }, &quot;parent&quot;: function( elem ) { return !Expr.pseudos[&quot;empty&quot;]( elem ); }, // Element/input types &quot;header&quot;: function( elem ) { return rheader.test( elem.nodeName ); }, &quot;input&quot;: function( elem ) { return rinputs.test( elem.nodeName ); }, &quot;button&quot;: function( elem ) { var name = elem.nodeName.toLowerCase(); return name === &quot;input&quot; &amp;&amp; elem.type === &quot;button&quot; || name === &quot;button&quot;; }, &quot;text&quot;: function( elem ) { var attr; return elem.nodeName.toLowerCase() === &quot;input&quot; &amp;&amp; elem.type === &quot;text&quot; &amp;&amp; // Support: IE&lt;8 // New HTML5 attribute values (e.g., &quot;search&quot;) appear with elem.type === &quot;text&quot; ( (attr = elem.getAttribute(&quot;type&quot;)) == null || attr.toLowerCase() === &quot;text&quot; ); }, // Position-in-collection &quot;first&quot;: createPositionalPseudo(function() { return [ 0 ]; }), &quot;last&quot;: createPositionalPseudo(function( matchIndexes, length ) { return [ length - 1 ]; }), &quot;eq&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { return [ argument &lt; 0 ? argument + length : argument ]; }), &quot;even&quot;: createPositionalPseudo(function( matchIndexes, length ) { var i = 0; for ( ; i &lt; length; i += 2 ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;odd&quot;: createPositionalPseudo(function( matchIndexes, length ) { var i = 1; for ( ; i &lt; length; i += 2 ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;lt&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { var i = argument &lt; 0 ? argument + length : argument; for ( ; --i &gt;= 0; ) { matchIndexes.push( i ); } return matchIndexes; }), &quot;gt&quot;: createPositionalPseudo(function( matchIndexes, length, argument ) { var i = argument &lt; 0 ? argument + length : argument; for ( ; ++i &lt; length; ) { matchIndexes.push( i ); } return matchIndexes; }) } }; Expr.pseudos[&quot;nth&quot;] = Expr.pseudos[&quot;eq&quot;]; // Add button/input type pseudos for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) { Expr.pseudos[ i ] = createInputPseudo( i ); } for ( i in { submit: true, reset: true } ) { Expr.pseudos[ i ] = createButtonPseudo( i ); } // Easy API for creating new setFilters function setFilters() {} setFilters.prototype = Expr.filters = Expr.pseudos; Expr.setFilters = new setFilters(); tokenize = Sizzle.tokenize = function( selector, parseOnly ) { var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[ selector + &quot; &quot; ]; if ( cached ) { return parseOnly ? 0 : cached.slice( 0 ); } soFar = selector; groups = []; preFilters = Expr.preFilter; while ( soFar ) { // Comma and first run if ( !matched || (match = rcomma.exec( soFar )) ) { if ( match ) { // Don't consume trailing commas as valid soFar = soFar.slice( match[0].length ) || soFar; } groups.push( (tokens = []) ); } matched = false; // Combinators if ( (match = rcombinators.exec( soFar )) ) { matched = match.shift(); tokens.push({ value: matched, // Cast descendant combinators to space type: match[0].replace( rtrim, &quot; &quot; ) }); soFar = soFar.slice( matched.length ); } // Filters for ( type in Expr.filter ) { if ( (match = matchExpr[ type ].exec( soFar )) &amp;&amp; (!preFilters[ type ] || (match = preFilters[ type ]( match ))) ) { matched = match.shift(); tokens.push({ value: matched, type: type, matches: match }); soFar = soFar.slice( matched.length ); } } if ( !matched ) { break; } } // Return the length of the invalid excess // if we're just parsing // Otherwise, throw an error or return tokens return parseOnly ? soFar.length : soFar ? Sizzle.error( selector ) : // Cache the tokens tokenCache( selector, groups ).slice( 0 ); }; function toSelector( tokens ) { var i = 0, len = tokens.length, selector = &quot;&quot;; for ( ; i &lt; len; i++ ) { selector += tokens[i].value; } return selector; } function addCombinator( matcher, combinator, base ) { var dir = combinator.dir, skip = combinator.next, key = skip || dir, checkNonElements = base &amp;&amp; key === &quot;parentNode&quot;, doneName = done++; return combinator.first ? // Check against closest ancestor/preceding element function( elem, context, xml ) { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { return matcher( elem, context, xml ); } } return false; } : // Check against all ancestor/preceding elements function( elem, context, xml ) { var oldCache, uniqueCache, outerCache, newCache = [ dirruns, doneName ]; // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching if ( xml ) { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { if ( matcher( elem, context, xml ) ) { return true; } } } } else { while ( (elem = elem[ dir ]) ) { if ( elem.nodeType === 1 || checkNonElements ) { outerCache = elem[ expando ] || (elem[ expando ] = {}); // Support: IE &lt;9 only // Defend against cloned attroperties (jQuery gh-1709) uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {}); if ( skip &amp;&amp; skip === elem.nodeName.toLowerCase() ) { elem = elem[ dir ] || elem; } else if ( (oldCache = uniqueCache[ key ]) &amp;&amp; oldCache[ 0 ] === dirruns &amp;&amp; oldCache[ 1 ] === doneName ) { // Assign to newCache so results back-propagate to previous elements return (newCache[ 2 ] = oldCache[ 2 ]); } else { // Reuse newcache so results back-propagate to previous elements uniqueCache[ key ] = newCache; // A match means we're done; a fail means we have to keep checking if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) { return true; } } } } } return false; }; } function elementMatcher( matchers ) { return matchers.length &gt; 1 ? function( elem, context, xml ) { var i = matchers.length; while ( i-- ) { if ( !matchers[i]( elem, context, xml ) ) { return false; } } return true; } : matchers[0]; } function multipleContexts( selector, contexts, results ) { var i = 0, len = contexts.length; for ( ; i &lt; len; i++ ) { Sizzle( selector, contexts[i], results ); } return results; } function condense( unmatched, map, filter, context, xml ) { var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null; for ( ; i &lt; len; i++ ) { if ( (elem = unmatched[i]) ) { if ( !filter || filter( elem, context, xml ) ) { newUnmatched.push( elem ); if ( mapped ) { map.push( i ); } } } } return newUnmatched; } function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) { if ( postFilter &amp;&amp; !postFilter[ expando ] ) { postFilter = setMatcher( postFilter ); } if ( postFinder &amp;&amp; !postFinder[ expando ] ) { postFinder = setMatcher( postFinder, postSelector ); } return markFunction(function( seed, results, context, xml ) { var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, // Get initial elements from seed or context elems = seed || multipleContexts( selector || &quot;*&quot;, context.nodeType ? [ context ] : context, [] ), // Prefilter to get matcher input, preserving a map for seed-results synchronization matcherIn = preFilter &amp;&amp; ( seed || !selector ) ? condense( elems, preMap, preFilter, context, xml ) : elems, matcherOut = matcher ? // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results, postFinder || ( seed ? preFilter : preexisting || postFilter ) ? // ...intermediate processing is necessary [] : // ...otherwise use results directly results : matcherIn; // Find primary matches if ( matcher ) { matcher( matcherIn, matcherOut, context, xml ); } // Apply postFilter if ( postFilter ) { temp = condense( matcherOut, postMap ); postFilter( temp, [], context, xml ); // Un-match failing elements by moving them back to matcherIn i = temp.length; while ( i-- ) { if ( (elem = temp[i]) ) { matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem); } } } if ( seed ) { if ( postFinder || preFilter ) { if ( postFinder ) { // Get the final matcherOut by condensing this intermediate into postFinder contexts temp = []; i = matcherOut.length; while ( i-- ) { if ( (elem = matcherOut[i]) ) { // Restore matcherIn since elem is not yet a final match temp.push( (matcherIn[i] = elem) ); } } postFinder( null, (matcherOut = []), temp, xml ); } // Move matched elements from seed to results to keep them synchronized i = matcherOut.length; while ( i-- ) { if ( (elem = matcherOut[i]) &amp;&amp; (temp = postFinder ? indexOf( seed, elem ) : preMap[i]) &gt; -1 ) { seed[temp] = !(results[temp] = elem); } } } // Add elements to results, through postFinder if defined } else { matcherOut = condense( matcherOut === results ? matcherOut.splice( preexisting, matcherOut.length ) : matcherOut ); if ( postFinder ) { postFinder( null, results, matcherOut, xml ); } else { push.apply( results, matcherOut ); } } }); } function matcherFromTokens( tokens ) { var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[ tokens[0].type ], implicitRelative = leadingRelative || Expr.relative[&quot; &quot;], i = leadingRelative ? 1 : 0, // The foundational matcher ensures that elements are reachable from top-level context(s) matchContext = addCombinator( function( elem ) { return elem === checkContext; }, implicitRelative, true ), matchAnyContext = addCombinator( function( elem ) { return indexOf( checkContext, elem ) &gt; -1; }, implicitRelative, true ), matchers = [ function( elem, context, xml ) { var ret = ( !leadingRelative &amp;&amp; ( xml || context !== outermostContext ) ) || ( (checkContext = context).nodeType ? matchContext( elem, context, xml ) : matchAnyContext( elem, context, xml ) ); // Avoid hanging onto element (issue #299) checkContext = null; return ret; } ]; for ( ; i &lt; len; i++ ) { if ( (matcher = Expr.relative[ tokens[i].type ]) ) { matchers = [ addCombinator(elementMatcher( matchers ), matcher) ]; } else { matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches ); // Return special upon seeing a positional matcher if ( matcher[ expando ] ) { // Find the next relative operator (if any) for proper handling j = ++i; for ( ; j &lt; len; j++ ) { if ( Expr.relative[ tokens[j].type ] ) { break; } } return setMatcher( i &gt; 1 &amp;&amp; elementMatcher( matchers ), i &gt; 1 &amp;&amp; toSelector( // If the preceding token was a descendant combinator, insert an implicit any-element `*` tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === &quot; &quot; ? &quot;*&quot; : &quot;&quot; }) ).replace( rtrim, &quot;$1&quot; ), matcher, i &lt; j &amp;&amp; matcherFromTokens( tokens.slice( i, j ) ), j &lt; len &amp;&amp; matcherFromTokens( (tokens = tokens.slice( j )) ), j &lt; len &amp;&amp; toSelector( tokens ) ); } matchers.push( matcher ); } } return elementMatcher( matchers ); } function matcherFromGroupMatchers( elementMatchers, setMatchers ) { var bySet = setMatchers.length &gt; 0, byElement = elementMatchers.length &gt; 0, superMatcher = function( seed, context, xml, results, outermost ) { var elem, j, matcher, matchedCount = 0, i = &quot;0&quot;, unmatched = seed &amp;&amp; [], setMatched = [], contextBackup = outermostContext, // We must always have either seed elements or outermost context elems = seed || byElement &amp;&amp; Expr.find[&quot;TAG&quot;]( &quot;*&quot;, outermost ), // Use integer dirruns iff this is the outermost matcher dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1), len = elems.length; if ( outermost ) { outermostContext = context === document || context || outermost; } // Add elements passing elementMatchers directly to results // Support: IE&lt;9, Safari // Tolerate NodeList properties (IE: &quot;length&quot;; Safari: &lt;number&gt;) matching elements by id for ( ; i !== len &amp;&amp; (elem = elems[i]) != null; i++ ) { if ( byElement &amp;&amp; elem ) { j = 0; if ( !context &amp;&amp; elem.ownerDocument !== document ) { setDocument( elem ); xml = !documentIsHTML; } while ( (matcher = elementMatchers[j++]) ) { if ( matcher( elem, context || document, xml) ) { results.push( elem ); break; } } if ( outermost ) { dirruns = dirrunsUnique; } } // Track unmatched elements for set filters if ( bySet ) { // They will have gone through all possible matchers if ( (elem = !matcher &amp;&amp; elem) ) { matchedCount--; } // Lengthen the array for every element, matched or not if ( seed ) { unmatched.push( elem ); } } } // `i` is now the count of elements visited above, and adding it to `matchedCount` // makes the latter nonnegative. matchedCount += i; // Apply set filters to unmatched elements // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount` // equals `i`), unless we didn't visit _any_ elements in the above loop because we have // no element matchers and no seed. // Incrementing an initially-string &quot;0&quot; `i` allows `i` to remain a string only in that // case, which will result in a &quot;00&quot; `matchedCount` that differs from `i` but is also // numerically zero. if ( bySet &amp;&amp; i !== matchedCount ) { j = 0; while ( (matcher = setMatchers[j++]) ) { matcher( unmatched, setMatched, context, xml ); } if ( seed ) { // Reintegrate element matches to eliminate the need for sorting if ( matchedCount &gt; 0 ) { while ( i-- ) { if ( !(unmatched[i] || setMatched[i]) ) { setMatched[i] = pop.call( results ); } } } // Discard index placeholder values to get only actual matches setMatched = condense( setMatched ); } // Add matches to results push.apply( results, setMatched ); // Seedless set matches succeeding multiple successful matchers stipulate sorting if ( outermost &amp;&amp; !seed &amp;&amp; setMatched.length &gt; 0 &amp;&amp; ( matchedCount + setMatchers.length ) &gt; 1 ) { Sizzle.uniqueSort( results ); } } // Override manipulation of globals by nested matchers if ( outermost ) { dirruns = dirrunsUnique; outermostContext = contextBackup; } return unmatched; }; return bySet ? markFunction( superMatcher ) : superMatcher; } compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) { var i, setMatchers = [], elementMatchers = [], cached = compilerCache[ selector + &quot; &quot; ]; if ( !cached ) { // Generate a function of recursive functions that can be used to check each element if ( !match ) { match = tokenize( selector ); } i = match.length; while ( i-- ) { cached = matcherFromTokens( match[i] ); if ( cached[ expando ] ) { setMatchers.push( cached ); } else { elementMatchers.push( cached ); } } // Cache the compiled function cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) ); // Save selector and tokenization cached.selector = selector; } return cached; }; /** * A low-level selection function that works with Sizzle's compiled * selector functions * @param {String|Function} selector A selector or a pre-compiled * selector function built with Sizzle.compile * @param {Element} context * @param {Array} [results] * @param {Array} [seed] A set of elements to match against */ select = Sizzle.select = function( selector, context, results, seed ) { var i, tokens, token, type, find, compiled = typeof selector === &quot;function&quot; &amp;&amp; selector, match = !seed &amp;&amp; tokenize( (selector = compiled.selector || selector) ); results = results || []; // Try to minimize operations if there is only one selector in the list and no seed // (the latter of which guarantees us context) if ( match.length === 1 ) { // Reduce context if the leading compound selector is an ID tokens = match[0] = match[0].slice( 0 ); if ( tokens.length &gt; 2 &amp;&amp; (token = tokens[0]).type === &quot;ID&quot; &amp;&amp; context.nodeType === 9 &amp;&amp; documentIsHTML &amp;&amp; Expr.relative[ tokens[1].type ] ) { context = ( Expr.find[&quot;ID&quot;]( token.matches[0].replace(runescape, funescape), context ) || [] )[0]; if ( !context ) { return results; // Precompiled matchers will still verify ancestry, so step up a level } else if ( compiled ) { context = context.parentNode; } selector = selector.slice( tokens.shift().value.length ); } // Fetch a seed set for right-to-left matching i = matchExpr[&quot;needsContext&quot;].test( selector ) ? 0 : tokens.length; while ( i-- ) { token = tokens[i]; // Abort if we hit a combinator if ( Expr.relative[ (type = token.type) ] ) { break; } if ( (find = Expr.find[ type ]) ) { // Search, expanding context for leading sibling combinators if ( (seed = find( token.matches[0].replace( runescape, funescape ), rsibling.test( tokens[0].type ) &amp;&amp; testContext( context.parentNode ) || context )) ) { // If seed is empty or no tokens remain, we can return early tokens.splice( i, 1 ); selector = seed.length &amp;&amp; toSelector( tokens ); if ( !selector ) { push.apply( results, seed ); return results; } break; } } } } // Compile and execute a filtering function if one is not provided // Provide `match` to avoid retokenization if we modified the selector above ( compiled || compile( selector, match ) )( seed, context, !documentIsHTML, results, !context || rsibling.test( selector ) &amp;&amp; testContext( context.parentNode ) || context ); return results; }; // One-time assignments // Sort stability support.sortStable = expando.split(&quot;&quot;).sort( sortOrder ).join(&quot;&quot;) === expando; // Support: Chrome 14-35+ // Always assume duplicates if they aren't passed to the comparison function support.detectDuplicates = !!hasDuplicate; // Initialize against the default document setDocument(); // Support: Webkit&lt;537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27) // Detached nodes confoundingly follow *each other* support.sortDetached = assert(function( el ) { // Should return 1, but returns 4 (following) return el.compareDocumentPosition( document.createElement(&quot;fieldset&quot;) ) &amp; 1; }); // Support: IE&lt;8 // Prevent attribute/property &quot;interpolation&quot; // https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx if ( !assert(function( el ) { el.innerHTML = &quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;; return el.firstChild.getAttribute(&quot;href&quot;) === &quot;#&quot; ; }) ) { addHandle( &quot;type|href|height|width&quot;, function( elem, name, isXML ) { if ( !isXML ) { return elem.getAttribute( name, name.toLowerCase() === &quot;type&quot; ? 1 : 2 ); } }); } // Support: IE&lt;9 // Use defaultValue in place of getAttribute(&quot;value&quot;) if ( !support.attributes || !assert(function( el ) { el.innerHTML = &quot;&lt;input/&gt;&quot;; el.firstChild.setAttribute( &quot;value&quot;, &quot;&quot; ); return el.firstChild.getAttribute( &quot;value&quot; ) === &quot;&quot;; }) ) { addHandle( &quot;value&quot;, function( elem, name, isXML ) { if ( !isXML &amp;&amp; elem.nodeName.toLowerCase() === &quot;input&quot; ) { return elem.defaultValue; } }); } // Support: IE&lt;9 // Use getAttributeNode to fetch booleans when getAttribute lies if ( !assert(function( el ) { return el.getAttribute(&quot;disabled&quot;) == null; }) ) { addHandle( booleans, function( elem, name, isXML ) { var val; if ( !isXML ) { return elem[ name ] === true ? name.toLowerCase() : (val = elem.getAttributeNode( name )) &amp;&amp; val.specified ? val.value : null; } }); } return Sizzle; })( window ); jQuery.find = Sizzle; jQuery.expr = Sizzle.selectors; // Deprecated jQuery.expr[ &quot;:&quot; ] = jQuery.expr.pseudos; jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort; jQuery.text = Sizzle.getText; jQuery.isXMLDoc = Sizzle.isXML; jQuery.contains = Sizzle.contains; jQuery.escapeSelector = Sizzle.escape; var dir = function( elem, dir, until ) { var matched = [], truncate = until !== undefined; while ( ( elem = elem[ dir ] ) &amp;&amp; elem.nodeType !== 9 ) { if ( elem.nodeType === 1 ) { if ( truncate &amp;&amp; jQuery( elem ).is( until ) ) { break; } matched.push( elem ); } } return matched; }; var siblings = function( n, elem ) { var matched = []; for ( ; n; n = n.nextSibling ) { if ( n.nodeType === 1 &amp;&amp; n !== elem ) { matched.push( n ); } } return matched; }; var rneedsContext = jQuery.expr.match.needsContext; function nodeName( elem, name ) { return elem.nodeName &amp;&amp; elem.nodeName.toLowerCase() === name.toLowerCase(); }; var rsingleTag = ( /^&lt;([a-z][^\\/\\0&gt;:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?&gt;(?:&lt;\\/\\1&gt;|)$/i ); var risSimple = /^.[^:#\\[\\.,]*$/; // Implement the identical functionality for filter and not function winnow( elements, qualifier, not ) { if ( jQuery.isFunction( qualifier ) ) { return jQuery.grep( elements, function( elem, i ) { return !!qualifier.call( elem, i, elem ) !== not; } ); } // Single element if ( qualifier.nodeType ) { return jQuery.grep( elements, function( elem ) { return ( elem === qualifier ) !== not; } ); } // Arraylike of elements (jQuery, arguments, Array) if ( typeof qualifier !== &quot;string&quot; ) { return jQuery.grep( elements, function( elem ) { return ( indexOf.call( qualifier, elem ) &gt; -1 ) !== not; } ); } // Simple selector that can be filtered directly, removing non-Elements if ( risSimple.test( qualifier ) ) { return jQuery.filter( qualifier, elements, not ); } // Complex selector, compare the two sets, removing non-Elements qualifier = jQuery.filter( qualifier, elements ); return jQuery.grep( elements, function( elem ) { return ( indexOf.call( qualifier, elem ) &gt; -1 ) !== not &amp;&amp; elem.nodeType === 1; } ); } jQuery.filter = function( expr, elems, not ) { var elem = elems[ 0 ]; if ( not ) { expr = &quot;:not(&quot; + expr + &quot;)&quot;; } if ( elems.length === 1 &amp;&amp; elem.nodeType === 1 ) { return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : []; } return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) { return elem.nodeType === 1; } ) ); }; jQuery.fn.extend( { find: function( selector ) { var i, ret, len = this.length, self = this; if ( typeof selector !== &quot;string&quot; ) { return this.pushStack( jQuery( selector ).filter( function() { for ( i = 0; i &lt; len; i++ ) { if ( jQuery.contains( self[ i ], this ) ) { return true; } } } ) ); } ret = this.pushStack( [] ); for ( i = 0; i &lt; len; i++ ) { jQuery.find( selector, self[ i ], ret ); } return len &gt; 1 ? jQuery.uniqueSort( ret ) : ret; }, filter: function( selector ) { return this.pushStack( winnow( this, selector || [], false ) ); }, not: function( selector ) { return this.pushStack( winnow( this, selector || [], true ) ); }, is: function( selector ) { return !!winnow( this, // If this is a positional/relative selector, check membership in the returned set // so $(&quot;p:first&quot;).is(&quot;p:last&quot;) won't return true for a doc with two &quot;p&quot;. typeof selector === &quot;string&quot; &amp;&amp; rneedsContext.test( selector ) ? jQuery( selector ) : selector || [], false ).length; } } ); // Initialize a jQuery object // A central reference to the root jQuery(document) var rootjQuery, // A simple way to check for HTML strings // Prioritize #id over &lt;tag&gt; to avoid XSS via location.hash (#9521) // Strict HTML recognition (#11290: must start with &lt;) // Shortcut simple #id case for speed rquickExpr = /^(?:\\s*(&lt;[\\w\\W]+&gt;)[^&gt;]*|#([\\w-]+))$/, init = jQuery.fn.init = function( selector, context, root ) { var match, elem; // HANDLE: $(&quot;&quot;), $(null), $(undefined), $(false) if ( !selector ) { return this; } // Method init() accepts an alternate rootjQuery // so migrate can support jQuery.sub (gh-2101) root = root || rootjQuery; // Handle HTML strings if ( typeof selector === &quot;string&quot; ) { if ( selector[ 0 ] === &quot;&lt;&quot; &amp;&amp; selector[ selector.length - 1 ] === &quot;&gt;&quot; &amp;&amp; selector.length &gt;= 3 ) { // Assume that strings that start and end with &lt;&gt; are HTML and skip the regex check match = [ null, selector, null ]; } else { match = rquickExpr.exec( selector ); } // Match html or make sure no context is specified for #id if ( match &amp;&amp; ( match[ 1 ] || !context ) ) { // HANDLE: $(html) -&gt; $(array) if ( match[ 1 ] ) { context = context instanceof jQuery ? context[ 0 ] : context; // Option to run scripts is true for back-compat // Intentionally let the error be thrown if parseHTML is not present jQuery.merge( this, jQuery.parseHTML( match[ 1 ], context &amp;&amp; context.nodeType ? context.ownerDocument || context : document, true ) ); // HANDLE: $(html, props) if ( rsingleTag.test( match[ 1 ] ) &amp;&amp; jQuery.isPlainObject( context ) ) { for ( match in context ) { // Properties of context are called as methods if possible if ( jQuery.isFunction( this[ match ] ) ) { this[ match ]( context[ match ] ); // ...and otherwise set as attributes } else { this.attr( match, context[ match ] ); } } } return this; // HANDLE: $(#id) } else { elem = document.getElementById( match[ 2 ] ); if ( elem ) { // Inject the element directly into the jQuery object this[ 0 ] = elem; this.length = 1; } return this; } // HANDLE: $(expr, $(...)) } else if ( !context || context.jquery ) { return ( context || root ).find( selector ); // HANDLE: $(expr, context) // (which is just equivalent to: $(context).find(expr) } else { return this.constructor( context ).find( selector ); } // HANDLE: $(DOMElement) } else if ( selector.nodeType ) { this[ 0 ] = selector; this.length = 1; return this; // HANDLE: $(function) // Shortcut for document ready } else if ( jQuery.isFunction( selector ) ) { return root.ready !== undefined ? root.ready( selector ) : // Execute immediately if ready is not present selector( jQuery ); } return jQuery.makeArray( selector, this ); }; // Give the init function the jQuery prototype for later instantiation init.prototype = jQuery.fn; // Initialize central reference rootjQuery = jQuery( document ); var rparentsprev = /^(?:parents|prev(?:Until|All))/, // Methods guaranteed to produce a unique set when starting from a unique set guaranteedUnique = { children: true, contents: true, next: true, prev: true }; jQuery.fn.extend( { has: function( target ) { var targets = jQuery( target, this ), l = targets.length; return this.filter( function() { var i = 0; for ( ; i &lt; l; i++ ) { if ( jQuery.contains( this, targets[ i ] ) ) { return true; } } } ); }, closest: function( selectors, context ) { var cur, i = 0, l = this.length, matched = [], targets = typeof selectors !== &quot;string&quot; &amp;&amp; jQuery( selectors ); // Positional selectors never match, since there's no _selection_ context if ( !rneedsContext.test( selectors ) ) { for ( ; i &lt; l; i++ ) { for ( cur = this[ i ]; cur &amp;&amp; cur !== context; cur = cur.parentNode ) { // Always skip document fragments if ( cur.nodeType &lt; 11 &amp;&amp; ( targets ? targets.index( cur ) &gt; -1 : // Don't pass non-elements to Sizzle cur.nodeType === 1 &amp;&amp; jQuery.find.matchesSelector( cur, selectors ) ) ) { matched.push( cur ); break; } } } } return this.pushStack( matched.length &gt; 1 ? jQuery.uniqueSort( matched ) : matched ); }, // Determine the position of an element within the set index: function( elem ) { // No argument, return index in parent if ( !elem ) { return ( this[ 0 ] &amp;&amp; this[ 0 ].parentNode ) ? this.first().prevAll().length : -1; } // Index in selector if ( typeof elem === &quot;string&quot; ) { return indexOf.call( jQuery( elem ), this[ 0 ] ); } // Locate the position of the desired element return indexOf.call( this, // If it receives a jQuery object, the first element is used elem.jquery ? elem[ 0 ] : elem ); }, add: function( selector, context ) { return this.pushStack( jQuery.uniqueSort( jQuery.merge( this.get(), jQuery( selector, context ) ) ) ); }, addBack: function( selector ) { return this.add( selector == null ? this.prevObject : this.prevObject.filter( selector ) ); } } ); function sibling( cur, dir ) { while ( ( cur = cur[ dir ] ) &amp;&amp; cur.nodeType !== 1 ) {} return cur; } jQuery.each( { parent: function( elem ) { var parent = elem.parentNode; return parent &amp;&amp; parent.nodeType !== 11 ? parent : null; }, parents: function( elem ) { return dir( elem, &quot;parentNode&quot; ); }, parentsUntil: function( elem, i, until ) { return dir( elem, &quot;parentNode&quot;, until ); }, next: function( elem ) { return sibling( elem, &quot;nextSibling&quot; ); }, prev: function( elem ) { return sibling( elem, &quot;previousSibling&quot; ); }, nextAll: function( elem ) { return dir( elem, &quot;nextSibling&quot; ); }, prevAll: function( elem ) { return dir( elem, &quot;previousSibling&quot; ); }, nextUntil: function( elem, i, until ) { return dir( elem, &quot;nextSibling&quot;, until ); }, prevUntil: function( elem, i, until ) { return dir( elem, &quot;previousSibling&quot;, until ); }, siblings: function( elem ) { return siblings( ( elem.parentNode || {} ).firstChild, elem ); }, children: function( elem ) { return siblings( elem.firstChild ); }, contents: function( elem ) { if ( nodeName( elem, &quot;iframe&quot; ) ) { return elem.contentDocument; } // Support: IE 9 - 11 only, iOS 7 only, Android Browser &lt;=4.3 only // Treat the template element as a regular one in browsers that // don't support it. if ( nodeName( elem, &quot;template&quot; ) ) { elem = elem.content || elem; } return jQuery.merge( [], elem.childNodes ); } }, function( name, fn ) { jQuery.fn[ name ] = function( until, selector ) { var matched = jQuery.map( this, fn, until ); if ( name.slice( -5 ) !== &quot;Until&quot; ) { selector = until; } if ( selector &amp;&amp; typeof selector === &quot;string&quot; ) { matched = jQuery.filter( selector, matched ); } if ( this.length &gt; 1 ) { // Remove duplicates if ( !guaranteedUnique[ name ] ) { jQuery.uniqueSort( matched ); } // Reverse order for parents* and prev-derivatives if ( rparentsprev.test( name ) ) { matched.reverse(); } } return this.pushStack( matched ); }; } ); var rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g ); // Convert String-formatted options into Object-formatted ones function createOptions( options ) { var object = {}; jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) { object[ flag ] = true; } ); return object; } /* * Create a callback list using the following parameters: * * options: an optional list of space-separated options that will change how * the callback list behaves or a more traditional option object * * By default a callback list will act like an event callback list and can be * &quot;fired&quot; multiple times. * * Possible options: * * once: will ensure the callback list can only be fired once (like a Deferred) * * memory: will keep track of previous values and will call any callback added * after the list has been fired right away with the latest &quot;memorized&quot; * values (like a Deferred) * * unique: will ensure a callback can only be added once (no duplicate in the list) * * stopOnFalse: interrupt callings when a callback returns false * */ jQuery.Callbacks = function( options ) { // Convert options from String-formatted to Object-formatted if needed // (we check in cache first) options = typeof options === &quot;string&quot; ? createOptions( options ) : jQuery.extend( {}, options ); var // Flag to know if list is currently firing firing, // Last fire value for non-forgettable lists memory, // Flag to know if list was already fired fired, // Flag to prevent firing locked, // Actual callback list list = [], // Queue of execution data for repeatable lists queue = [], // Index of currently firing callback (modified by add/remove as needed) firingIndex = -1, // Fire callbacks fire = function() { // Enforce single-firing locked = locked || options.once; // Execute callbacks for all pending executions, // respecting firingIndex overrides and runtime changes fired = firing = true; for ( ; queue.length; firingIndex = -1 ) { memory = queue.shift(); while ( ++firingIndex &lt; list.length ) { // Run callback and check for early termination if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &amp;&amp; options.stopOnFalse ) { // Jump to end and forget the data so .add doesn't re-fire firingIndex = list.length; memory = false; } } } // Forget the data if we're done with it if ( !options.memory ) { memory = false; } firing = false; // Clean up if we're done firing for good if ( locked ) { // Keep an empty list if we have data for future add calls if ( memory ) { list = []; // Otherwise, this object is spent } else { list = &quot;&quot;; } } }, // Actual Callbacks object self = { // Add a callback or a collection of callbacks to the list add: function() { if ( list ) { // If we have memory from a past run, we should fire after adding if ( memory &amp;&amp; !firing ) { firingIndex = list.length - 1; queue.push( memory ); } ( function add( args ) { jQuery.each( args, function( _, arg ) { if ( jQuery.isFunction( arg ) ) { if ( !options.unique || !self.has( arg ) ) { list.push( arg ); } } else if ( arg &amp;&amp; arg.length &amp;&amp; jQuery.type( arg ) !== &quot;string&quot; ) { // Inspect recursively add( arg ); } } ); } )( arguments ); if ( memory &amp;&amp; !firing ) { fire(); } } return this; }, // Remove a callback from the list remove: function() { jQuery.each( arguments, function( _, arg ) { var index; while ( ( index = jQuery.inArray( arg, list, index ) ) &gt; -1 ) { list.splice( index, 1 ); // Handle firing indexes if ( index &lt;= firingIndex ) { firingIndex--; } } } ); return this; }, // Check if a given callback is in the list. // If no argument is given, return whether or not list has callbacks attached. has: function( fn ) { return fn ? jQuery.inArray( fn, list ) &gt; -1 : list.length &gt; 0; }, // Remove all callbacks from the list empty: function() { if ( list ) { list = []; } return this; }, // Disable .fire and .add // Abort any current/pending executions // Clear all callbacks and values disable: function() { locked = queue = []; list = memory = &quot;&quot;; return this; }, disabled: function() { return !list; }, // Disable .fire // Also disable .add unless we have memory (since it would have no effect) // Abort any pending executions lock: function() { locked = queue = []; if ( !memory &amp;&amp; !firing ) { list = memory = &quot;&quot;; } return this; }, locked: function() { return !!locked; }, // Call all callbacks with the given context and arguments fireWith: function( context, args ) { if ( !locked ) { args = args || []; args = [ context, args.slice ? args.slice() : args ]; queue.push( args ); if ( !firing ) { fire(); } } return this; }, // Call all the callbacks with the given arguments fire: function() { self.fireWith( this, arguments ); return this; }, // To know if the callbacks have already been called at least once fired: function() { return !!fired; } }; return self; }; function Identity( v ) { return v; } function Thrower( ex ) { throw ex; } function adoptValue( value, resolve, reject, noValue ) { var method; try { // Check for promise aspect first to privilege synchronous behavior if ( value &amp;&amp; jQuery.isFunction( ( method = value.promise ) ) ) { method.call( value ).done( resolve ).fail( reject ); // Other thenables } else if ( value &amp;&amp; jQuery.isFunction( ( method = value.then ) ) ) { method.call( value, resolve, reject ); // Other non-thenables } else { // Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer: // * false: [ value ].slice( 0 ) =&gt; resolve( value ) // * true: [ value ].slice( 1 ) =&gt; resolve() resolve.apply( undefined, [ value ].slice( noValue ) ); } // For Promises/A+, convert exceptions into rejections // Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in // Deferred#then to conditionally suppress rejection. } catch ( value ) { // Support: Android 4.0 only // Strict mode functions invoked without .call/.apply get global-object context reject.apply( undefined, [ value ] ); } } jQuery.extend( { Deferred: function( func ) { var tuples = [ // action, add listener, callbacks, // ... .then handlers, argument index, [final state] [ &quot;notify&quot;, &quot;progress&quot;, jQuery.Callbacks( &quot;memory&quot; ), jQuery.Callbacks( &quot;memory&quot; ), 2 ], [ &quot;resolve&quot;, &quot;done&quot;, jQuery.Callbacks( &quot;once memory&quot; ), jQuery.Callbacks( &quot;once memory&quot; ), 0, &quot;resolved&quot; ], [ &quot;reject&quot;, &quot;fail&quot;, jQuery.Callbacks( &quot;once memory&quot; ), jQuery.Callbacks( &quot;once memory&quot; ), 1, &quot;rejected&quot; ] ], state = &quot;pending&quot;, promise = { state: function() { return state; }, always: function() { deferred.done( arguments ).fail( arguments ); return this; }, &quot;catch&quot;: function( fn ) { return promise.then( null, fn ); }, // Keep pipe for back-compat pipe: function( /* fnDone, fnFail, fnProgress */ ) { var fns = arguments; return jQuery.Deferred( function( newDefer ) { jQuery.each( tuples, function( i, tuple ) { // Map tuples (progress, done, fail) to arguments (done, fail, progress) var fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) &amp;&amp; fns[ tuple[ 4 ] ]; // deferred.progress(function() { bind to newDefer or newDefer.notify }) // deferred.done(function() { bind to newDefer or newDefer.resolve }) // deferred.fail(function() { bind to newDefer or newDefer.reject }) deferred[ tuple[ 1 ] ]( function() { var returned = fn &amp;&amp; fn.apply( this, arguments ); if ( returned &amp;&amp; jQuery.isFunction( returned.promise ) ) { returned.promise() .progress( newDefer.notify ) .done( newDefer.resolve ) .fail( newDefer.reject ); } else { newDefer[ tuple[ 0 ] + &quot;With&quot; ]( this, fn ? [ returned ] : arguments ); } } ); } ); fns = null; } ).promise(); }, then: function( onFulfilled, onRejected, onProgress ) { var maxDepth = 0; function resolve( depth, deferred, handler, special ) { return function() { var that = this, args = arguments, mightThrow = function() { var returned, then; // Support: Promises/A+ section 2.3.3.3.3 // https://promisesaplus.com/#point-59 // Ignore double-resolution attempts if ( depth &lt; maxDepth ) { return; } returned = handler.apply( that, args ); // Support: Promises/A+ section 2.3.1 // https://promisesaplus.com/#point-48 if ( returned === deferred.promise() ) { throw new TypeError( &quot;Thenable self-resolution&quot; ); } // Support: Promises/A+ sections 2.3.3.1, 3.5 // https://promisesaplus.com/#point-54 // https://promisesaplus.com/#point-75 // Retrieve `then` only once then = returned &amp;&amp; // Support: Promises/A+ section 2.3.4 // https://promisesaplus.com/#point-64 // Only check objects and functions for thenability ( typeof returned === &quot;object&quot; || typeof returned === &quot;function&quot; ) &amp;&amp; returned.then; // Handle a returned thenable if ( jQuery.isFunction( then ) ) { // Special processors (notify) just wait for resolution if ( special ) { then.call( returned, resolve( maxDepth, deferred, Identity, special ), resolve( maxDepth, deferred, Thrower, special ) ); // Normal processors (resolve) also hook into progress } else { // ...and disregard older resolution values maxDepth++; then.call( returned, resolve( maxDepth, deferred, Identity, special ), resolve( maxDepth, deferred, Thrower, special ), resolve( maxDepth, deferred, Identity, deferred.notifyWith ) ); } // Handle all other returned values } else { // Only substitute handlers pass on context // and multiple values (non-spec behavior) if ( handler !== Identity ) { that = undefined; args = [ returned ]; } // Process the value(s) // Default process is resolve ( special || deferred.resolveWith )( that, args ); } }, // Only normal processors (resolve) catch and reject exceptions process = special ? mightThrow : function() { try { mightThrow(); } catch ( e ) { if ( jQuery.Deferred.exceptionHook ) { jQuery.Deferred.exceptionHook( e, process.stackTrace ); } // Support: Promises/A+ section 2.3.3.3.4.1 // https://promisesaplus.com/#point-61 // Ignore post-resolution exceptions if ( depth + 1 &gt;= maxDepth ) { // Only substitute handlers pass on context // and multiple values (non-spec behavior) if ( handler !== Thrower ) { that = undefined; args = [ e ]; } deferred.rejectWith( that, args ); } } }; // Support: Promises/A+ section 2.3.3.3.1 // https://promisesaplus.com/#point-57 // Re-resolve promises immediately to dodge false rejection from // subsequent errors if ( depth ) { process(); } else { // Call an optional hook to record the stack, in case of exception // since it's otherwise lost when execution goes async if ( jQuery.Deferred.getStackHook ) { process.stackTrace = jQuery.Deferred.getStackHook(); } window.setTimeout( process ); } }; } return jQuery.Deferred( function( newDefer ) { // progress_handlers.add( ... ) tuples[ 0 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onProgress ) ? onProgress : Identity, newDefer.notifyWith ) ); // fulfilled_handlers.add( ... ) tuples[ 1 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onFulfilled ) ? onFulfilled : Identity ) ); // rejected_handlers.add( ... ) tuples[ 2 ][ 3 ].add( resolve( 0, newDefer, jQuery.isFunction( onRejected ) ? onRejected : Thrower ) ); } ).promise(); }, // Get a promise for this deferred // If obj is provided, the promise aspect is added to the object promise: function( obj ) { return obj != null ? jQuery.extend( obj, promise ) : promise; } }, deferred = {}; // Add list-specific methods jQuery.each( tuples, function( i, tuple ) { var list = tuple[ 2 ], stateString = tuple[ 5 ]; // promise.progress = list.add // promise.done = list.add // promise.fail = list.add promise[ tuple[ 1 ] ] = list.add; // Handle state if ( stateString ) { list.add( function() { // state = &quot;resolved&quot; (i.e., fulfilled) // state = &quot;rejected&quot; state = stateString; }, // rejected_callbacks.disable // fulfilled_callbacks.disable tuples[ 3 - i ][ 2 ].disable, // progress_callbacks.lock tuples[ 0 ][ 2 ].lock ); } // progress_handlers.fire // fulfilled_handlers.fire // rejected_handlers.fire list.add( tuple[ 3 ].fire ); // deferred.notify = function() { deferred.notifyWith(...) } // deferred.resolve = function() { deferred.resolveWith(...) } // deferred.reject = function() { deferred.rejectWith(...) } deferred[ tuple[ 0 ] ] = function() { deferred[ tuple[ 0 ] + &quot;With&quot; ]( this === deferred ? undefined : this, arguments ); return this; }; // deferred.notifyWith = list.fireWith // deferred.resolveWith = list.fireWith // deferred.rejectWith = list.fireWith deferred[ tuple[ 0 ] + &quot;With&quot; ] = list.fireWith; } ); // Make the deferred a promise promise.promise( deferred ); // Call given func if any if ( func ) { func.call( deferred, deferred ); } // All done! return deferred; }, // Deferred helper when: function( singleValue ) { var // count of uncompleted subordinates remaining = arguments.length, // count of unprocessed arguments i = remaining, // subordinate fulfillment data resolveContexts = Array( i ), resolveValues = slice.call( arguments ), // the master Deferred master = jQuery.Deferred(), // subordinate callback factory updateFunc = function( i ) { return function( value ) { resolveContexts[ i ] = this; resolveValues[ i ] = arguments.length &gt; 1 ? slice.call( arguments ) : value; if ( !( --remaining ) ) { master.resolveWith( resolveContexts, resolveValues ); } }; }; // Single- and empty arguments are adopted like Promise.resolve if ( remaining &lt;= 1 ) { adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject, !remaining ); // Use .then() to unwrap secondary thenables (cf. gh-3000) if ( master.state() === &quot;pending&quot; || jQuery.isFunction( resolveValues[ i ] &amp;&amp; resolveValues[ i ].then ) ) { return master.then(); } } // Multiple arguments are aggregated like Promise.all array elements while ( i-- ) { adoptValue( resolveValues[ i ], updateFunc( i ), master.reject ); } return master.promise(); } } ); // These usually indicate a programmer mistake during development, // warn about them ASAP rather than swallowing them by default. var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; jQuery.Deferred.exceptionHook = function( error, stack ) { // Support: IE 8 - 9 only // Console exists when dev tools are open, which can happen at any time if ( window.console &amp;&amp; window.console.warn &amp;&amp; error &amp;&amp; rerrorNames.test( error.name ) ) { window.console.warn( &quot;jQuery.Deferred exception: &quot; + error.message, error.stack, stack ); } }; jQuery.readyException = function( error ) { window.setTimeout( function() { throw error; } ); }; // The deferred used on DOM ready var readyList = jQuery.Deferred(); jQuery.fn.ready = function( fn ) { readyList .then( fn ) // Wrap jQuery.readyException in a function so that the lookup // happens at the time of error handling instead of callback // registration. .catch( function( error ) { jQuery.readyException( error ); } ); return this; }; jQuery.extend( { // Is the DOM ready to be used? Set to true once it occurs. isReady: false, // A counter to track how many items to wait for before // the ready event fires. See #6781 readyWait: 1, // Handle when the DOM is ready ready: function( wait ) { // Abort if there are pending holds or we're already ready if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) { return; } // Remember that the DOM is ready jQuery.isReady = true; // If a normal DOM Ready event fired, decrement, and wait if need be if ( wait !== true &amp;&amp; --jQuery.readyWait &gt; 0 ) { return; } // If there are functions bound, to execute readyList.resolveWith( document, [ jQuery ] ); } } ); jQuery.ready.then = readyList.then; // The ready event handler and self cleanup method function completed() { document.removeEventListener( &quot;DOMContentLoaded&quot;, completed ); window.removeEventListener( &quot;load&quot;, completed ); jQuery.ready(); } // Catch cases where $(document).ready() is called // after the browser event has already occurred. // Support: IE &lt;=9 - 10 only // Older IE sometimes signals &quot;interactive&quot; too soon if ( document.readyState === &quot;complete&quot; || ( document.readyState !== &quot;loading&quot; &amp;&amp; !document.documentElement.doScroll ) ) { // Handle it asynchronously to allow scripts the opportunity to delay ready window.setTimeout( jQuery.ready ); } else { // Use the handy event callback document.addEventListener( &quot;DOMContentLoaded&quot;, completed ); // A fallback to window.onload, that will always work window.addEventListener( &quot;load&quot;, completed ); } // Multifunctional method to get and set values of a collection // The value/s can optionally be executed if it's a function var access = function( elems, fn, key, value, chainable, emptyGet, raw ) { var i = 0, len = elems.length, bulk = key == null; // Sets many values if ( jQuery.type( key ) === &quot;object&quot; ) { chainable = true; for ( i in key ) { access( elems, fn, i, key[ i ], true, emptyGet, raw ); } // Sets one value } else if ( value !== undefined ) { chainable = true; if ( !jQuery.isFunction( value ) ) { raw = true; } if ( bulk ) { // Bulk operations run against the entire set if ( raw ) { fn.call( elems, value ); fn = null; // ...except when executing function values } else { bulk = fn; fn = function( elem, key, value ) { return bulk.call( jQuery( elem ), value ); }; } } if ( fn ) { for ( ; i &lt; len; i++ ) { fn( elems[ i ], key, raw ? value : value.call( elems[ i ], i, fn( elems[ i ], key ) ) ); } } } if ( chainable ) { return elems; } // Gets if ( bulk ) { return fn.call( elems ); } return len ? fn( elems[ 0 ], key ) : emptyGet; }; var acceptData = function( owner ) { // Accepts only: // - Node // - Node.ELEMENT_NODE // - Node.DOCUMENT_NODE // - Object // - Any return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType ); }; function Data() { this.expando = jQuery.expando + Data.uid++; } Data.uid = 1; Data.prototype = { cache: function( owner ) { // Check if the owner object already has a cache var value = owner[ this.expando ]; // If not, create one if ( !value ) { value = {}; // We can accept data for non-element nodes in modern browsers, // but we should not, see #8335. // Always return an empty object. if ( acceptData( owner ) ) { // If it is a node unlikely to be stringify-ed or looped over // use plain assignment if ( owner.nodeType ) { owner[ this.expando ] = value; // Otherwise secure it in a non-enumerable property // configurable must be true to allow the property to be // deleted when data is removed } else { Object.defineProperty( owner, this.expando, { value: value, configurable: true } ); } } } return value; }, set: function( owner, data, value ) { var prop, cache = this.cache( owner ); // Handle: [ owner, key, value ] args // Always use camelCase key (gh-2257) if ( typeof data === &quot;string&quot; ) { cache[ jQuery.camelCase( data ) ] = value; // Handle: [ owner, { properties } ] args } else { // Copy the properties one-by-one to the cache object for ( prop in data ) { cache[ jQuery.camelCase( prop ) ] = data[ prop ]; } } return cache; }, get: function( owner, key ) { return key === undefined ? this.cache( owner ) : // Always use camelCase key (gh-2257) owner[ this.expando ] &amp;&amp; owner[ this.expando ][ jQuery.camelCase( key ) ]; }, access: function( owner, key, value ) { // In cases where either: // // 1. No key was specified // 2. A string key was specified, but no value provided // // Take the &quot;read&quot; path and allow the get method to determine // which value to return, respectively either: // // 1. The entire cache object // 2. The data stored at the key // if ( key === undefined || ( ( key &amp;&amp; typeof key === &quot;string&quot; ) &amp;&amp; value === undefined ) ) { return this.get( owner, key ); } // When the key is not a string, or both a key and value // are specified, set or extend (existing objects) with either: // // 1. An object of properties // 2. A key and value // this.set( owner, key, value ); // Since the &quot;set&quot; path can have two possible entry points // return the expected data based on which path was taken[*] return value !== undefined ? value : key; }, remove: function( owner, key ) { var i, cache = owner[ this.expando ]; if ( cache === undefined ) { return; } if ( key !== undefined ) { // Support array or space separated string of keys if ( Array.isArray( key ) ) { // If key is an array of keys... // We always set camelCase keys, so remove that. key = key.map( jQuery.camelCase ); } else { key = jQuery.camelCase( key ); // If a key with the spaces exists, use it. // Otherwise, create an array by matching non-whitespace key = key in cache ? [ key ] : ( key.match( rnothtmlwhite ) || [] ); } i = key.length; while ( i-- ) { delete cache[ key[ i ] ]; } } // Remove the expando if there's no more data if ( key === undefined || jQuery.isEmptyObject( cache ) ) { // Support: Chrome &lt;=35 - 45 // Webkit &amp; Blink performance suffers when deleting properties // from DOM nodes, so set to undefined instead // https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted) if ( owner.nodeType ) { owner[ this.expando ] = undefined; } else { delete owner[ this.expando ]; } } }, hasData: function( owner ) { var cache = owner[ this.expando ]; return cache !== undefined &amp;&amp; !jQuery.isEmptyObject( cache ); } }; var dataPriv = new Data(); var dataUser = new Data(); // Implementation Summary // // 1. Enforce API surface and semantic compatibility with 1.9.x branch // 2. Improve the module's maintainability by reducing the storage // paths to a single mechanism. // 3. Use the same single mechanism to support &quot;private&quot; and &quot;user&quot; data. // 4. _Never_ expose &quot;private&quot; data to user code (TODO: Drop _data, _removeData) // 5. Avoid exposing implementation details on user objects (eg. expando properties) // 6. Provide a clear path for implementation upgrade to WeakMap in 2014 var rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/, rmultiDash = /[A-Z]/g; function getData( data ) { if ( data === &quot;true&quot; ) { return true; } if ( data === &quot;false&quot; ) { return false; } if ( data === &quot;null&quot; ) { return null; } // Only convert to a number if it doesn't change the string if ( data === +data + &quot;&quot; ) { return +data; } if ( rbrace.test( data ) ) { return JSON.parse( data ); } return data; } function dataAttr( elem, key, data ) { var name; // If nothing was found internally, try to fetch any // data from the HTML5 data-* attribute if ( data === undefined &amp;&amp; elem.nodeType === 1 ) { name = &quot;data-&quot; + key.replace( rmultiDash, &quot;-$&amp;&quot; ).toLowerCase(); data = elem.getAttribute( name ); if ( typeof data === &quot;string&quot; ) { try { data = getData( data ); } catch ( e ) {} // Make sure we set the data so it isn't changed later dataUser.set( elem, key, data ); } else { data = undefined; } } return data; } jQuery.extend( { hasData: function( elem ) { return dataUser.hasData( elem ) || dataPriv.hasData( elem ); }, data: function( elem, name, data ) { return dataUser.access( elem, name, data ); }, removeData: function( elem, name ) { dataUser.remove( elem, name ); }, // TODO: Now that all calls to _data and _removeData have been replaced // with direct calls to dataPriv methods, these can be deprecated. _data: function( elem, name, data ) { return dataPriv.access( elem, name, data ); }, _removeData: function( elem, name ) { dataPriv.remove( elem, name ); } } ); jQuery.fn.extend( { data: function( key, value ) { var i, name, data, elem = this[ 0 ], attrs = elem &amp;&amp; elem.attributes; // Gets all values if ( key === undefined ) { if ( this.length ) { data = dataUser.get( elem ); if ( elem.nodeType === 1 &amp;&amp; !dataPriv.get( elem, &quot;hasDataAttrs&quot; ) ) { i = attrs.length; while ( i-- ) { // Support: IE 11 only // The attrs elements can be null (#14894) if ( attrs[ i ] ) { name = attrs[ i ].name; if ( name.indexOf( &quot;data-&quot; ) === 0 ) { name = jQuery.camelCase( name.slice( 5 ) ); dataAttr( elem, name, data[ name ] ); } } } dataPriv.set( elem, &quot;hasDataAttrs&quot;, true ); } } return data; } // Sets multiple values if ( typeof key === &quot;object&quot; ) { return this.each( function() { dataUser.set( this, key ); } ); } return access( this, function( value ) { var data; // The calling jQuery object (element matches) is not empty // (and therefore has an element appears at this[ 0 ]) and the // `value` parameter was not undefined. An empty jQuery object // will result in `undefined` for elem = this[ 0 ] which will // throw an exception if an attempt to read a data cache is made. if ( elem &amp;&amp; value === undefined ) { // Attempt to get data from the cache // The key will always be camelCased in Data data = dataUser.get( elem, key ); if ( data !== undefined ) { return data; } // Attempt to &quot;discover&quot; the data in // HTML5 custom data-* attrs data = dataAttr( elem, key ); if ( data !== undefined ) { return data; } // We tried really hard, but the data doesn't exist. return; } // Set the data... this.each( function() { // We always store the camelCased key dataUser.set( this, key, value ); } ); }, null, value, arguments.length &gt; 1, null, true ); }, removeData: function( key ) { return this.each( function() { dataUser.remove( this, key ); } ); } } ); jQuery.extend( { queue: function( elem, type, data ) { var queue; if ( elem ) { type = ( type || &quot;fx&quot; ) + &quot;queue&quot;; queue = dataPriv.get( elem, type ); // Speed up dequeue by getting out quickly if this is just a lookup if ( data ) { if ( !queue || Array.isArray( data ) ) { queue = dataPriv.access( elem, type, jQuery.makeArray( data ) ); } else { queue.push( data ); } } return queue || []; } }, dequeue: function( elem, type ) { type = type || &quot;fx&quot;; var queue = jQuery.queue( elem, type ), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks( elem, type ), next = function() { jQuery.dequeue( elem, type ); }; // If the fx queue is dequeued, always remove the progress sentinel if ( fn === &quot;inprogress&quot; ) { fn = queue.shift(); startLength--; } if ( fn ) { // Add a progress sentinel to prevent the fx queue from being // automatically dequeued if ( type === &quot;fx&quot; ) { queue.unshift( &quot;inprogress&quot; ); } // Clear up the last queue stop function delete hooks.stop; fn.call( elem, next, hooks ); } if ( !startLength &amp;&amp; hooks ) { hooks.empty.fire(); } }, // Not public - generate a queueHooks object, or return the current one _queueHooks: function( elem, type ) { var key = type + &quot;queueHooks&quot;; return dataPriv.get( elem, key ) || dataPriv.access( elem, key, { empty: jQuery.Callbacks( &quot;once memory&quot; ).add( function() { dataPriv.remove( elem, [ type + &quot;queue&quot;, key ] ); } ) } ); } } ); jQuery.fn.extend( { queue: function( type, data ) { var setter = 2; if ( typeof type !== &quot;string&quot; ) { data = type; type = &quot;fx&quot;; setter--; } if ( arguments.length &lt; setter ) { return jQuery.queue( this[ 0 ], type ); } return data === undefined ? this : this.each( function() { var queue = jQuery.queue( this, type, data ); // Ensure a hooks for this queue jQuery._queueHooks( this, type ); if ( type === &quot;fx&quot; &amp;&amp; queue[ 0 ] !== &quot;inprogress&quot; ) { jQuery.dequeue( this, type ); } } ); }, dequeue: function( type ) { return this.each( function() { jQuery.dequeue( this, type ); } ); }, clearQueue: function( type ) { return this.queue( type || &quot;fx&quot;, [] ); }, // Get a promise resolved when queues of a certain type // are emptied (fx is the type by default) promise: function( type, obj ) { var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function() { if ( !( --count ) ) { defer.resolveWith( elements, [ elements ] ); } }; if ( typeof type !== &quot;string&quot; ) { obj = type; type = undefined; } type = type || &quot;fx&quot;; while ( i-- ) { tmp = dataPriv.get( elements[ i ], type + &quot;queueHooks&quot; ); if ( tmp &amp;&amp; tmp.empty ) { count++; tmp.empty.add( resolve ); } } resolve(); return defer.promise( obj ); } } ); var pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source; var rcssNum = new RegExp( &quot;^(?:([+-])=|)(&quot; + pnum + &quot;)([a-z%]*)$&quot;, &quot;i&quot; ); var cssExpand = [ &quot;Top&quot;, &quot;Right&quot;, &quot;Bottom&quot;, &quot;Left&quot; ]; var isHiddenWithinTree = function( elem, el ) { // isHiddenWithinTree might be called from jQuery#filter function; // in that case, element will be second argument elem = el || elem; // Inline style trumps all return elem.style.display === &quot;none&quot; || elem.style.display === &quot;&quot; &amp;&amp; // Otherwise, check computed style // Support: Firefox &lt;=43 - 45 // Disconnected elements can have computed display: none, so first confirm that elem is // in the document. jQuery.contains( elem.ownerDocument, elem ) &amp;&amp; jQuery.css( elem, &quot;display&quot; ) === &quot;none&quot;; }; var swap = function( elem, options, callback, args ) { var ret, name, old = {}; // Remember the old values, and insert the new ones for ( name in options ) { old[ name ] = elem.style[ name ]; elem.style[ name ] = options[ name ]; } ret = callback.apply( elem, args || [] ); // Revert the old values for ( name in options ) { elem.style[ name ] = old[ name ]; } return ret; }; function adjustCSS( elem, prop, valueParts, tween ) { var adjusted, scale = 1, maxIterations = 20, currentValue = tween ? function() { return tween.cur(); } : function() { return jQuery.css( elem, prop, &quot;&quot; ); }, initial = currentValue(), unit = valueParts &amp;&amp; valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? &quot;&quot; : &quot;px&quot; ), // Starting value computation is required for potential unit mismatches initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== &quot;px&quot; &amp;&amp; +initial ) &amp;&amp; rcssNum.exec( jQuery.css( elem, prop ) ); if ( initialInUnit &amp;&amp; initialInUnit[ 3 ] !== unit ) { // Trust units reported by jQuery.css unit = unit || initialInUnit[ 3 ]; // Make sure we update the tween properties later on valueParts = valueParts || []; // Iteratively approximate from a nonzero starting point initialInUnit = +initial || 1; do { // If previous iteration zeroed out, double until we get *something*. // Use string for doubling so we don't accidentally see scale as unchanged below scale = scale || &quot;.5&quot;; // Adjust and apply initialInUnit = initialInUnit / scale; jQuery.style( elem, prop, initialInUnit + unit ); // Update scale, tolerating zero or NaN from tween.cur() // Break the loop if scale is unchanged or perfect, or if we've just had enough. } while ( scale !== ( scale = currentValue() / initial ) &amp;&amp; scale !== 1 &amp;&amp; --maxIterations ); } if ( valueParts ) { initialInUnit = +initialInUnit || +initial || 0; // Apply relative offset (+=/-=) if specified adjusted = valueParts[ 1 ] ? initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] : +valueParts[ 2 ]; if ( tween ) { tween.unit = unit; tween.start = initialInUnit; tween.end = adjusted; } } return adjusted; } var defaultDisplayMap = {}; function getDefaultDisplay( elem ) { var temp, doc = elem.ownerDocument, nodeName = elem.nodeName, display = defaultDisplayMap[ nodeName ]; if ( display ) { return display; } temp = doc.body.appendChild( doc.createElement( nodeName ) ); display = jQuery.css( temp, &quot;display&quot; ); temp.parentNode.removeChild( temp ); if ( display === &quot;none&quot; ) { display = &quot;block&quot;; } defaultDisplayMap[ nodeName ] = display; return display; } function showHide( elements, show ) { var display, elem, values = [], index = 0, length = elements.length; // Determine new display value for elements that need to change for ( ; index &lt; length; index++ ) { elem = elements[ index ]; if ( !elem.style ) { continue; } display = elem.style.display; if ( show ) { // Since we force visibility upon cascade-hidden elements, an immediate (and slow) // check is required in this first loop unless we have a nonempty display value (either // inline or about-to-be-restored) if ( display === &quot;none&quot; ) { values[ index ] = dataPriv.get( elem, &quot;display&quot; ) || null; if ( !values[ index ] ) { elem.style.display = &quot;&quot;; } } if ( elem.style.display === &quot;&quot; &amp;&amp; isHiddenWithinTree( elem ) ) { values[ index ] = getDefaultDisplay( elem ); } } else { if ( display !== &quot;none&quot; ) { values[ index ] = &quot;none&quot;; // Remember what we're overwriting dataPriv.set( elem, &quot;display&quot;, display ); } } } // Set the display of the elements in a second loop to avoid constant reflow for ( index = 0; index &lt; length; index++ ) { if ( values[ index ] != null ) { elements[ index ].style.display = values[ index ]; } } return elements; } jQuery.fn.extend( { show: function() { return showHide( this, true ); }, hide: function() { return showHide( this ); }, toggle: function( state ) { if ( typeof state === &quot;boolean&quot; ) { return state ? this.show() : this.hide(); } return this.each( function() { if ( isHiddenWithinTree( this ) ) { jQuery( this ).show(); } else { jQuery( this ).hide(); } } ); } } ); var rcheckableType = ( /^(?:checkbox|radio)$/i ); var rtagName = ( /&lt;([a-z][^\\/\\0&gt;\\x20\\t\\r\\n\\f]+)/i ); var rscriptType = ( /^$|\\/(?:java|ecma)script/i ); // We have to close these tags to support XHTML (#13200) var wrapMap = { // Support: IE &lt;=9 only option: [ 1, &quot;&lt;select multiple='multiple'&gt;&quot;, &quot;&lt;/select&gt;&quot; ], // XHTML parsers do not magically insert elements in the // same way that tag soup parsers do. So we cannot shorten // this by omitting &lt;tbody&gt; or other required elements. thead: [ 1, &quot;&lt;table&gt;&quot;, &quot;&lt;/table&gt;&quot; ], col: [ 2, &quot;&lt;table&gt;&lt;colgroup&gt;&quot;, &quot;&lt;/colgroup&gt;&lt;/table&gt;&quot; ], tr: [ 2, &quot;&lt;table&gt;&lt;tbody&gt;&quot;, &quot;&lt;/tbody&gt;&lt;/table&gt;&quot; ], td: [ 3, &quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;, &quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot; ], _default: [ 0, &quot;&quot;, &quot;&quot; ] }; // Support: IE &lt;=9 only wrapMap.optgroup = wrapMap.option; wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead; wrapMap.th = wrapMap.td; function getAll( context, tag ) { // Support: IE &lt;=9 - 11 only // Use typeof to avoid zero-argument method invocation on host objects (#15151) var ret; if ( typeof context.getElementsByTagName !== &quot;undefined&quot; ) { ret = context.getElementsByTagName( tag || &quot;*&quot; ); } else if ( typeof context.querySelectorAll !== &quot;undefined&quot; ) { ret = context.querySelectorAll( tag || &quot;*&quot; ); } else { ret = []; } if ( tag === undefined || tag &amp;&amp; nodeName( context, tag ) ) { return jQuery.merge( [ context ], ret ); } return ret; } // Mark scripts as having already been evaluated function setGlobalEval( elems, refElements ) { var i = 0, l = elems.length; for ( ; i &lt; l; i++ ) { dataPriv.set( elems[ i ], &quot;globalEval&quot;, !refElements || dataPriv.get( refElements[ i ], &quot;globalEval&quot; ) ); } } var rhtml = /&lt;|&amp;#?\\w+;/; function buildFragment( elems, context, scripts, selection, ignored ) { var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(), nodes = [], i = 0, l = elems.length; for ( ; i &lt; l; i++ ) { elem = elems[ i ]; if ( elem || elem === 0 ) { // Add nodes directly if ( jQuery.type( elem ) === &quot;object&quot; ) { // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem ); // Convert non-html into a text node } else if ( !rhtml.test( elem ) ) { nodes.push( context.createTextNode( elem ) ); // Convert html into DOM nodes } else { tmp = tmp || fragment.appendChild( context.createElement( &quot;div&quot; ) ); // Deserialize a standard representation tag = ( rtagName.exec( elem ) || [ &quot;&quot;, &quot;&quot; ] )[ 1 ].toLowerCase(); wrap = wrapMap[ tag ] || wrapMap._default; tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ]; // Descend through wrappers to the right content j = wrap[ 0 ]; while ( j-- ) { tmp = tmp.lastChild; } // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( nodes, tmp.childNodes ); // Remember the top-level container tmp = fragment.firstChild; // Ensure the created nodes are orphaned (#12392) tmp.textContent = &quot;&quot;; } } } // Remove wrapper from fragment fragment.textContent = &quot;&quot;; i = 0; while ( ( elem = nodes[ i++ ] ) ) { // Skip elements already in the context collection (trac-4087) if ( selection &amp;&amp; jQuery.inArray( elem, selection ) &gt; -1 ) { if ( ignored ) { ignored.push( elem ); } continue; } contains = jQuery.contains( elem.ownerDocument, elem ); // Append to fragment tmp = getAll( fragment.appendChild( elem ), &quot;script&quot; ); // Preserve script evaluation history if ( contains ) { setGlobalEval( tmp ); } // Capture executables if ( scripts ) { j = 0; while ( ( elem = tmp[ j++ ] ) ) { if ( rscriptType.test( elem.type || &quot;&quot; ) ) { scripts.push( elem ); } } } } return fragment; } ( function() { var fragment = document.createDocumentFragment(), div = fragment.appendChild( document.createElement( &quot;div&quot; ) ), input = document.createElement( &quot;input&quot; ); // Support: Android 4.0 - 4.3 only // Check state lost if the name is set (#11217) // Support: Windows Web Apps (WWA) // `name` and `type` must use .setAttribute for WWA (#14901) input.setAttribute( &quot;type&quot;, &quot;radio&quot; ); input.setAttribute( &quot;checked&quot;, &quot;checked&quot; ); input.setAttribute( &quot;name&quot;, &quot;t&quot; ); div.appendChild( input ); // Support: Android &lt;=4.1 only // Older WebKit doesn't clone checked state correctly in fragments support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked; // Support: IE &lt;=11 only // Make sure textarea (and checkbox) defaultValue is properly cloned div.innerHTML = &quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;; support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue; } )(); var documentElement = document.documentElement; var rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, rtypenamespace = /^([^.]*)(?:\\.(.+)|)/; function returnTrue() { return true; } function returnFalse() { return false; } // Support: IE &lt;=9 only // See #13393 for more info function safeActiveElement() { try { return document.activeElement; } catch ( err ) { } } function on( elem, types, selector, data, fn, one ) { var origFn, type; // Types can be a map of types/handlers if ( typeof types === &quot;object&quot; ) { // ( types-Object, selector, data ) if ( typeof selector !== &quot;string&quot; ) { // ( types-Object, data ) data = data || selector; selector = undefined; } for ( type in types ) { on( elem, type, selector, data, types[ type ], one ); } return elem; } if ( data == null &amp;&amp; fn == null ) { // ( types, fn ) fn = selector; data = selector = undefined; } else if ( fn == null ) { if ( typeof selector === &quot;string&quot; ) { // ( types, selector, fn ) fn = data; data = undefined; } else { // ( types, data, fn ) fn = data; data = selector; selector = undefined; } } if ( fn === false ) { fn = returnFalse; } else if ( !fn ) { return elem; } if ( one === 1 ) { origFn = fn; fn = function( event ) { // Can use an empty set, since event contains the info jQuery().off( event ); return origFn.apply( this, arguments ); }; // Use same guid so caller can remove using origFn fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ ); } return elem.each( function() { jQuery.event.add( this, types, fn, data, selector ); } ); } /* * Helper functions for managing events -- not part of the public interface. * Props to Dean Edwards' addEvent library for many of the ideas. */ jQuery.event = { global: {}, add: function( elem, types, handler, data, selector ) { var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.get( elem ); // Don't attach events to noData or text/comment nodes (but allow plain objects) if ( !elemData ) { return; } // Caller can pass in an object of custom data in lieu of the handler if ( handler.handler ) { handleObjIn = handler; handler = handleObjIn.handler; selector = handleObjIn.selector; } // Ensure that invalid selectors throw exceptions at attach time // Evaluate against documentElement in case elem is a non-element node (e.g., document) if ( selector ) { jQuery.find.matchesSelector( documentElement, selector ); } // Make sure that the handler has a unique ID, used to find/remove it later if ( !handler.guid ) { handler.guid = jQuery.guid++; } // Init the element's event structure and main handler, if this is the first if ( !( events = elemData.events ) ) { events = elemData.events = {}; } if ( !( eventHandle = elemData.handle ) ) { eventHandle = elemData.handle = function( e ) { // Discard the second event of a jQuery.event.trigger() and // when an event is called after a page has unloaded return typeof jQuery !== &quot;undefined&quot; &amp;&amp; jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply( elem, arguments ) : undefined; }; } // Handle multiple events separated by a space types = ( types || &quot;&quot; ).match( rnothtmlwhite ) || [ &quot;&quot; ]; t = types.length; while ( t-- ) { tmp = rtypenamespace.exec( types[ t ] ) || []; type = origType = tmp[ 1 ]; namespaces = ( tmp[ 2 ] || &quot;&quot; ).split( &quot;.&quot; ).sort(); // There *must* be a type, no attaching namespace-only handlers if ( !type ) { continue; } // If event changes its type, use the special event handlers for the changed type special = jQuery.event.special[ type ] || {}; // If selector defined, determine special event api type, otherwise given type type = ( selector ? special.delegateType : special.bindType ) || type; // Update special based on newly reset type special = jQuery.event.special[ type ] || {}; // handleObj is passed to all event handlers handleObj = jQuery.extend( { type: type, origType: origType, data: data, handler: handler, guid: handler.guid, selector: selector, needsContext: selector &amp;&amp; jQuery.expr.match.needsContext.test( selector ), namespace: namespaces.join( &quot;.&quot; ) }, handleObjIn ); // Init the event handler queue if we're the first if ( !( handlers = events[ type ] ) ) { handlers = events[ type ] = []; handlers.delegateCount = 0; // Only use addEventListener if the special events handler returns false if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) { if ( elem.addEventListener ) { elem.addEventListener( type, eventHandle ); } } } if ( special.add ) { special.add.call( elem, handleObj ); if ( !handleObj.handler.guid ) { handleObj.handler.guid = handler.guid; } } // Add to the element's handler list, delegates in front if ( selector ) { handlers.splice( handlers.delegateCount++, 0, handleObj ); } else { handlers.push( handleObj ); } // Keep track of which events have ever been used, for event optimization jQuery.event.global[ type ] = true; } }, // Detach an event or set of events from an element remove: function( elem, types, handler, selector, mappedTypes ) { var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.hasData( elem ) &amp;&amp; dataPriv.get( elem ); if ( !elemData || !( events = elemData.events ) ) { return; } // Once for each type.namespace in types; type may be omitted types = ( types || &quot;&quot; ).match( rnothtmlwhite ) || [ &quot;&quot; ]; t = types.length; while ( t-- ) { tmp = rtypenamespace.exec( types[ t ] ) || []; type = origType = tmp[ 1 ]; namespaces = ( tmp[ 2 ] || &quot;&quot; ).split( &quot;.&quot; ).sort(); // Unbind all events (on this namespace, if provided) for the element if ( !type ) { for ( type in events ) { jQuery.event.remove( elem, type + types[ t ], handler, selector, true ); } continue; } special = jQuery.event.special[ type ] || {}; type = ( selector ? special.delegateType : special.bindType ) || type; handlers = events[ type ] || []; tmp = tmp[ 2 ] &amp;&amp; new RegExp( &quot;(^|\\\\.)&quot; + namespaces.join( &quot;\\\\.(?:.*\\\\.|)&quot; ) + &quot;(\\\\.|$)&quot; ); // Remove matching events origCount = j = handlers.length; while ( j-- ) { handleObj = handlers[ j ]; if ( ( mappedTypes || origType === handleObj.origType ) &amp;&amp; ( !handler || handler.guid === handleObj.guid ) &amp;&amp; ( !tmp || tmp.test( handleObj.namespace ) ) &amp;&amp; ( !selector || selector === handleObj.selector || selector === &quot;**&quot; &amp;&amp; handleObj.selector ) ) { handlers.splice( j, 1 ); if ( handleObj.selector ) { handlers.delegateCount--; } if ( special.remove ) { special.remove.call( elem, handleObj ); } } } // Remove generic event handler if we removed something and no more handlers exist // (avoids potential for endless recursion during removal of special event handlers) if ( origCount &amp;&amp; !handlers.length ) { if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) { jQuery.removeEvent( elem, type, elemData.handle ); } delete events[ type ]; } } // Remove data and the expando if it's no longer used if ( jQuery.isEmptyObject( events ) ) { dataPriv.remove( elem, &quot;handle events&quot; ); } }, dispatch: function( nativeEvent ) { // Make a writable jQuery.Event from the native event object var event = jQuery.event.fix( nativeEvent ); var i, j, ret, matched, handleObj, handlerQueue, args = new Array( arguments.length ), handlers = ( dataPriv.get( this, &quot;events&quot; ) || {} )[ event.type ] || [], special = jQuery.event.special[ event.type ] || {}; // Use the fix-ed jQuery.Event rather than the (read-only) native event args[ 0 ] = event; for ( i = 1; i &lt; arguments.length; i++ ) { args[ i ] = arguments[ i ]; } event.delegateTarget = this; // Call the preDispatch hook for the mapped type, and let it bail if desired if ( special.preDispatch &amp;&amp; special.preDispatch.call( this, event ) === false ) { return; } // Determine handlers handlerQueue = jQuery.event.handlers.call( this, event, handlers ); // Run delegates first; they may want to stop propagation beneath us i = 0; while ( ( matched = handlerQueue[ i++ ] ) &amp;&amp; !event.isPropagationStopped() ) { event.currentTarget = matched.elem; j = 0; while ( ( handleObj = matched.handlers[ j++ ] ) &amp;&amp; !event.isImmediatePropagationStopped() ) { // Triggered event must either 1) have no namespace, or 2) have namespace(s) // a subset or equal to those in the bound event (both can have no namespace). if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) { event.handleObj = handleObj; event.data = handleObj.data; ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle || handleObj.handler ).apply( matched.elem, args ); if ( ret !== undefined ) { if ( ( event.result = ret ) === false ) { event.preventDefault(); event.stopPropagation(); } } } } } // Call the postDispatch hook for the mapped type if ( special.postDispatch ) { special.postDispatch.call( this, event ); } return event.result; }, handlers: function( event, handlers ) { var i, handleObj, sel, matchedHandlers, matchedSelectors, handlerQueue = [], delegateCount = handlers.delegateCount, cur = event.target; // Find delegate handlers if ( delegateCount &amp;&amp; // Support: IE &lt;=9 // Black-hole SVG &lt;use&gt; instance trees (trac-13180) cur.nodeType &amp;&amp; // Support: Firefox &lt;=42 // Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861) // https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click // Support: IE 11 only // ...but not arrow key &quot;clicks&quot; of radio inputs, which can have `button` -1 (gh-2343) !( event.type === &quot;click&quot; &amp;&amp; event.button &gt;= 1 ) ) { for ( ; cur !== this; cur = cur.parentNode || this ) { // Don't check non-elements (#13208) // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764) if ( cur.nodeType === 1 &amp;&amp; !( event.type === &quot;click&quot; &amp;&amp; cur.disabled === true ) ) { matchedHandlers = []; matchedSelectors = {}; for ( i = 0; i &lt; delegateCount; i++ ) { handleObj = handlers[ i ]; // Don't conflict with Object.prototype properties (#13203) sel = handleObj.selector + &quot; &quot;; if ( matchedSelectors[ sel ] === undefined ) { matchedSelectors[ sel ] = handleObj.needsContext ? jQuery( sel, this ).index( cur ) &gt; -1 : jQuery.find( sel, this, null, [ cur ] ).length; } if ( matchedSelectors[ sel ] ) { matchedHandlers.push( handleObj ); } } if ( matchedHandlers.length ) { handlerQueue.push( { elem: cur, handlers: matchedHandlers } ); } } } } // Add the remaining (directly-bound) handlers cur = this; if ( delegateCount &lt; handlers.length ) { handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } ); } return handlerQueue; }, addProp: function( name, hook ) { Object.defineProperty( jQuery.Event.prototype, name, { enumerable: true, configurable: true, get: jQuery.isFunction( hook ) ? function() { if ( this.originalEvent ) { return hook( this.originalEvent ); } } : function() { if ( this.originalEvent ) { return this.originalEvent[ name ]; } }, set: function( value ) { Object.defineProperty( this, name, { enumerable: true, configurable: true, writable: true, value: value } ); } } ); }, fix: function( originalEvent ) { return originalEvent[ jQuery.expando ] ? originalEvent : new jQuery.Event( originalEvent ); }, special: { load: { // Prevent triggered image.load events from bubbling to window.load noBubble: true }, focus: { // Fire native event if possible so blur/focus sequence is correct trigger: function() { if ( this !== safeActiveElement() &amp;&amp; this.focus ) { this.focus(); return false; } }, delegateType: &quot;focusin&quot; }, blur: { trigger: function() { if ( this === safeActiveElement() &amp;&amp; this.blur ) { this.blur(); return false; } }, delegateType: &quot;focusout&quot; }, click: { // For checkbox, fire native event so checked state will be right trigger: function() { if ( this.type === &quot;checkbox&quot; &amp;&amp; this.click &amp;&amp; nodeName( this, &quot;input&quot; ) ) { this.click(); return false; } }, // For cross-browser consistency, don't fire native .click() on links _default: function( event ) { return nodeName( event.target, &quot;a&quot; ); } }, beforeunload: { postDispatch: function( event ) { // Support: Firefox 20+ // Firefox doesn't alert if the returnValue field is not set. if ( event.result !== undefined &amp;&amp; event.originalEvent ) { event.originalEvent.returnValue = event.result; } } } } }; jQuery.removeEvent = function( elem, type, handle ) { // This &quot;if&quot; is needed for plain objects if ( elem.removeEventListener ) { elem.removeEventListener( type, handle ); } }; jQuery.Event = function( src, props ) { // Allow instantiation without the 'new' keyword if ( !( this instanceof jQuery.Event ) ) { return new jQuery.Event( src, props ); } // Event object if ( src &amp;&amp; src.type ) { this.originalEvent = src; this.type = src.type; // Events bubbling up the document may have been marked as prevented // by a handler lower down the tree; reflect the correct value. this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined &amp;&amp; // Support: Android &lt;=2.3 only src.returnValue === false ? returnTrue : returnFalse; // Create target properties // Support: Safari &lt;=6 - 7 only // Target should not be a text node (#504, #13143) this.target = ( src.target &amp;&amp; src.target.nodeType === 3 ) ? src.target.parentNode : src.target; this.currentTarget = src.currentTarget; this.relatedTarget = src.relatedTarget; // Event type } else { this.type = src; } // Put explicitly provided properties onto the event object if ( props ) { jQuery.extend( this, props ); } // Create a timestamp if incoming event doesn't have one this.timeStamp = src &amp;&amp; src.timeStamp || jQuery.now(); // Mark it as fixed this[ jQuery.expando ] = true; }; // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding // https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html jQuery.Event.prototype = { constructor: jQuery.Event, isDefaultPrevented: returnFalse, isPropagationStopped: returnFalse, isImmediatePropagationStopped: returnFalse, isSimulated: false, preventDefault: function() { var e = this.originalEvent; this.isDefaultPrevented = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.preventDefault(); } }, stopPropagation: function() { var e = this.originalEvent; this.isPropagationStopped = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.stopPropagation(); } }, stopImmediatePropagation: function() { var e = this.originalEvent; this.isImmediatePropagationStopped = returnTrue; if ( e &amp;&amp; !this.isSimulated ) { e.stopImmediatePropagation(); } this.stopPropagation(); } }; // Includes all common event props including KeyEvent and MouseEvent specific props jQuery.each( { altKey: true, bubbles: true, cancelable: true, changedTouches: true, ctrlKey: true, detail: true, eventPhase: true, metaKey: true, pageX: true, pageY: true, shiftKey: true, view: true, &quot;char&quot;: true, charCode: true, key: true, keyCode: true, button: true, buttons: true, clientX: true, clientY: true, offsetX: true, offsetY: true, pointerId: true, pointerType: true, screenX: true, screenY: true, targetTouches: true, toElement: true, touches: true, which: function( event ) { var button = event.button; // Add which for key events if ( event.which == null &amp;&amp; rkeyEvent.test( event.type ) ) { return event.charCode != null ? event.charCode : event.keyCode; } // Add which for click: 1 === left; 2 === middle; 3 === right if ( !event.which &amp;&amp; button !== undefined &amp;&amp; rmouseEvent.test( event.type ) ) { if ( button &amp; 1 ) { return 1; } if ( button &amp; 2 ) { return 3; } if ( button &amp; 4 ) { return 2; } return 0; } return event.which; } }, jQuery.event.addProp ); // Create mouseenter/leave events using mouseover/out and event-time checks // so that event delegation works in jQuery. // Do the same for pointerenter/pointerleave and pointerover/pointerout // // Support: Safari 7 only // Safari sends mouseenter too often; see: // https://bugs.chromium.org/p/chromium/issues/detail?id=470258 // for the description of the bug (it existed in older Chrome versions as well). jQuery.each( { mouseenter: &quot;mouseover&quot;, mouseleave: &quot;mouseout&quot;, pointerenter: &quot;pointerover&quot;, pointerleave: &quot;pointerout&quot; }, function( orig, fix ) { jQuery.event.special[ orig ] = { delegateType: fix, bindType: fix, handle: function( event ) { var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj; // For mouseenter/leave call the handler if related is outside the target. // NB: No relatedTarget if the mouse left/entered the browser window if ( !related || ( related !== target &amp;&amp; !jQuery.contains( target, related ) ) ) { event.type = handleObj.origType; ret = handleObj.handler.apply( this, arguments ); event.type = fix; } return ret; } }; } ); jQuery.fn.extend( { on: function( types, selector, data, fn ) { return on( this, types, selector, data, fn ); }, one: function( types, selector, data, fn ) { return on( this, types, selector, data, fn, 1 ); }, off: function( types, selector, fn ) { var handleObj, type; if ( types &amp;&amp; types.preventDefault &amp;&amp; types.handleObj ) { // ( event ) dispatched jQuery.Event handleObj = types.handleObj; jQuery( types.delegateTarget ).off( handleObj.namespace ? handleObj.origType + &quot;.&quot; + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler ); return this; } if ( typeof types === &quot;object&quot; ) { // ( types-object [, selector] ) for ( type in types ) { this.off( type, selector, types[ type ] ); } return this; } if ( selector === false || typeof selector === &quot;function&quot; ) { // ( types [, fn] ) fn = selector; selector = undefined; } if ( fn === false ) { fn = returnFalse; } return this.each( function() { jQuery.event.remove( this, types, fn, selector ); } ); } } ); var /* eslint-disable max-len */ // See https://github.com/eslint/eslint/issues/3229 rxhtmlTag = /&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0&gt;\\x20\\t\\r\\n\\f]*)[^&gt;]*)\\/&gt;/gi, /* eslint-enable */ // Support: IE &lt;=10 - 11, Edge 12 - 13 // In IE/Edge using regex groups here causes severe slowdowns. // See https://connect.microsoft.com/IE/feedback/details/1736512/ rnoInnerhtml = /&lt;script|&lt;style|&lt;link/i, // checked=&quot;checked&quot; or checked rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i, rscriptTypeMasked = /^true\\/(.*)/, rcleanScript = /^\\s*&lt;!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)&gt;\\s*$/g; // Prefer a tbody over its parent table for containing new rows function manipulationTarget( elem, content ) { if ( nodeName( elem, &quot;table&quot; ) &amp;&amp; nodeName( content.nodeType !== 11 ? content : content.firstChild, &quot;tr&quot; ) ) { return jQuery( &quot;&gt;tbody&quot;, elem )[ 0 ] || elem; } return elem; } // Replace/restore the type attribute of script elements for safe DOM manipulation function disableScript( elem ) { elem.type = ( elem.getAttribute( &quot;type&quot; ) !== null ) + &quot;/&quot; + elem.type; return elem; } function restoreScript( elem ) { var match = rscriptTypeMasked.exec( elem.type ); if ( match ) { elem.type = match[ 1 ]; } else { elem.removeAttribute( &quot;type&quot; ); } return elem; } function cloneCopyEvent( src, dest ) { var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events; if ( dest.nodeType !== 1 ) { return; } // 1. Copy private data: events, handlers, etc. if ( dataPriv.hasData( src ) ) { pdataOld = dataPriv.access( src ); pdataCur = dataPriv.set( dest, pdataOld ); events = pdataOld.events; if ( events ) { delete pdataCur.handle; pdataCur.events = {}; for ( type in events ) { for ( i = 0, l = events[ type ].length; i &lt; l; i++ ) { jQuery.event.add( dest, type, events[ type ][ i ] ); } } } } // 2. Copy user data if ( dataUser.hasData( src ) ) { udataOld = dataUser.access( src ); udataCur = jQuery.extend( {}, udataOld ); dataUser.set( dest, udataCur ); } } // Fix IE bugs, see support tests function fixInput( src, dest ) { var nodeName = dest.nodeName.toLowerCase(); // Fails to persist the checked state of a cloned checkbox or radio button. if ( nodeName === &quot;input&quot; &amp;&amp; rcheckableType.test( src.type ) ) { dest.checked = src.checked; // Fails to return the selected option to the default selected state when cloning options } else if ( nodeName === &quot;input&quot; || nodeName === &quot;textarea&quot; ) { dest.defaultValue = src.defaultValue; } } function domManip( collection, args, callback, ignored ) { // Flatten any nested arrays args = concat.apply( [], args ); var fragment, first, scripts, hasScripts, node, doc, i = 0, l = collection.length, iNoClone = l - 1, value = args[ 0 ], isFunction = jQuery.isFunction( value ); // We can't cloneNode fragments that contain checked, in WebKit if ( isFunction || ( l &gt; 1 &amp;&amp; typeof value === &quot;string&quot; &amp;&amp; !support.checkClone &amp;&amp; rchecked.test( value ) ) ) { return collection.each( function( index ) { var self = collection.eq( index ); if ( isFunction ) { args[ 0 ] = value.call( this, index, self.html() ); } domManip( self, args, callback, ignored ); } ); } if ( l ) { fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored ); first = fragment.firstChild; if ( fragment.childNodes.length === 1 ) { fragment = first; } // Require either new content or an interest in ignored elements to invoke the callback if ( first || ignored ) { scripts = jQuery.map( getAll( fragment, &quot;script&quot; ), disableScript ); hasScripts = scripts.length; // Use the original fragment for the last item // instead of the first because it can end up // being emptied incorrectly in certain situations (#8070). for ( ; i &lt; l; i++ ) { node = fragment; if ( i !== iNoClone ) { node = jQuery.clone( node, true, true ); // Keep references to cloned scripts for later restoration if ( hasScripts ) { // Support: Android &lt;=4.0 only, PhantomJS 1 only // push.apply(_, arraylike) throws on ancient WebKit jQuery.merge( scripts, getAll( node, &quot;script&quot; ) ); } } callback.call( collection[ i ], node, i ); } if ( hasScripts ) { doc = scripts[ scripts.length - 1 ].ownerDocument; // Reenable scripts jQuery.map( scripts, restoreScript ); // Evaluate executable scripts on first document insertion for ( i = 0; i &lt; hasScripts; i++ ) { node = scripts[ i ]; if ( rscriptType.test( node.type || &quot;&quot; ) &amp;&amp; !dataPriv.access( node, &quot;globalEval&quot; ) &amp;&amp; jQuery.contains( doc, node ) ) { if ( node.src ) { // Optional AJAX dependency, but won't run scripts if not present if ( jQuery._evalUrl ) { jQuery._evalUrl( node.src ); } } else { DOMEval( node.textContent.replace( rcleanScript, &quot;&quot; ), doc ); } } } } } } return collection; } function remove( elem, selector, keepData ) { var node, nodes = selector ? jQuery.filter( selector, elem ) : elem, i = 0; for ( ; ( node = nodes[ i ] ) != null; i++ ) { if ( !keepData &amp;&amp; node.nodeType === 1 ) { jQuery.cleanData( getAll( node ) ); } if ( node.parentNode ) { if ( keepData &amp;&amp; jQuery.contains( node.ownerDocument, node ) ) { setGlobalEval( getAll( node, &quot;script&quot; ) ); } node.parentNode.removeChild( node ); } } return elem; } jQuery.extend( { htmlPrefilter: function( html ) { return html.replace( rxhtmlTag, &quot;&lt;$1&gt;&lt;/$2&gt;&quot; ); }, clone: function( elem, dataAndEvents, deepDataAndEvents ) { var i, l, srcElements, destElements, clone = elem.cloneNode( true ), inPage = jQuery.contains( elem.ownerDocument, elem ); // Fix IE cloning issues if ( !support.noCloneChecked &amp;&amp; ( elem.nodeType === 1 || elem.nodeType === 11 ) &amp;&amp; !jQuery.isXMLDoc( elem ) ) { // We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2 destElements = getAll( clone ); srcElements = getAll( elem ); for ( i = 0, l = srcElements.length; i &lt; l; i++ ) { fixInput( srcElements[ i ], destElements[ i ] ); } } // Copy the events from the original to the clone if ( dataAndEvents ) { if ( deepDataAndEvents ) { srcElements = srcElements || getAll( elem ); destElements = destElements || getAll( clone ); for ( i = 0, l = srcElements.length; i &lt; l; i++ ) { cloneCopyEvent( srcElements[ i ], destElements[ i ] ); } } else { cloneCopyEvent( elem, clone ); } } // Preserve script evaluation history destElements = getAll( clone, &quot;script&quot; ); if ( destElements.length &gt; 0 ) { setGlobalEval( destElements, !inPage &amp;&amp; getAll( elem, &quot;script&quot; ) ); } // Return the cloned set return clone; }, cleanData: function( elems ) { var data, elem, type, special = jQuery.event.special, i = 0; for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) { if ( acceptData( elem ) ) { if ( ( data = elem[ dataPriv.expando ] ) ) { if ( data.events ) { for ( type in data.events ) { if ( special[ type ] ) { jQuery.event.remove( elem, type ); // This is a shortcut to avoid jQuery.event.remove's overhead } else { jQuery.removeEvent( elem, type, data.handle ); } } } // Support: Chrome &lt;=35 - 45+ // Assign undefined instead of using delete, see Data#remove elem[ dataPriv.expando ] = undefined; } if ( elem[ dataUser.expando ] ) { // Support: Chrome &lt;=35 - 45+ // Assign undefined instead of using delete, see Data#remove elem[ dataUser.expando ] = undefined; } } } } } ); jQuery.fn.extend( { detach: function( selector ) { return remove( this, selector, true ); }, remove: function( selector ) { return remove( this, selector ); }, text: function( value ) { return access( this, function( value ) { return value === undefined ? jQuery.text( this ) : this.empty().each( function() { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { this.textContent = value; } } ); }, null, value, arguments.length ); }, append: function() { return domManip( this, arguments, function( elem ) { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { var target = manipulationTarget( this, elem ); target.appendChild( elem ); } } ); }, prepend: function() { return domManip( this, arguments, function( elem ) { if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) { var target = manipulationTarget( this, elem ); target.insertBefore( elem, target.firstChild ); } } ); }, before: function() { return domManip( this, arguments, function( elem ) { if ( this.parentNode ) { this.parentNode.insertBefore( elem, this ); } } ); }, after: function() { return domManip( this, arguments, function( elem ) { if ( this.parentNode ) { this.parentNode.insertBefore( elem, this.nextSibling ); } } ); }, empty: function() { var elem, i = 0; for ( ; ( elem = this[ i ] ) != null; i++ ) { if ( elem.nodeType === 1 ) { // Prevent memory leaks jQuery.cleanData( getAll( elem, false ) ); // Remove any remaining nodes elem.textContent = &quot;&quot;; } } return this; }, clone: function( dataAndEvents, deepDataAndEvents ) { dataAndEvents = dataAndEvents == null ? false : dataAndEvents; deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents; return this.map( function() { return jQuery.clone( this, dataAndEvents, deepDataAndEvents ); } ); }, html: function( value ) { return access( this, function( value ) { var elem = this[ 0 ] || {}, i = 0, l = this.length; if ( value === undefined &amp;&amp; elem.nodeType === 1 ) { return elem.innerHTML; } // See if we can take a shortcut and just use innerHTML if ( typeof value === &quot;string&quot; &amp;&amp; !rnoInnerhtml.test( value ) &amp;&amp; !wrapMap[ ( rtagName.exec( value ) || [ &quot;&quot;, &quot;&quot; ] )[ 1 ].toLowerCase() ] ) { value = jQuery.htmlPrefilter( value ); try { for ( ; i &lt; l; i++ ) { elem = this[ i ] || {}; // Remove element nodes and prevent memory leaks if ( elem.nodeType === 1 ) { jQuery.cleanData( getAll( elem, false ) ); elem.innerHTML = value; } } elem = 0; // If using innerHTML throws an exception, use the fallback method } catch ( e ) {} } if ( elem ) { this.empty().append( value ); } }, null, value, arguments.length ); }, replaceWith: function() { var ignored = []; // Make the changes, replacing each non-ignored context element with the new content return domManip( this, arguments, function( elem ) { var parent = this.parentNode; if ( jQuery.inArray( this, ignored ) &lt; 0 ) { jQuery.cleanData( getAll( this ) ); if ( parent ) { parent.replaceChild( elem, this ); } } // Force callback invocation }, ignored ); } } ); jQuery.each( { appendTo: &quot;append&quot;, prependTo: &quot;prepend&quot;, insertBefore: &quot;before&quot;, insertAfter: &quot;after&quot;, replaceAll: &quot;replaceWith&quot; }, function( name, original ) { jQuery.fn[ name ] = function( selector ) { var elems, ret = [], insert = jQuery( selector ), last = insert.length - 1, i = 0; for ( ; i &lt;= last; i++ ) { elems = i === last ? this : this.clone( true ); jQuery( insert[ i ] )[ original ]( elems ); // Support: Android &lt;=4.0 only, PhantomJS 1 only // .get() because push.apply(_, arraylike) throws on ancient WebKit push.apply( ret, elems.get() ); } return this.pushStack( ret ); }; } ); var rmargin = ( /^margin/ ); var rnumnonpx = new RegExp( &quot;^(&quot; + pnum + &quot;)(?!px)[a-z%]+$&quot;, &quot;i&quot; ); var getStyles = function( elem ) { // Support: IE &lt;=11 only, Firefox &lt;=30 (#15098, #14150) // IE throws on elements created in popups // FF meanwhile throws on frame elements through &quot;defaultView.getComputedStyle&quot; var view = elem.ownerDocument.defaultView; if ( !view || !view.opener ) { view = window; } return view.getComputedStyle( elem ); }; ( function() { // Executing both pixelPosition &amp; boxSizingReliable tests require only one layout // so they're executed at the same time to save the second computation. function computeStyleTests() { // This is a singleton, we need to execute it only once if ( !div ) { return; } div.style.cssText = &quot;box-sizing:border-box;&quot; + &quot;position:relative;display:block;&quot; + &quot;margin:auto;border:1px;padding:1px;&quot; + &quot;top:1%;width:50%&quot;; div.innerHTML = &quot;&quot;; documentElement.appendChild( container ); var divStyle = window.getComputedStyle( div ); pixelPositionVal = divStyle.top !== &quot;1%&quot;; // Support: Android 4.0 - 4.3 only, Firefox &lt;=3 - 44 reliableMarginLeftVal = divStyle.marginLeft === &quot;2px&quot;; boxSizingReliableVal = divStyle.width === &quot;4px&quot;; // Support: Android 4.0 - 4.3 only // Some styles come back with percentage values, even though they shouldn't div.style.marginRight = &quot;50%&quot;; pixelMarginRightVal = divStyle.marginRight === &quot;4px&quot;; documentElement.removeChild( container ); // Nullify the div so it wouldn't be stored in the memory and // it will also be a sign that checks already performed div = null; } var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal, container = document.createElement( &quot;div&quot; ), div = document.createElement( &quot;div&quot; ); // Finish early in limited (non-browser) environments if ( !div.style ) { return; } // Support: IE &lt;=9 - 11 only // Style of cloned element affects source element cloned (#8908) div.style.backgroundClip = &quot;content-box&quot;; div.cloneNode( true ).style.backgroundClip = &quot;&quot;; support.clearCloneStyle = div.style.backgroundClip === &quot;content-box&quot;; container.style.cssText = &quot;border:0;width:8px;height:0;top:0;left:-9999px;&quot; + &quot;padding:0;margin-top:1px;position:absolute&quot;; container.appendChild( div ); jQuery.extend( support, { pixelPosition: function() { computeStyleTests(); return pixelPositionVal; }, boxSizingReliable: function() { computeStyleTests(); return boxSizingReliableVal; }, pixelMarginRight: function() { computeStyleTests(); return pixelMarginRightVal; }, reliableMarginLeft: function() { computeStyleTests(); return reliableMarginLeftVal; } } ); } )(); function curCSS( elem, name, computed ) { var width, minWidth, maxWidth, ret, // Support: Firefox 51+ // Retrieving style before computed somehow // fixes an issue with getting wrong values // on detached elements style = elem.style; computed = computed || getStyles( elem ); // getPropertyValue is needed for: // .css('filter') (IE 9 only, #12537) // .css('--customProperty) (#3144) if ( computed ) { ret = computed.getPropertyValue( name ) || computed[ name ]; if ( ret === &quot;&quot; &amp;&amp; !jQuery.contains( elem.ownerDocument, elem ) ) { ret = jQuery.style( elem, name ); } // A tribute to the &quot;awesome hack by Dean Edwards&quot; // Android Browser returns percentage for some values, // but width seems to be reliably pixels. // This is against the CSSOM draft spec: // https://drafts.csswg.org/cssom/#resolved-values if ( !support.pixelMarginRight() &amp;&amp; rnumnonpx.test( ret ) &amp;&amp; rmargin.test( name ) ) { // Remember the original values width = style.width; minWidth = style.minWidth; maxWidth = style.maxWidth; // Put in the new values to get a computed value out style.minWidth = style.maxWidth = style.width = ret; ret = computed.width; // Revert the changed values style.width = width; style.minWidth = minWidth; style.maxWidth = maxWidth; } } return ret !== undefined ? // Support: IE &lt;=9 - 11 only // IE returns zIndex value as an integer. ret + &quot;&quot; : ret; } function addGetHookIf( conditionFn, hookFn ) { // Define the hook, we'll check on the first run if it's really needed. return { get: function() { if ( conditionFn() ) { // Hook not needed (or it's not possible to use it due // to missing dependency), remove it. delete this.get; return; } // Hook needed; redefine it so that the support test is not executed again. return ( this.get = hookFn ).apply( this, arguments ); } }; } var // Swappable if display is none or starts with table // except &quot;table&quot;, &quot;table-cell&quot;, or &quot;table-caption&quot; // See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display rdisplayswap = /^(none|table(?!-c[ea]).+)/, rcustomProp = /^--/, cssShow = { position: &quot;absolute&quot;, visibility: &quot;hidden&quot;, display: &quot;block&quot; }, cssNormalTransform = { letterSpacing: &quot;0&quot;, fontWeight: &quot;400&quot; }, cssPrefixes = [ &quot;Webkit&quot;, &quot;Moz&quot;, &quot;ms&quot; ], emptyStyle = document.createElement( &quot;div&quot; ).style; // Return a css property mapped to a potentially vendor prefixed property function vendorPropName( name ) { // Shortcut for names that are not vendor prefixed if ( name in emptyStyle ) { return name; } // Check for vendor prefixed names var capName = name[ 0 ].toUpperCase() + name.slice( 1 ), i = cssPrefixes.length; while ( i-- ) { name = cssPrefixes[ i ] + capName; if ( name in emptyStyle ) { return name; } } } // Return a property mapped along what jQuery.cssProps suggests or to // a vendor prefixed property. function finalPropName( name ) { var ret = jQuery.cssProps[ name ]; if ( !ret ) { ret = jQuery.cssProps[ name ] = vendorPropName( name ) || name; } return ret; } function setPositiveNumber( elem, value, subtract ) { // Any relative (+/-) values have already been // normalized at this point var matches = rcssNum.exec( value ); return matches ? // Guard against undefined &quot;subtract&quot;, e.g., when used as in cssHooks Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || &quot;px&quot; ) : value; } function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) { var i, val = 0; // If we already have the right measurement, avoid augmentation if ( extra === ( isBorderBox ? &quot;border&quot; : &quot;content&quot; ) ) { i = 4; // Otherwise initialize for horizontal or vertical properties } else { i = name === &quot;width&quot; ? 1 : 0; } for ( ; i &lt; 4; i += 2 ) { // Both box models exclude margin, so add it if we want it if ( extra === &quot;margin&quot; ) { val += jQuery.css( elem, extra + cssExpand[ i ], true, styles ); } if ( isBorderBox ) { // border-box includes padding, so remove it if we want content if ( extra === &quot;content&quot; ) { val -= jQuery.css( elem, &quot;padding&quot; + cssExpand[ i ], true, styles ); } // At this point, extra isn't border nor margin, so remove border if ( extra !== &quot;margin&quot; ) { val -= jQuery.css( elem, &quot;border&quot; + cssExpand[ i ] + &quot;Width&quot;, true, styles ); } } else { // At this point, extra isn't content, so add padding val += jQuery.css( elem, &quot;padding&quot; + cssExpand[ i ], true, styles ); // At this point, extra isn't content nor padding, so add border if ( extra !== &quot;padding&quot; ) { val += jQuery.css( elem, &quot;border&quot; + cssExpand[ i ] + &quot;Width&quot;, true, styles ); } } } return val; } function getWidthOrHeight( elem, name, extra ) { // Start with computed style var valueIsBorderBox, styles = getStyles( elem ), val = curCSS( elem, name, styles ), isBorderBox = jQuery.css( elem, &quot;boxSizing&quot;, false, styles ) === &quot;border-box&quot;; // Computed unit is not pixels. Stop here and return. if ( rnumnonpx.test( val ) ) { return val; } // Check for style in case a browser which returns unreliable values // for getComputedStyle silently falls back to the reliable elem.style valueIsBorderBox = isBorderBox &amp;&amp; ( support.boxSizingReliable() || val === elem.style[ name ] ); // Fall back to offsetWidth/Height when value is &quot;auto&quot; // This happens for inline elements with no explicit setting (gh-3571) if ( val === &quot;auto&quot; ) { val = elem[ &quot;offset&quot; + name[ 0 ].toUpperCase() + name.slice( 1 ) ]; } // Normalize &quot;&quot;, auto, and prepare for extra val = parseFloat( val ) || 0; // Use the active box-sizing model to add/subtract irrelevant styles return ( val + augmentWidthOrHeight( elem, name, extra || ( isBorderBox ? &quot;border&quot; : &quot;content&quot; ), valueIsBorderBox, styles ) ) + &quot;px&quot;; } jQuery.extend( { // Add in style property hooks for overriding the default // behavior of getting and setting a style property cssHooks: { opacity: { get: function( elem, computed ) { if ( computed ) { // We should always get a number back from opacity var ret = curCSS( elem, &quot;opacity&quot; ); return ret === &quot;&quot; ? &quot;1&quot; : ret; } } } }, // Don't automatically add &quot;px&quot; to these possibly-unitless properties cssNumber: { &quot;animationIterationCount&quot;: true, &quot;columnCount&quot;: true, &quot;fillOpacity&quot;: true, &quot;flexGrow&quot;: true, &quot;flexShrink&quot;: true, &quot;fontWeight&quot;: true, &quot;lineHeight&quot;: true, &quot;opacity&quot;: true, &quot;order&quot;: true, &quot;orphans&quot;: true, &quot;widows&quot;: true, &quot;zIndex&quot;: true, &quot;zoom&quot;: true }, // Add in properties whose names you wish to fix before // setting or getting the value cssProps: { &quot;float&quot;: &quot;cssFloat&quot; }, // Get and set the style property on a DOM Node style: function( elem, name, value, extra ) { // Don't set styles on text and comment nodes if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) { return; } // Make sure that we're working with the right name var ret, type, hooks, origName = jQuery.camelCase( name ), isCustomProp = rcustomProp.test( name ), style = elem.style; // Make sure that we're working with the right name. We don't // want to query the value if it is a CSS custom property // since they are user-defined. if ( !isCustomProp ) { name = finalPropName( origName ); } // Gets hook for the prefixed version, then unprefixed version hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ]; // Check if we're setting a value if ( value !== undefined ) { type = typeof value; // Convert &quot;+=&quot; or &quot;-=&quot; to relative numbers (#7345) if ( type === &quot;string&quot; &amp;&amp; ( ret = rcssNum.exec( value ) ) &amp;&amp; ret[ 1 ] ) { value = adjustCSS( elem, name, ret ); // Fixes bug #9237 type = &quot;number&quot;; } // Make sure that null and NaN values aren't set (#7116) if ( value == null || value !== value ) { return; } // If a number was passed in, add the unit (except for certain CSS properties) if ( type === &quot;number&quot; ) { value += ret &amp;&amp; ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? &quot;&quot; : &quot;px&quot; ); } // background-* props affect original clone's values if ( !support.clearCloneStyle &amp;&amp; value === &quot;&quot; &amp;&amp; name.indexOf( &quot;background&quot; ) === 0 ) { style[ name ] = &quot;inherit&quot;; } // If a hook was provided, use that value, otherwise just set the specified value if ( !hooks || !( &quot;set&quot; in hooks ) || ( value = hooks.set( elem, value, extra ) ) !== undefined ) { if ( isCustomProp ) { style.setProperty( name, value ); } else { style[ name ] = value; } } } else { // If a hook was provided get the non-computed value from there if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, false, extra ) ) !== undefined ) { return ret; } // Otherwise just get the value from the style object return style[ name ]; } }, css: function( elem, name, extra, styles ) { var val, num, hooks, origName = jQuery.camelCase( name ), isCustomProp = rcustomProp.test( name ); // Make sure that we're working with the right name. We don't // want to modify the value if it is a CSS custom property // since they are user-defined. if ( !isCustomProp ) { name = finalPropName( origName ); } // Try prefixed name followed by the unprefixed name hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ]; // If a hook was provided get the computed value from there if ( hooks &amp;&amp; &quot;get&quot; in hooks ) { val = hooks.get( elem, true, extra ); } // Otherwise, if a way to get the computed value exists, use that if ( val === undefined ) { val = curCSS( elem, name, styles ); } // Convert &quot;normal&quot; to computed value if ( val === &quot;normal&quot; &amp;&amp; name in cssNormalTransform ) { val = cssNormalTransform[ name ]; } // Make numeric if forced or a qualifier was provided and val looks numeric if ( extra === &quot;&quot; || extra ) { num = parseFloat( val ); return extra === true || isFinite( num ) ? num || 0 : val; } return val; } } ); jQuery.each( [ &quot;height&quot;, &quot;width&quot; ], function( i, name ) { jQuery.cssHooks[ name ] = { get: function( elem, computed, extra ) { if ( computed ) { // Certain elements can have dimension info if we invisibly show them // but it must have a current display style that would benefit return rdisplayswap.test( jQuery.css( elem, &quot;display&quot; ) ) &amp;&amp; // Support: Safari 8+ // Table columns in Safari have non-zero offsetWidth &amp; zero // getBoundingClientRect().width unless display is changed. // Support: IE &lt;=11 only // Running getBoundingClientRect on a disconnected node // in IE throws an error. ( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ? swap( elem, cssShow, function() { return getWidthOrHeight( elem, name, extra ); } ) : getWidthOrHeight( elem, name, extra ); } }, set: function( elem, value, extra ) { var matches, styles = extra &amp;&amp; getStyles( elem ), subtract = extra &amp;&amp; augmentWidthOrHeight( elem, name, extra, jQuery.css( elem, &quot;boxSizing&quot;, false, styles ) === &quot;border-box&quot;, styles ); // Convert to pixels if value adjustment is needed if ( subtract &amp;&amp; ( matches = rcssNum.exec( value ) ) &amp;&amp; ( matches[ 3 ] || &quot;px&quot; ) !== &quot;px&quot; ) { elem.style[ name ] = value; value = jQuery.css( elem, name ); } return setPositiveNumber( elem, value, subtract ); } }; } ); jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft, function( elem, computed ) { if ( computed ) { return ( parseFloat( curCSS( elem, &quot;marginLeft&quot; ) ) || elem.getBoundingClientRect().left - swap( elem, { marginLeft: 0 }, function() { return elem.getBoundingClientRect().left; } ) ) + &quot;px&quot;; } } ); // These hooks are used by animate to expand properties jQuery.each( { margin: &quot;&quot;, padding: &quot;&quot;, border: &quot;Width&quot; }, function( prefix, suffix ) { jQuery.cssHooks[ prefix + suffix ] = { expand: function( value ) { var i = 0, expanded = {}, // Assumes a single number if not a string parts = typeof value === &quot;string&quot; ? value.split( &quot; &quot; ) : [ value ]; for ( ; i &lt; 4; i++ ) { expanded[ prefix + cssExpand[ i ] + suffix ] = parts[ i ] || parts[ i - 2 ] || parts[ 0 ]; } return expanded; } }; if ( !rmargin.test( prefix ) ) { jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber; } } ); jQuery.fn.extend( { css: function( name, value ) { return access( this, function( elem, name, value ) { var styles, len, map = {}, i = 0; if ( Array.isArray( name ) ) { styles = getStyles( elem ); len = name.length; for ( ; i &lt; len; i++ ) { map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles ); } return map; } return value !== undefined ? jQuery.style( elem, name, value ) : jQuery.css( elem, name ); }, name, value, arguments.length &gt; 1 ); } } ); function Tween( elem, options, prop, end, easing ) { return new Tween.prototype.init( elem, options, prop, end, easing ); } jQuery.Tween = Tween; Tween.prototype = { constructor: Tween, init: function( elem, options, prop, end, easing, unit ) { this.elem = elem; this.prop = prop; this.easing = easing || jQuery.easing._default; this.options = options; this.start = this.now = this.cur(); this.end = end; this.unit = unit || ( jQuery.cssNumber[ prop ] ? &quot;&quot; : &quot;px&quot; ); }, cur: function() { var hooks = Tween.propHooks[ this.prop ]; return hooks &amp;&amp; hooks.get ? hooks.get( this ) : Tween.propHooks._default.get( this ); }, run: function( percent ) { var eased, hooks = Tween.propHooks[ this.prop ]; if ( this.options.duration ) { this.pos = eased = jQuery.easing[ this.easing ]( percent, this.options.duration * percent, 0, 1, this.options.duration ); } else { this.pos = eased = percent; } this.now = ( this.end - this.start ) * eased + this.start; if ( this.options.step ) { this.options.step.call( this.elem, this.now, this ); } if ( hooks &amp;&amp; hooks.set ) { hooks.set( this ); } else { Tween.propHooks._default.set( this ); } return this; } }; Tween.prototype.init.prototype = Tween.prototype; Tween.propHooks = { _default: { get: function( tween ) { var result; // Use a property on the element directly when it is not a DOM element, // or when there is no matching style property that exists. if ( tween.elem.nodeType !== 1 || tween.elem[ tween.prop ] != null &amp;&amp; tween.elem.style[ tween.prop ] == null ) { return tween.elem[ tween.prop ]; } // Passing an empty string as a 3rd parameter to .css will automatically // attempt a parseFloat and fallback to a string if the parse fails. // Simple values such as &quot;10px&quot; are parsed to Float; // complex values such as &quot;rotate(1rad)&quot; are returned as-is. result = jQuery.css( tween.elem, tween.prop, &quot;&quot; ); // Empty strings, null, undefined and &quot;auto&quot; are converted to 0. return !result || result === &quot;auto&quot; ? 0 : result; }, set: function( tween ) { // Use step hook for back compat. // Use cssHook if its there. // Use .style if available and use plain properties where available. if ( jQuery.fx.step[ tween.prop ] ) { jQuery.fx.step[ tween.prop ]( tween ); } else if ( tween.elem.nodeType === 1 &amp;&amp; ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) { jQuery.style( tween.elem, tween.prop, tween.now + tween.unit ); } else { tween.elem[ tween.prop ] = tween.now; } } } }; // Support: IE &lt;=9 only // Panic based approach to setting things on disconnected nodes Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = { set: function( tween ) { if ( tween.elem.nodeType &amp;&amp; tween.elem.parentNode ) { tween.elem[ tween.prop ] = tween.now; } } }; jQuery.easing = { linear: function( p ) { return p; }, swing: function( p ) { return 0.5 - Math.cos( p * Math.PI ) / 2; }, _default: &quot;swing&quot; }; jQuery.fx = Tween.prototype.init; // Back compat &lt;1.8 extension point jQuery.fx.step = {}; var fxNow, inProgress, rfxtypes = /^(?:toggle|show|hide)$/, rrun = /queueHooks$/; function schedule() { if ( inProgress ) { if ( document.hidden === false &amp;&amp; window.requestAnimationFrame ) { window.requestAnimationFrame( schedule ); } else { window.setTimeout( schedule, jQuery.fx.interval ); } jQuery.fx.tick(); } } // Animations created synchronously will run synchronously function createFxNow() { window.setTimeout( function() { fxNow = undefined; } ); return ( fxNow = jQuery.now() ); } // Generate parameters to create a standard animation function genFx( type, includeWidth ) { var which, i = 0, attrs = { height: type }; // If we include width, step value is 1 to do all cssExpand values, // otherwise step value is 2 to skip over Left and Right includeWidth = includeWidth ? 1 : 0; for ( ; i &lt; 4; i += 2 - includeWidth ) { which = cssExpand[ i ]; attrs[ &quot;margin&quot; + which ] = attrs[ &quot;padding&quot; + which ] = type; } if ( includeWidth ) { attrs.opacity = attrs.width = type; } return attrs; } function createTween( value, prop, animation ) { var tween, collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ &quot;*&quot; ] ), index = 0, length = collection.length; for ( ; index &lt; length; index++ ) { if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) { // We're done with this property return tween; } } } function defaultPrefilter( elem, props, opts ) { var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display, isBox = &quot;width&quot; in props || &quot;height&quot; in props, anim = this, orig = {}, style = elem.style, hidden = elem.nodeType &amp;&amp; isHiddenWithinTree( elem ), dataShow = dataPriv.get( elem, &quot;fxshow&quot; ); // Queue-skipping animations hijack the fx hooks if ( !opts.queue ) { hooks = jQuery._queueHooks( elem, &quot;fx&quot; ); if ( hooks.unqueued == null ) { hooks.unqueued = 0; oldfire = hooks.empty.fire; hooks.empty.fire = function() { if ( !hooks.unqueued ) { oldfire(); } }; } hooks.unqueued++; anim.always( function() { // Ensure the complete handler is called before this completes anim.always( function() { hooks.unqueued--; if ( !jQuery.queue( elem, &quot;fx&quot; ).length ) { hooks.empty.fire(); } } ); } ); } // Detect show/hide animations for ( prop in props ) { value = props[ prop ]; if ( rfxtypes.test( value ) ) { delete props[ prop ]; toggle = toggle || value === &quot;toggle&quot;; if ( value === ( hidden ? &quot;hide&quot; : &quot;show&quot; ) ) { // Pretend to be hidden if this is a &quot;show&quot; and // there is still data from a stopped show/hide if ( value === &quot;show&quot; &amp;&amp; dataShow &amp;&amp; dataShow[ prop ] !== undefined ) { hidden = true; // Ignore all other no-op show/hide data } else { continue; } } orig[ prop ] = dataShow &amp;&amp; dataShow[ prop ] || jQuery.style( elem, prop ); } } // Bail out if this is a no-op like .hide().hide() propTween = !jQuery.isEmptyObject( props ); if ( !propTween &amp;&amp; jQuery.isEmptyObject( orig ) ) { return; } // Restrict &quot;overflow&quot; and &quot;display&quot; styles during box animations if ( isBox &amp;&amp; elem.nodeType === 1 ) { // Support: IE &lt;=9 - 11, Edge 12 - 13 // Record all 3 overflow attributes because IE does not infer the shorthand // from identically-valued overflowX and overflowY opts.overflow = [ style.overflow, style.overflowX, style.overflowY ]; // Identify a display type, preferring old show/hide data over the CSS cascade restoreDisplay = dataShow &amp;&amp; dataShow.display; if ( restoreDisplay == null ) { restoreDisplay = dataPriv.get( elem, &quot;display&quot; ); } display = jQuery.css( elem, &quot;display&quot; ); if ( display === &quot;none&quot; ) { if ( restoreDisplay ) { display = restoreDisplay; } else { // Get nonempty value(s) by temporarily forcing visibility showHide( [ elem ], true ); restoreDisplay = elem.style.display || restoreDisplay; display = jQuery.css( elem, &quot;display&quot; ); showHide( [ elem ] ); } } // Animate inline elements as inline-block if ( display === &quot;inline&quot; || display === &quot;inline-block&quot; &amp;&amp; restoreDisplay != null ) { if ( jQuery.css( elem, &quot;float&quot; ) === &quot;none&quot; ) { // Restore the original display value at the end of pure show/hide animations if ( !propTween ) { anim.done( function() { style.display = restoreDisplay; } ); if ( restoreDisplay == null ) { display = style.display; restoreDisplay = display === &quot;none&quot; ? &quot;&quot; : display; } } style.display = &quot;inline-block&quot;; } } } if ( opts.overflow ) { style.overflow = &quot;hidden&quot;; anim.always( function() { style.overflow = opts.overflow[ 0 ]; style.overflowX = opts.overflow[ 1 ]; style.overflowY = opts.overflow[ 2 ]; } ); } // Implement show/hide animations propTween = false; for ( prop in orig ) { // General show/hide setup for this element animation if ( !propTween ) { if ( dataShow ) { if ( &quot;hidden&quot; in dataShow ) { hidden = dataShow.hidden; } } else { dataShow = dataPriv.access( elem, &quot;fxshow&quot;, { display: restoreDisplay } ); } // Store hidden/visible for toggle so `.stop().toggle()` &quot;reverses&quot; if ( toggle ) { dataShow.hidden = !hidden; } // Show elements before animating them if ( hidden ) { showHide( [ elem ], true ); } /* eslint-disable no-loop-func */ anim.done( function() { /* eslint-enable no-loop-func */ // The final step of a &quot;hide&quot; animation is actually hiding the element if ( !hidden ) { showHide( [ elem ] ); } dataPriv.remove( elem, &quot;fxshow&quot; ); for ( prop in orig ) { jQuery.style( elem, prop, orig[ prop ] ); } } ); } // Per-property setup propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim ); if ( !( prop in dataShow ) ) { dataShow[ prop ] = propTween.start; if ( hidden ) { propTween.end = propTween.start; propTween.start = 0; } } } } function propFilter( props, specialEasing ) { var index, name, easing, value, hooks; // camelCase, specialEasing and expand cssHook pass for ( index in props ) { name = jQuery.camelCase( index ); easing = specialEasing[ name ]; value = props[ index ]; if ( Array.isArray( value ) ) { easing = value[ 1 ]; value = props[ index ] = value[ 0 ]; } if ( index !== name ) { props[ name ] = value; delete props[ index ]; } hooks = jQuery.cssHooks[ name ]; if ( hooks &amp;&amp; &quot;expand&quot; in hooks ) { value = hooks.expand( value ); delete props[ name ]; // Not quite $.extend, this won't overwrite existing keys. // Reusing 'index' because we have the correct &quot;name&quot; for ( index in value ) { if ( !( index in props ) ) { props[ index ] = value[ index ]; specialEasing[ index ] = easing; } } } else { specialEasing[ name ] = easing; } } } function Animation( elem, properties, options ) { var result, stopped, index = 0, length = Animation.prefilters.length, deferred = jQuery.Deferred().always( function() { // Don't match elem in the :animated selector delete tick.elem; } ), tick = function() { if ( stopped ) { return false; } var currentTime = fxNow || createFxNow(), remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ), // Support: Android 2.3 only // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497) temp = remaining / animation.duration || 0, percent = 1 - temp, index = 0, length = animation.tweens.length; for ( ; index &lt; length; index++ ) { animation.tweens[ index ].run( percent ); } deferred.notifyWith( elem, [ animation, percent, remaining ] ); // If there's more to do, yield if ( percent &lt; 1 &amp;&amp; length ) { return remaining; } // If this was an empty animation, synthesize a final progress notification if ( !length ) { deferred.notifyWith( elem, [ animation, 1, 0 ] ); } // Resolve the animation and report its conclusion deferred.resolveWith( elem, [ animation ] ); return false; }, animation = deferred.promise( { elem: elem, props: jQuery.extend( {}, properties ), opts: jQuery.extend( true, { specialEasing: {}, easing: jQuery.easing._default }, options ), originalProperties: properties, originalOptions: options, startTime: fxNow || createFxNow(), duration: options.duration, tweens: [], createTween: function( prop, end ) { var tween = jQuery.Tween( elem, animation.opts, prop, end, animation.opts.specialEasing[ prop ] || animation.opts.easing ); animation.tweens.push( tween ); return tween; }, stop: function( gotoEnd ) { var index = 0, // If we are going to the end, we want to run all the tweens // otherwise we skip this part length = gotoEnd ? animation.tweens.length : 0; if ( stopped ) { return this; } stopped = true; for ( ; index &lt; length; index++ ) { animation.tweens[ index ].run( 1 ); } // Resolve when we played the last frame; otherwise, reject if ( gotoEnd ) { deferred.notifyWith( elem, [ animation, 1, 0 ] ); deferred.resolveWith( elem, [ animation, gotoEnd ] ); } else { deferred.rejectWith( elem, [ animation, gotoEnd ] ); } return this; } } ), props = animation.props; propFilter( props, animation.opts.specialEasing ); for ( ; index &lt; length; index++ ) { result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts ); if ( result ) { if ( jQuery.isFunction( result.stop ) ) { jQuery._queueHooks( animation.elem, animation.opts.queue ).stop = jQuery.proxy( result.stop, result ); } return result; } } jQuery.map( props, createTween, animation ); if ( jQuery.isFunction( animation.opts.start ) ) { animation.opts.start.call( elem, animation ); } // Attach callbacks from options animation .progress( animation.opts.progress ) .done( animation.opts.done, animation.opts.complete ) .fail( animation.opts.fail ) .always( animation.opts.always ); jQuery.fx.timer( jQuery.extend( tick, { elem: elem, anim: animation, queue: animation.opts.queue } ) ); return animation; } jQuery.Animation = jQuery.extend( Animation, { tweeners: { &quot;*&quot;: [ function( prop, value ) { var tween = this.createTween( prop, value ); adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween ); return tween; } ] }, tweener: function( props, callback ) { if ( jQuery.isFunction( props ) ) { callback = props; props = [ &quot;*&quot; ]; } else { props = props.match( rnothtmlwhite ); } var prop, index = 0, length = props.length; for ( ; index &lt; length; index++ ) { prop = props[ index ]; Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || []; Animation.tweeners[ prop ].unshift( callback ); } }, prefilters: [ defaultPrefilter ], prefilter: function( callback, prepend ) { if ( prepend ) { Animation.prefilters.unshift( callback ); } else { Animation.prefilters.push( callback ); } } } ); jQuery.speed = function( speed, easing, fn ) { var opt = speed &amp;&amp; typeof speed === &quot;object&quot; ? jQuery.extend( {}, speed ) : { complete: fn || !fn &amp;&amp; easing || jQuery.isFunction( speed ) &amp;&amp; speed, duration: speed, easing: fn &amp;&amp; easing || easing &amp;&amp; !jQuery.isFunction( easing ) &amp;&amp; easing }; // Go to the end state if fx are off if ( jQuery.fx.off ) { opt.duration = 0; } else { if ( typeof opt.duration !== &quot;number&quot; ) { if ( opt.duration in jQuery.fx.speeds ) { opt.duration = jQuery.fx.speeds[ opt.duration ]; } else { opt.duration = jQuery.fx.speeds._default; } } } // Normalize opt.queue - true/undefined/null -&gt; &quot;fx&quot; if ( opt.queue == null || opt.queue === true ) { opt.queue = &quot;fx&quot;; } // Queueing opt.old = opt.complete; opt.complete = function() { if ( jQuery.isFunction( opt.old ) ) { opt.old.call( this ); } if ( opt.queue ) { jQuery.dequeue( this, opt.queue ); } }; return opt; }; jQuery.fn.extend( { fadeTo: function( speed, to, easing, callback ) { // Show any hidden elements after setting opacity to 0 return this.filter( isHiddenWithinTree ).css( &quot;opacity&quot;, 0 ).show() // Animate to the value specified .end().animate( { opacity: to }, speed, easing, callback ); }, animate: function( prop, speed, easing, callback ) { var empty = jQuery.isEmptyObject( prop ), optall = jQuery.speed( speed, easing, callback ), doAnimation = function() { // Operate on a copy of prop so per-property easing won't be lost var anim = Animation( this, jQuery.extend( {}, prop ), optall ); // Empty animations, or finishing resolves immediately if ( empty || dataPriv.get( this, &quot;finish&quot; ) ) { anim.stop( true ); } }; doAnimation.finish = doAnimation; return empty || optall.queue === false ? this.each( doAnimation ) : this.queue( optall.queue, doAnimation ); }, stop: function( type, clearQueue, gotoEnd ) { var stopQueue = function( hooks ) { var stop = hooks.stop; delete hooks.stop; stop( gotoEnd ); }; if ( typeof type !== &quot;string&quot; ) { gotoEnd = clearQueue; clearQueue = type; type = undefined; } if ( clearQueue &amp;&amp; type !== false ) { this.queue( type || &quot;fx&quot;, [] ); } return this.each( function() { var dequeue = true, index = type != null &amp;&amp; type + &quot;queueHooks&quot;, timers = jQuery.timers, data = dataPriv.get( this ); if ( index ) { if ( data[ index ] &amp;&amp; data[ index ].stop ) { stopQueue( data[ index ] ); } } else { for ( index in data ) { if ( data[ index ] &amp;&amp; data[ index ].stop &amp;&amp; rrun.test( index ) ) { stopQueue( data[ index ] ); } } } for ( index = timers.length; index--; ) { if ( timers[ index ].elem === this &amp;&amp; ( type == null || timers[ index ].queue === type ) ) { timers[ index ].anim.stop( gotoEnd ); dequeue = false; timers.splice( index, 1 ); } } // Start the next in the queue if the last step wasn't forced. // Timers currently will call their complete callbacks, which // will dequeue but only if they were gotoEnd. if ( dequeue || !gotoEnd ) { jQuery.dequeue( this, type ); } } ); }, finish: function( type ) { if ( type !== false ) { type = type || &quot;fx&quot;; } return this.each( function() { var index, data = dataPriv.get( this ), queue = data[ type + &quot;queue&quot; ], hooks = data[ type + &quot;queueHooks&quot; ], timers = jQuery.timers, length = queue ? queue.length : 0; // Enable finishing flag on private data data.finish = true; // Empty the queue first jQuery.queue( this, type, [] ); if ( hooks &amp;&amp; hooks.stop ) { hooks.stop.call( this, true ); } // Look for any active animations, and finish them for ( index = timers.length; index--; ) { if ( timers[ index ].elem === this &amp;&amp; timers[ index ].queue === type ) { timers[ index ].anim.stop( true ); timers.splice( index, 1 ); } } // Look for any animations in the old queue and finish them for ( index = 0; index &lt; length; index++ ) { if ( queue[ index ] &amp;&amp; queue[ index ].finish ) { queue[ index ].finish.call( this ); } } // Turn off finishing flag delete data.finish; } ); } } ); jQuery.each( [ &quot;toggle&quot;, &quot;show&quot;, &quot;hide&quot; ], function( i, name ) { var cssFn = jQuery.fn[ name ]; jQuery.fn[ name ] = function( speed, easing, callback ) { return speed == null || typeof speed === &quot;boolean&quot; ? cssFn.apply( this, arguments ) : this.animate( genFx( name, true ), speed, easing, callback ); }; } ); // Generate shortcuts for custom animations jQuery.each( { slideDown: genFx( &quot;show&quot; ), slideUp: genFx( &quot;hide&quot; ), slideToggle: genFx( &quot;toggle&quot; ), fadeIn: { opacity: &quot;show&quot; }, fadeOut: { opacity: &quot;hide&quot; }, fadeToggle: { opacity: &quot;toggle&quot; } }, function( name, props ) { jQuery.fn[ name ] = function( speed, easing, callback ) { return this.animate( props, speed, easing, callback ); }; } ); jQuery.timers = []; jQuery.fx.tick = function() { var timer, i = 0, timers = jQuery.timers; fxNow = jQuery.now(); for ( ; i &lt; timers.length; i++ ) { timer = timers[ i ]; // Run the timer and safely remove it when done (allowing for external removal) if ( !timer() &amp;&amp; timers[ i ] === timer ) { timers.splice( i--, 1 ); } } if ( !timers.length ) { jQuery.fx.stop(); } fxNow = undefined; }; jQuery.fx.timer = function( timer ) { jQuery.timers.push( timer ); jQuery.fx.start(); }; jQuery.fx.interval = 13; jQuery.fx.start = function() { if ( inProgress ) { return; } inProgress = true; schedule(); }; jQuery.fx.stop = function() { inProgress = null; }; jQuery.fx.speeds = { slow: 600, fast: 200, // Default speed _default: 400 }; // Based off of the plugin by Clint Helfers, with permission. // https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/ jQuery.fn.delay = function( time, type ) { time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time; type = type || &quot;fx&quot;; return this.queue( type, function( next, hooks ) { var timeout = window.setTimeout( next, time ); hooks.stop = function() { window.clearTimeout( timeout ); }; } ); }; ( function() { var input = document.createElement( &quot;input&quot; ), select = document.createElement( &quot;select&quot; ), opt = select.appendChild( document.createElement( &quot;option&quot; ) ); input.type = &quot;checkbox&quot;; // Support: Android &lt;=4.3 only // Default value for a checkbox should be &quot;on&quot; support.checkOn = input.value !== &quot;&quot;; // Support: IE &lt;=11 only // Must access selectedIndex to make default options select support.optSelected = opt.selected; // Support: IE &lt;=11 only // An input loses its value after becoming a radio input = document.createElement( &quot;input&quot; ); input.value = &quot;t&quot;; input.type = &quot;radio&quot;; support.radioValue = input.value === &quot;t&quot;; } )(); var boolHook, attrHandle = jQuery.expr.attrHandle; jQuery.fn.extend( { attr: function( name, value ) { return access( this, jQuery.attr, name, value, arguments.length &gt; 1 ); }, removeAttr: function( name ) { return this.each( function() { jQuery.removeAttr( this, name ); } ); } } ); jQuery.extend( { attr: function( elem, name, value ) { var ret, hooks, nType = elem.nodeType; // Don't get/set attributes on text, comment and attribute nodes if ( nType === 3 || nType === 8 || nType === 2 ) { return; } // Fallback to prop when attributes are not supported if ( typeof elem.getAttribute === &quot;undefined&quot; ) { return jQuery.prop( elem, name, value ); } // Attribute hooks are determined by the lowercase version // Grab necessary hook if one is defined if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) { hooks = jQuery.attrHooks[ name.toLowerCase() ] || ( jQuery.expr.match.bool.test( name ) ? boolHook : undefined ); } if ( value !== undefined ) { if ( value === null ) { jQuery.removeAttr( elem, name ); return; } if ( hooks &amp;&amp; &quot;set&quot; in hooks &amp;&amp; ( ret = hooks.set( elem, value, name ) ) !== undefined ) { return ret; } elem.setAttribute( name, value + &quot;&quot; ); return value; } if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, name ) ) !== null ) { return ret; } ret = jQuery.find.attr( elem, name ); // Non-existent attributes return null, we normalize to undefined return ret == null ? undefined : ret; }, attrHooks: { type: { set: function( elem, value ) { if ( !support.radioValue &amp;&amp; value === &quot;radio&quot; &amp;&amp; nodeName( elem, &quot;input&quot; ) ) { var val = elem.value; elem.setAttribute( &quot;type&quot;, value ); if ( val ) { elem.value = val; } return value; } } } }, removeAttr: function( elem, value ) { var name, i = 0, // Attribute names can contain non-HTML whitespace characters // https://html.spec.whatwg.org/multipage/syntax.html#attributes-2 attrNames = value &amp;&amp; value.match( rnothtmlwhite ); if ( attrNames &amp;&amp; elem.nodeType === 1 ) { while ( ( name = attrNames[ i++ ] ) ) { elem.removeAttribute( name ); } } } } ); // Hooks for boolean attributes boolHook = { set: function( elem, value, name ) { if ( value === false ) { // Remove boolean attributes when set to false jQuery.removeAttr( elem, name ); } else { elem.setAttribute( name, name ); } return name; } }; jQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) { var getter = attrHandle[ name ] || jQuery.find.attr; attrHandle[ name ] = function( elem, name, isXML ) { var ret, handle, lowercaseName = name.toLowerCase(); if ( !isXML ) { // Avoid an infinite loop by temporarily removing this function from the getter handle = attrHandle[ lowercaseName ]; attrHandle[ lowercaseName ] = ret; ret = getter( elem, name, isXML ) != null ? lowercaseName : null; attrHandle[ lowercaseName ] = handle; } return ret; }; } ); var rfocusable = /^(?:input|select|textarea|button)$/i, rclickable = /^(?:a|area)$/i; jQuery.fn.extend( { prop: function( name, value ) { return access( this, jQuery.prop, name, value, arguments.length &gt; 1 ); }, removeProp: function( name ) { return this.each( function() { delete this[ jQuery.propFix[ name ] || name ]; } ); } } ); jQuery.extend( { prop: function( elem, name, value ) { var ret, hooks, nType = elem.nodeType; // Don't get/set properties on text, comment and attribute nodes if ( nType === 3 || nType === 8 || nType === 2 ) { return; } if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) { // Fix name and attach hooks name = jQuery.propFix[ name ] || name; hooks = jQuery.propHooks[ name ]; } if ( value !== undefined ) { if ( hooks &amp;&amp; &quot;set&quot; in hooks &amp;&amp; ( ret = hooks.set( elem, value, name ) ) !== undefined ) { return ret; } return ( elem[ name ] = value ); } if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, name ) ) !== null ) { return ret; } return elem[ name ]; }, propHooks: { tabIndex: { get: function( elem ) { // Support: IE &lt;=9 - 11 only // elem.tabIndex doesn't always return the // correct value when it hasn't been explicitly set // https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/ // Use proper attribute retrieval(#12072) var tabindex = jQuery.find.attr( elem, &quot;tabindex&quot; ); if ( tabindex ) { return parseInt( tabindex, 10 ); } if ( rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) &amp;&amp; elem.href ) { return 0; } return -1; } } }, propFix: { &quot;for&quot;: &quot;htmlFor&quot;, &quot;class&quot;: &quot;className&quot; } } ); // Support: IE &lt;=11 only // Accessing the selectedIndex property // forces the browser to respect setting selected // on the option // The getter ensures a default option is selected // when in an optgroup // eslint rule &quot;no-unused-expressions&quot; is disabled for this code // since it considers such accessions noop if ( !support.optSelected ) { jQuery.propHooks.selected = { get: function( elem ) { /* eslint no-unused-expressions: &quot;off&quot; */ var parent = elem.parentNode; if ( parent &amp;&amp; parent.parentNode ) { parent.parentNode.selectedIndex; } return null; }, set: function( elem ) { /* eslint no-unused-expressions: &quot;off&quot; */ var parent = elem.parentNode; if ( parent ) { parent.selectedIndex; if ( parent.parentNode ) { parent.parentNode.selectedIndex; } } } }; } jQuery.each( [ &quot;tabIndex&quot;, &quot;readOnly&quot;, &quot;maxLength&quot;, &quot;cellSpacing&quot;, &quot;cellPadding&quot;, &quot;rowSpan&quot;, &quot;colSpan&quot;, &quot;useMap&quot;, &quot;frameBorder&quot;, &quot;contentEditable&quot; ], function() { jQuery.propFix[ this.toLowerCase() ] = this; } ); // Strip and collapse whitespace according to HTML spec // https://html.spec.whatwg.org/multipage/infrastructure.html#strip-and-collapse-whitespace function stripAndCollapse( value ) { var tokens = value.match( rnothtmlwhite ) || []; return tokens.join( &quot; &quot; ); } function getClass( elem ) { return elem.getAttribute &amp;&amp; elem.getAttribute( &quot;class&quot; ) || &quot;&quot;; } jQuery.fn.extend( { addClass: function( value ) { var classes, elem, cur, curValue, clazz, j, finalValue, i = 0; if ( jQuery.isFunction( value ) ) { return this.each( function( j ) { jQuery( this ).addClass( value.call( this, j, getClass( this ) ) ); } ); } if ( typeof value === &quot;string&quot; &amp;&amp; value ) { classes = value.match( rnothtmlwhite ) || []; while ( ( elem = this[ i++ ] ) ) { curValue = getClass( elem ); cur = elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( curValue ) + &quot; &quot; ); if ( cur ) { j = 0; while ( ( clazz = classes[ j++ ] ) ) { if ( cur.indexOf( &quot; &quot; + clazz + &quot; &quot; ) &lt; 0 ) { cur += clazz + &quot; &quot;; } } // Only assign if different to avoid unneeded rendering. finalValue = stripAndCollapse( cur ); if ( curValue !== finalValue ) { elem.setAttribute( &quot;class&quot;, finalValue ); } } } } return this; }, removeClass: function( value ) { var classes, elem, cur, curValue, clazz, j, finalValue, i = 0; if ( jQuery.isFunction( value ) ) { return this.each( function( j ) { jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) ); } ); } if ( !arguments.length ) { return this.attr( &quot;class&quot;, &quot;&quot; ); } if ( typeof value === &quot;string&quot; &amp;&amp; value ) { classes = value.match( rnothtmlwhite ) || []; while ( ( elem = this[ i++ ] ) ) { curValue = getClass( elem ); // This expression is here for better compressibility (see addClass) cur = elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( curValue ) + &quot; &quot; ); if ( cur ) { j = 0; while ( ( clazz = classes[ j++ ] ) ) { // Remove *all* instances while ( cur.indexOf( &quot; &quot; + clazz + &quot; &quot; ) &gt; -1 ) { cur = cur.replace( &quot; &quot; + clazz + &quot; &quot;, &quot; &quot; ); } } // Only assign if different to avoid unneeded rendering. finalValue = stripAndCollapse( cur ); if ( curValue !== finalValue ) { elem.setAttribute( &quot;class&quot;, finalValue ); } } } } return this; }, toggleClass: function( value, stateVal ) { var type = typeof value; if ( typeof stateVal === &quot;boolean&quot; &amp;&amp; type === &quot;string&quot; ) { return stateVal ? this.addClass( value ) : this.removeClass( value ); } if ( jQuery.isFunction( value ) ) { return this.each( function( i ) { jQuery( this ).toggleClass( value.call( this, i, getClass( this ), stateVal ), stateVal ); } ); } return this.each( function() { var className, i, self, classNames; if ( type === &quot;string&quot; ) { // Toggle individual class names i = 0; self = jQuery( this ); classNames = value.match( rnothtmlwhite ) || []; while ( ( className = classNames[ i++ ] ) ) { // Check each className given, space separated list if ( self.hasClass( className ) ) { self.removeClass( className ); } else { self.addClass( className ); } } // Toggle whole class name } else if ( value === undefined || type === &quot;boolean&quot; ) { className = getClass( this ); if ( className ) { // Store className if set dataPriv.set( this, &quot;__className__&quot;, className ); } // If the element has a class name or if we're passed `false`, // then remove the whole classname (if there was one, the above saved it). // Otherwise bring back whatever was previously saved (if anything), // falling back to the empty string if nothing was stored. if ( this.setAttribute ) { this.setAttribute( &quot;class&quot;, className || value === false ? &quot;&quot; : dataPriv.get( this, &quot;__className__&quot; ) || &quot;&quot; ); } } } ); }, hasClass: function( selector ) { var className, elem, i = 0; className = &quot; &quot; + selector + &quot; &quot;; while ( ( elem = this[ i++ ] ) ) { if ( elem.nodeType === 1 &amp;&amp; ( &quot; &quot; + stripAndCollapse( getClass( elem ) ) + &quot; &quot; ).indexOf( className ) &gt; -1 ) { return true; } } return false; } } ); var rreturn = /\\r/g; jQuery.fn.extend( { val: function( value ) { var hooks, ret, isFunction, elem = this[ 0 ]; if ( !arguments.length ) { if ( elem ) { hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ]; if ( hooks &amp;&amp; &quot;get&quot; in hooks &amp;&amp; ( ret = hooks.get( elem, &quot;value&quot; ) ) !== undefined ) { return ret; } ret = elem.value; // Handle most common string cases if ( typeof ret === &quot;string&quot; ) { return ret.replace( rreturn, &quot;&quot; ); } // Handle cases where value is null/undef or number return ret == null ? &quot;&quot; : ret; } return; } isFunction = jQuery.isFunction( value ); return this.each( function( i ) { var val; if ( this.nodeType !== 1 ) { return; } if ( isFunction ) { val = value.call( this, i, jQuery( this ).val() ); } else { val = value; } // Treat null/undefined as &quot;&quot;; convert numbers to string if ( val == null ) { val = &quot;&quot;; } else if ( typeof val === &quot;number&quot; ) { val += &quot;&quot;; } else if ( Array.isArray( val ) ) { val = jQuery.map( val, function( value ) { return value == null ? &quot;&quot; : value + &quot;&quot;; } ); } hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ]; // If set returns undefined, fall back to normal setting if ( !hooks || !( &quot;set&quot; in hooks ) || hooks.set( this, val, &quot;value&quot; ) === undefined ) { this.value = val; } } ); } } ); jQuery.extend( { valHooks: { option: { get: function( elem ) { var val = jQuery.find.attr( elem, &quot;value&quot; ); return val != null ? val : // Support: IE &lt;=10 - 11 only // option.text throws exceptions (#14686, #14858) // Strip and collapse whitespace // https://html.spec.whatwg.org/#strip-and-collapse-whitespace stripAndCollapse( jQuery.text( elem ) ); } }, select: { get: function( elem ) { var value, option, i, options = elem.options, index = elem.selectedIndex, one = elem.type === &quot;select-one&quot;, values = one ? null : [], max = one ? index + 1 : options.length; if ( index &lt; 0 ) { i = max; } else { i = one ? index : 0; } // Loop through all the selected options for ( ; i &lt; max; i++ ) { option = options[ i ]; // Support: IE &lt;=9 only // IE8-9 doesn't update selected after form reset (#2551) if ( ( option.selected || i === index ) &amp;&amp; // Don't return options that are disabled or in a disabled optgroup !option.disabled &amp;&amp; ( !option.parentNode.disabled || !nodeName( option.parentNode, &quot;optgroup&quot; ) ) ) { // Get the specific value for the option value = jQuery( option ).val(); // We don't need an array for one selects if ( one ) { return value; } // Multi-Selects return an array values.push( value ); } } return values; }, set: function( elem, value ) { var optionSet, option, options = elem.options, values = jQuery.makeArray( value ), i = options.length; while ( i-- ) { option = options[ i ]; /* eslint-disable no-cond-assign */ if ( option.selected = jQuery.inArray( jQuery.valHooks.option.get( option ), values ) &gt; -1 ) { optionSet = true; } /* eslint-enable no-cond-assign */ } // Force browsers to behave consistently when non-matching value is set if ( !optionSet ) { elem.selectedIndex = -1; } return values; } } } } ); // Radios and checkboxes getter/setter jQuery.each( [ &quot;radio&quot;, &quot;checkbox&quot; ], function() { jQuery.valHooks[ this ] = { set: function( elem, value ) { if ( Array.isArray( value ) ) { return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) &gt; -1 ); } } }; if ( !support.checkOn ) { jQuery.valHooks[ this ].get = function( elem ) { return elem.getAttribute( &quot;value&quot; ) === null ? &quot;on&quot; : elem.value; }; } } ); // Return jQuery for attributes-only inclusion var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/; jQuery.extend( jQuery.event, { trigger: function( event, data, elem, onlyHandlers ) { var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [ elem || document ], type = hasOwn.call( event, &quot;type&quot; ) ? event.type : event, namespaces = hasOwn.call( event, &quot;namespace&quot; ) ? event.namespace.split( &quot;.&quot; ) : []; cur = tmp = elem = elem || document; // Don't do events on text and comment nodes if ( elem.nodeType === 3 || elem.nodeType === 8 ) { return; } // focus/blur morphs to focusin/out; ensure we're not firing them right now if ( rfocusMorph.test( type + jQuery.event.triggered ) ) { return; } if ( type.indexOf( &quot;.&quot; ) &gt; -1 ) { // Namespaced trigger; create a regexp to match event type in handle() namespaces = type.split( &quot;.&quot; ); type = namespaces.shift(); namespaces.sort(); } ontype = type.indexOf( &quot;:&quot; ) &lt; 0 &amp;&amp; &quot;on&quot; + type; // Caller can pass in a jQuery.Event object, Object, or just an event type string event = event[ jQuery.expando ] ? event : new jQuery.Event( type, typeof event === &quot;object&quot; &amp;&amp; event ); // Trigger bitmask: &amp; 1 for native handlers; &amp; 2 for jQuery (always true) event.isTrigger = onlyHandlers ? 2 : 3; event.namespace = namespaces.join( &quot;.&quot; ); event.rnamespace = event.namespace ? new RegExp( &quot;(^|\\\\.)&quot; + namespaces.join( &quot;\\\\.(?:.*\\\\.|)&quot; ) + &quot;(\\\\.|$)&quot; ) : null; // Clean up the event in case it is being reused event.result = undefined; if ( !event.target ) { event.target = elem; } // Clone any incoming data and prepend the event, creating the handler arg list data = data == null ? [ event ] : jQuery.makeArray( data, [ event ] ); // Allow special events to draw outside the lines special = jQuery.event.special[ type ] || {}; if ( !onlyHandlers &amp;&amp; special.trigger &amp;&amp; special.trigger.apply( elem, data ) === false ) { return; } // Determine event propagation path in advance, per W3C events spec (#9951) // Bubble up to document, then to window; watch for a global ownerDocument var (#9724) if ( !onlyHandlers &amp;&amp; !special.noBubble &amp;&amp; !jQuery.isWindow( elem ) ) { bubbleType = special.delegateType || type; if ( !rfocusMorph.test( bubbleType + type ) ) { cur = cur.parentNode; } for ( ; cur; cur = cur.parentNode ) { eventPath.push( cur ); tmp = cur; } // Only add window if we got to document (e.g., not plain obj or detached DOM) if ( tmp === ( elem.ownerDocument || document ) ) { eventPath.push( tmp.defaultView || tmp.parentWindow || window ); } } // Fire handlers on the event path i = 0; while ( ( cur = eventPath[ i++ ] ) &amp;&amp; !event.isPropagationStopped() ) { event.type = i &gt; 1 ? bubbleType : special.bindType || type; // jQuery handler handle = ( dataPriv.get( cur, &quot;events&quot; ) || {} )[ event.type ] &amp;&amp; dataPriv.get( cur, &quot;handle&quot; ); if ( handle ) { handle.apply( cur, data ); } // Native handler handle = ontype &amp;&amp; cur[ ontype ]; if ( handle &amp;&amp; handle.apply &amp;&amp; acceptData( cur ) ) { event.result = handle.apply( cur, data ); if ( event.result === false ) { event.preventDefault(); } } } event.type = type; // If nobody prevented the default action, do it now if ( !onlyHandlers &amp;&amp; !event.isDefaultPrevented() ) { if ( ( !special._default || special._default.apply( eventPath.pop(), data ) === false ) &amp;&amp; acceptData( elem ) ) { // Call a native DOM method on the target with the same name as the event. // Don't do default actions on window, that's where global variables be (#6170) if ( ontype &amp;&amp; jQuery.isFunction( elem[ type ] ) &amp;&amp; !jQuery.isWindow( elem ) ) { // Don't re-trigger an onFOO event when we call its FOO() method tmp = elem[ ontype ]; if ( tmp ) { elem[ ontype ] = null; } // Prevent re-triggering of the same event, since we already bubbled it above jQuery.event.triggered = type; elem[ type ](); jQuery.event.triggered = undefined; if ( tmp ) { elem[ ontype ] = tmp; } } } } return event.result; }, // Piggyback on a donor event to simulate a different one // Used only for `focus(in | out)` events simulate: function( type, elem, event ) { var e = jQuery.extend( new jQuery.Event(), event, { type: type, isSimulated: true } ); jQuery.event.trigger( e, null, elem ); } } ); jQuery.fn.extend( { trigger: function( type, data ) { return this.each( function() { jQuery.event.trigger( type, data, this ); } ); }, triggerHandler: function( type, data ) { var elem = this[ 0 ]; if ( elem ) { return jQuery.event.trigger( type, data, elem, true ); } } } ); jQuery.each( ( &quot;blur focus focusin focusout resize scroll click dblclick &quot; + &quot;mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave &quot; + &quot;change select submit keydown keypress keyup contextmenu&quot; ).split( &quot; &quot; ), function( i, name ) { // Handle event binding jQuery.fn[ name ] = function( data, fn ) { return arguments.length &gt; 0 ? this.on( name, null, data, fn ) : this.trigger( name ); }; } ); jQuery.fn.extend( { hover: function( fnOver, fnOut ) { return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver ); } } ); support.focusin = &quot;onfocusin&quot; in window; // Support: Firefox &lt;=44 // Firefox doesn't have focus(in | out) events // Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787 // // Support: Chrome &lt;=48 - 49, Safari &lt;=9.0 - 9.1 // focus(in | out) events fire after focus &amp; blur events, // which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order // Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857 if ( !support.focusin ) { jQuery.each( { focus: &quot;focusin&quot;, blur: &quot;focusout&quot; }, function( orig, fix ) { // Attach a single capturing handler on the document while someone wants focusin/focusout var handler = function( event ) { jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) ); }; jQuery.event.special[ fix ] = { setup: function() { var doc = this.ownerDocument || this, attaches = dataPriv.access( doc, fix ); if ( !attaches ) { doc.addEventListener( orig, handler, true ); } dataPriv.access( doc, fix, ( attaches || 0 ) + 1 ); }, teardown: function() { var doc = this.ownerDocument || this, attaches = dataPriv.access( doc, fix ) - 1; if ( !attaches ) { doc.removeEventListener( orig, handler, true ); dataPriv.remove( doc, fix ); } else { dataPriv.access( doc, fix, attaches ); } } }; } ); } var location = window.location; var nonce = jQuery.now(); var rquery = ( /\\?/ ); // Cross-browser xml parsing jQuery.parseXML = function( data ) { var xml; if ( !data || typeof data !== &quot;string&quot; ) { return null; } // Support: IE 9 - 11 only // IE throws on parseFromString with invalid input. try { xml = ( new window.DOMParser() ).parseFromString( data, &quot;text/xml&quot; ); } catch ( e ) { xml = undefined; } if ( !xml || xml.getElementsByTagName( &quot;parsererror&quot; ).length ) { jQuery.error( &quot;Invalid XML: &quot; + data ); } return xml; }; var rbracket = /\\[\\]$/, rCRLF = /\\r?\\n/g, rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i, rsubmittable = /^(?:input|select|textarea|keygen)/i; function buildParams( prefix, obj, traditional, add ) { var name; if ( Array.isArray( obj ) ) { // Serialize array item. jQuery.each( obj, function( i, v ) { if ( traditional || rbracket.test( prefix ) ) { // Treat each array item as a scalar. add( prefix, v ); } else { // Item is non-scalar (array or object), encode its numeric index. buildParams( prefix + &quot;[&quot; + ( typeof v === &quot;object&quot; &amp;&amp; v != null ? i : &quot;&quot; ) + &quot;]&quot;, v, traditional, add ); } } ); } else if ( !traditional &amp;&amp; jQuery.type( obj ) === &quot;object&quot; ) { // Serialize object item. for ( name in obj ) { buildParams( prefix + &quot;[&quot; + name + &quot;]&quot;, obj[ name ], traditional, add ); } } else { // Serialize scalar item. add( prefix, obj ); } } // Serialize an array of form elements or a set of // key/values into a query string jQuery.param = function( a, traditional ) { var prefix, s = [], add = function( key, valueOrFunction ) { // If value is a function, invoke it and use its return value var value = jQuery.isFunction( valueOrFunction ) ? valueOrFunction() : valueOrFunction; s[ s.length ] = encodeURIComponent( key ) + &quot;=&quot; + encodeURIComponent( value == null ? &quot;&quot; : value ); }; // If an array was passed in, assume that it is an array of form elements. if ( Array.isArray( a ) || ( a.jquery &amp;&amp; !jQuery.isPlainObject( a ) ) ) { // Serialize the form elements jQuery.each( a, function() { add( this.name, this.value ); } ); } else { // If traditional, encode the &quot;old&quot; way (the way 1.3.2 or older // did it), otherwise encode params recursively. for ( prefix in a ) { buildParams( prefix, a[ prefix ], traditional, add ); } } // Return the resulting serialization return s.join( &quot;&amp;&quot; ); }; jQuery.fn.extend( { serialize: function() { return jQuery.param( this.serializeArray() ); }, serializeArray: function() { return this.map( function() { // Can add propHook for &quot;elements&quot; to filter or add form elements var elements = jQuery.prop( this, &quot;elements&quot; ); return elements ? jQuery.makeArray( elements ) : this; } ) .filter( function() { var type = this.type; // Use .is( &quot;:disabled&quot; ) so that fieldset[disabled] works return this.name &amp;&amp; !jQuery( this ).is( &quot;:disabled&quot; ) &amp;&amp; rsubmittable.test( this.nodeName ) &amp;&amp; !rsubmitterTypes.test( type ) &amp;&amp; ( this.checked || !rcheckableType.test( type ) ); } ) .map( function( i, elem ) { var val = jQuery( this ).val(); if ( val == null ) { return null; } if ( Array.isArray( val ) ) { return jQuery.map( val, function( val ) { return { name: elem.name, value: val.replace( rCRLF, &quot;\\r\\n&quot; ) }; } ); } return { name: elem.name, value: val.replace( rCRLF, &quot;\\r\\n&quot; ) }; } ).get(); } } ); var r20 = /%20/g, rhash = /#.*$/, rantiCache = /([?&amp;])_=[^&amp;]*/, rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg, // #7653, #8125, #8152: local protocol detection rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, rnoContent = /^(?:GET|HEAD)$/, rprotocol = /^\\/\\//, /* Prefilters * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example) * 2) These are called: * - BEFORE asking for a transport * - AFTER param serialization (s.data is a string if s.processData is true) * 3) key is the dataType * 4) the catchall symbol &quot;*&quot; can be used * 5) execution will start with transport dataType and THEN continue down to &quot;*&quot; if needed */ prefilters = {}, /* Transports bindings * 1) key is the dataType * 2) the catchall symbol &quot;*&quot; can be used * 3) selection will start with transport dataType and THEN go to &quot;*&quot; if needed */ transports = {}, // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression allTypes = &quot;*/&quot;.concat( &quot;*&quot; ), // Anchor tag for parsing the document origin originAnchor = document.createElement( &quot;a&quot; ); originAnchor.href = location.href; // Base &quot;constructor&quot; for jQuery.ajaxPrefilter and jQuery.ajaxTransport function addToPrefiltersOrTransports( structure ) { // dataTypeExpression is optional and defaults to &quot;*&quot; return function( dataTypeExpression, func ) { if ( typeof dataTypeExpression !== &quot;string&quot; ) { func = dataTypeExpression; dataTypeExpression = &quot;*&quot;; } var dataType, i = 0, dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || []; if ( jQuery.isFunction( func ) ) { // For each dataType in the dataTypeExpression while ( ( dataType = dataTypes[ i++ ] ) ) { // Prepend if requested if ( dataType[ 0 ] === &quot;+&quot; ) { dataType = dataType.slice( 1 ) || &quot;*&quot;; ( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func ); // Otherwise append } else { ( structure[ dataType ] = structure[ dataType ] || [] ).push( func ); } } } }; } // Base inspection function for prefilters and transports function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) { var inspected = {}, seekingTransport = ( structure === transports ); function inspect( dataType ) { var selected; inspected[ dataType ] = true; jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) { var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR ); if ( typeof dataTypeOrTransport === &quot;string&quot; &amp;&amp; !seekingTransport &amp;&amp; !inspected[ dataTypeOrTransport ] ) { options.dataTypes.unshift( dataTypeOrTransport ); inspect( dataTypeOrTransport ); return false; } else if ( seekingTransport ) { return !( selected = dataTypeOrTransport ); } } ); return selected; } return inspect( options.dataTypes[ 0 ] ) || !inspected[ &quot;*&quot; ] &amp;&amp; inspect( &quot;*&quot; ); } // A special extend for ajax options // that takes &quot;flat&quot; options (not to be deep extended) // Fixes #9887 function ajaxExtend( target, src ) { var key, deep, flatOptions = jQuery.ajaxSettings.flatOptions || {}; for ( key in src ) { if ( src[ key ] !== undefined ) { ( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ]; } } if ( deep ) { jQuery.extend( true, target, deep ); } return target; } /* Handles responses to an ajax request: * - finds the right dataType (mediates between content-type and expected dataType) * - returns the corresponding response */ function ajaxHandleResponses( s, jqXHR, responses ) { var ct, type, finalDataType, firstDataType, contents = s.contents, dataTypes = s.dataTypes; // Remove auto dataType and get content-type in the process while ( dataTypes[ 0 ] === &quot;*&quot; ) { dataTypes.shift(); if ( ct === undefined ) { ct = s.mimeType || jqXHR.getResponseHeader( &quot;Content-Type&quot; ); } } // Check if we're dealing with a known content-type if ( ct ) { for ( type in contents ) { if ( contents[ type ] &amp;&amp; contents[ type ].test( ct ) ) { dataTypes.unshift( type ); break; } } } // Check to see if we have a response for the expected dataType if ( dataTypes[ 0 ] in responses ) { finalDataType = dataTypes[ 0 ]; } else { // Try convertible dataTypes for ( type in responses ) { if ( !dataTypes[ 0 ] || s.converters[ type + &quot; &quot; + dataTypes[ 0 ] ] ) { finalDataType = type; break; } if ( !firstDataType ) { firstDataType = type; } } // Or just use first one finalDataType = finalDataType || firstDataType; } // If we found a dataType // We add the dataType to the list if needed // and return the corresponding response if ( finalDataType ) { if ( finalDataType !== dataTypes[ 0 ] ) { dataTypes.unshift( finalDataType ); } return responses[ finalDataType ]; } } /* Chain conversions given the request and the original response * Also sets the responseXXX fields on the jqXHR instance */ function ajaxConvert( s, response, jqXHR, isSuccess ) { var conv2, current, conv, tmp, prev, converters = {}, // Work with a copy of dataTypes in case we need to modify it for conversion dataTypes = s.dataTypes.slice(); // Create converters map with lowercased keys if ( dataTypes[ 1 ] ) { for ( conv in s.converters ) { converters[ conv.toLowerCase() ] = s.converters[ conv ]; } } current = dataTypes.shift(); // Convert to each sequential dataType while ( current ) { if ( s.responseFields[ current ] ) { jqXHR[ s.responseFields[ current ] ] = response; } // Apply the dataFilter if provided if ( !prev &amp;&amp; isSuccess &amp;&amp; s.dataFilter ) { response = s.dataFilter( response, s.dataType ); } prev = current; current = dataTypes.shift(); if ( current ) { // There's only work to do if current dataType is non-auto if ( current === &quot;*&quot; ) { current = prev; // Convert response if prev dataType is non-auto and differs from current } else if ( prev !== &quot;*&quot; &amp;&amp; prev !== current ) { // Seek a direct converter conv = converters[ prev + &quot; &quot; + current ] || converters[ &quot;* &quot; + current ]; // If none found, seek a pair if ( !conv ) { for ( conv2 in converters ) { // If conv2 outputs current tmp = conv2.split( &quot; &quot; ); if ( tmp[ 1 ] === current ) { // If prev can be converted to accepted input conv = converters[ prev + &quot; &quot; + tmp[ 0 ] ] || converters[ &quot;* &quot; + tmp[ 0 ] ]; if ( conv ) { // Condense equivalence converters if ( conv === true ) { conv = converters[ conv2 ]; // Otherwise, insert the intermediate dataType } else if ( converters[ conv2 ] !== true ) { current = tmp[ 0 ]; dataTypes.unshift( tmp[ 1 ] ); } break; } } } } // Apply converter (if not an equivalence) if ( conv !== true ) { // Unless errors are allowed to bubble, catch and return them if ( conv &amp;&amp; s.throws ) { response = conv( response ); } else { try { response = conv( response ); } catch ( e ) { return { state: &quot;parsererror&quot;, error: conv ? e : &quot;No conversion from &quot; + prev + &quot; to &quot; + current }; } } } } } } return { state: &quot;success&quot;, data: response }; } jQuery.extend( { // Counter for holding the number of active queries active: 0, // Last-Modified header cache for next request lastModified: {}, etag: {}, ajaxSettings: { url: location.href, type: &quot;GET&quot;, isLocal: rlocalProtocol.test( location.protocol ), global: true, processData: true, async: true, contentType: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;, /* timeout: 0, data: null, dataType: null, username: null, password: null, cache: null, throws: false, traditional: false, headers: {}, */ accepts: { &quot;*&quot;: allTypes, text: &quot;text/plain&quot;, html: &quot;text/html&quot;, xml: &quot;application/xml, text/xml&quot;, json: &quot;application/json, text/javascript&quot; }, contents: { xml: /\\bxml\\b/, html: /\\bhtml/, json: /\\bjson\\b/ }, responseFields: { xml: &quot;responseXML&quot;, text: &quot;responseText&quot;, json: &quot;responseJSON&quot; }, // Data converters // Keys separate source (or catchall &quot;*&quot;) and destination types with a single space converters: { // Convert anything to text &quot;* text&quot;: String, // Text to html (true = no transformation) &quot;text html&quot;: true, // Evaluate text as a json expression &quot;text json&quot;: JSON.parse, // Parse text as xml &quot;text xml&quot;: jQuery.parseXML }, // For options that shouldn't be deep extended: // you can add your own custom options here if // and when you create one that shouldn't be // deep extended (see ajaxExtend) flatOptions: { url: true, context: true } }, // Creates a full fledged settings object into target // with both ajaxSettings and settings fields. // If target is omitted, writes into ajaxSettings. ajaxSetup: function( target, settings ) { return settings ? // Building a settings object ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) : // Extending ajaxSettings ajaxExtend( jQuery.ajaxSettings, target ); }, ajaxPrefilter: addToPrefiltersOrTransports( prefilters ), ajaxTransport: addToPrefiltersOrTransports( transports ), // Main method ajax: function( url, options ) { // If url is an object, simulate pre-1.5 signature if ( typeof url === &quot;object&quot; ) { options = url; url = undefined; } // Force options to be an object options = options || {}; var transport, // URL without anti-cache param cacheURL, // Response headers responseHeadersString, responseHeaders, // timeout handle timeoutTimer, // Url cleanup var urlAnchor, // Request state (becomes false upon send and true upon completion) completed, // To know if global events are to be dispatched fireGlobals, // Loop variable i, // uncached part of the url uncached, // Create the final options object s = jQuery.ajaxSetup( {}, options ), // Callbacks context callbackContext = s.context || s, // Context for global events is callbackContext if it is a DOM node or jQuery collection globalEventContext = s.context &amp;&amp; ( callbackContext.nodeType || callbackContext.jquery ) ? jQuery( callbackContext ) : jQuery.event, // Deferreds deferred = jQuery.Deferred(), completeDeferred = jQuery.Callbacks( &quot;once memory&quot; ), // Status-dependent callbacks statusCode = s.statusCode || {}, // Headers (they are sent all at once) requestHeaders = {}, requestHeadersNames = {}, // Default abort message strAbort = &quot;canceled&quot;, // Fake xhr jqXHR = { readyState: 0, // Builds headers hashtable if needed getResponseHeader: function( key ) { var match; if ( completed ) { if ( !responseHeaders ) { responseHeaders = {}; while ( ( match = rheaders.exec( responseHeadersString ) ) ) { responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ]; } } match = responseHeaders[ key.toLowerCase() ]; } return match == null ? null : match; }, // Raw string getAllResponseHeaders: function() { return completed ? responseHeadersString : null; }, // Caches the header setRequestHeader: function( name, value ) { if ( completed == null ) { name = requestHeadersNames[ name.toLowerCase() ] = requestHeadersNames[ name.toLowerCase() ] || name; requestHeaders[ name ] = value; } return this; }, // Overrides response content-type header overrideMimeType: function( type ) { if ( completed == null ) { s.mimeType = type; } return this; }, // Status-dependent callbacks statusCode: function( map ) { var code; if ( map ) { if ( completed ) { // Execute the appropriate callbacks jqXHR.always( map[ jqXHR.status ] ); } else { // Lazy-add the new callbacks in a way that preserves old ones for ( code in map ) { statusCode[ code ] = [ statusCode[ code ], map[ code ] ]; } } } return this; }, // Cancel the request abort: function( statusText ) { var finalText = statusText || strAbort; if ( transport ) { transport.abort( finalText ); } done( 0, finalText ); return this; } }; // Attach deferreds deferred.promise( jqXHR ); // Add protocol if not provided (prefilters might expect it) // Handle falsy url in the settings object (#10093: consistency with old signature) // We also use the url parameter if available s.url = ( ( url || s.url || location.href ) + &quot;&quot; ) .replace( rprotocol, location.protocol + &quot;//&quot; ); // Alias method option to type as per ticket #12004 s.type = options.method || options.type || s.method || s.type; // Extract dataTypes list s.dataTypes = ( s.dataType || &quot;*&quot; ).toLowerCase().match( rnothtmlwhite ) || [ &quot;&quot; ]; // A cross-domain request is in order when the origin doesn't match the current origin. if ( s.crossDomain == null ) { urlAnchor = document.createElement( &quot;a&quot; ); // Support: IE &lt;=8 - 11, Edge 12 - 13 // IE throws exception on accessing the href property if url is malformed, // e.g. http://example.com:80x/ try { urlAnchor.href = s.url; // Support: IE &lt;=8 - 11 only // Anchor's host property isn't correctly set when s.url is relative urlAnchor.href = urlAnchor.href; s.crossDomain = originAnchor.protocol + &quot;//&quot; + originAnchor.host !== urlAnchor.protocol + &quot;//&quot; + urlAnchor.host; } catch ( e ) { // If there is an error parsing the URL, assume it is crossDomain, // it can be rejected by the transport if it is invalid s.crossDomain = true; } } // Convert data if not already a string if ( s.data &amp;&amp; s.processData &amp;&amp; typeof s.data !== &quot;string&quot; ) { s.data = jQuery.param( s.data, s.traditional ); } // Apply prefilters inspectPrefiltersOrTransports( prefilters, s, options, jqXHR ); // If request was aborted inside a prefilter, stop there if ( completed ) { return jqXHR; } // We can fire global events as of now if asked to // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118) fireGlobals = jQuery.event &amp;&amp; s.global; // Watch for a new set of requests if ( fireGlobals &amp;&amp; jQuery.active++ === 0 ) { jQuery.event.trigger( &quot;ajaxStart&quot; ); } // Uppercase the type s.type = s.type.toUpperCase(); // Determine if request has content s.hasContent = !rnoContent.test( s.type ); // Save the URL in case we're toying with the If-Modified-Since // and/or If-None-Match header later on // Remove hash to simplify url manipulation cacheURL = s.url.replace( rhash, &quot;&quot; ); // More options handling for requests with no content if ( !s.hasContent ) { // Remember the hash so we can put it back uncached = s.url.slice( cacheURL.length ); // If data is available, append data to url if ( s.data ) { cacheURL += ( rquery.test( cacheURL ) ? &quot;&amp;&quot; : &quot;?&quot; ) + s.data; // #9682: remove data so that it's not used in an eventual retry delete s.data; } // Add or update anti-cache param if needed if ( s.cache === false ) { cacheURL = cacheURL.replace( rantiCache, &quot;$1&quot; ); uncached = ( rquery.test( cacheURL ) ? &quot;&amp;&quot; : &quot;?&quot; ) + &quot;_=&quot; + ( nonce++ ) + uncached; } // Put hash and anti-cache on the URL that will be requested (gh-1732) s.url = cacheURL + uncached; // Change '%20' to '+' if this is encoded form body content (gh-2658) } else if ( s.data &amp;&amp; s.processData &amp;&amp; ( s.contentType || &quot;&quot; ).indexOf( &quot;application/x-www-form-urlencoded&quot; ) === 0 ) { s.data = s.data.replace( r20, &quot;+&quot; ); } // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode. if ( s.ifModified ) { if ( jQuery.lastModified[ cacheURL ] ) { jqXHR.setRequestHeader( &quot;If-Modified-Since&quot;, jQuery.lastModified[ cacheURL ] ); } if ( jQuery.etag[ cacheURL ] ) { jqXHR.setRequestHeader( &quot;If-None-Match&quot;, jQuery.etag[ cacheURL ] ); } } // Set the correct header, if data is being sent if ( s.data &amp;&amp; s.hasContent &amp;&amp; s.contentType !== false || options.contentType ) { jqXHR.setRequestHeader( &quot;Content-Type&quot;, s.contentType ); } // Set the Accepts header for the server, depending on the dataType jqXHR.setRequestHeader( &quot;Accept&quot;, s.dataTypes[ 0 ] &amp;&amp; s.accepts[ s.dataTypes[ 0 ] ] ? s.accepts[ s.dataTypes[ 0 ] ] + ( s.dataTypes[ 0 ] !== &quot;*&quot; ? &quot;, &quot; + allTypes + &quot;; q=0.01&quot; : &quot;&quot; ) : s.accepts[ &quot;*&quot; ] ); // Check for headers option for ( i in s.headers ) { jqXHR.setRequestHeader( i, s.headers[ i ] ); } // Allow custom headers/mimetypes and early abort if ( s.beforeSend &amp;&amp; ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) { // Abort if not done already and return return jqXHR.abort(); } // Aborting is no longer a cancellation strAbort = &quot;abort&quot;; // Install callbacks on deferreds completeDeferred.add( s.complete ); jqXHR.done( s.success ); jqXHR.fail( s.error ); // Get transport transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR ); // If no transport, we auto-abort if ( !transport ) { done( -1, &quot;No Transport&quot; ); } else { jqXHR.readyState = 1; // Send global event if ( fireGlobals ) { globalEventContext.trigger( &quot;ajaxSend&quot;, [ jqXHR, s ] ); } // If request was aborted inside ajaxSend, stop there if ( completed ) { return jqXHR; } // Timeout if ( s.async &amp;&amp; s.timeout &gt; 0 ) { timeoutTimer = window.setTimeout( function() { jqXHR.abort( &quot;timeout&quot; ); }, s.timeout ); } try { completed = false; transport.send( requestHeaders, done ); } catch ( e ) { // Rethrow post-completion exceptions if ( completed ) { throw e; } // Propagate others as results done( -1, e ); } } // Callback for when everything is done function done( status, nativeStatusText, responses, headers ) { var isSuccess, success, error, response, modified, statusText = nativeStatusText; // Ignore repeat invocations if ( completed ) { return; } completed = true; // Clear timeout if it exists if ( timeoutTimer ) { window.clearTimeout( timeoutTimer ); } // Dereference transport for early garbage collection // (no matter how long the jqXHR object will be used) transport = undefined; // Cache response headers responseHeadersString = headers || &quot;&quot;; // Set readyState jqXHR.readyState = status &gt; 0 ? 4 : 0; // Determine if successful isSuccess = status &gt;= 200 &amp;&amp; status &lt; 300 || status === 304; // Get response data if ( responses ) { response = ajaxHandleResponses( s, jqXHR, responses ); } // Convert no matter what (that way responseXXX fields are always set) response = ajaxConvert( s, response, jqXHR, isSuccess ); // If successful, handle type chaining if ( isSuccess ) { // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode. if ( s.ifModified ) { modified = jqXHR.getResponseHeader( &quot;Last-Modified&quot; ); if ( modified ) { jQuery.lastModified[ cacheURL ] = modified; } modified = jqXHR.getResponseHeader( &quot;etag&quot; ); if ( modified ) { jQuery.etag[ cacheURL ] = modified; } } // if no content if ( status === 204 || s.type === &quot;HEAD&quot; ) { statusText = &quot;nocontent&quot;; // if not modified } else if ( status === 304 ) { statusText = &quot;notmodified&quot;; // If we have data, let's convert it } else { statusText = response.state; success = response.data; error = response.error; isSuccess = !error; } } else { // Extract error from statusText and normalize for non-aborts error = statusText; if ( status || !statusText ) { statusText = &quot;error&quot;; if ( status &lt; 0 ) { status = 0; } } } // Set data for the fake xhr object jqXHR.status = status; jqXHR.statusText = ( nativeStatusText || statusText ) + &quot;&quot;; // Success/Error if ( isSuccess ) { deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] ); } else { deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] ); } // Status-dependent callbacks jqXHR.statusCode( statusCode ); statusCode = undefined; if ( fireGlobals ) { globalEventContext.trigger( isSuccess ? &quot;ajaxSuccess&quot; : &quot;ajaxError&quot;, [ jqXHR, s, isSuccess ? success : error ] ); } // Complete completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] ); if ( fireGlobals ) { globalEventContext.trigger( &quot;ajaxComplete&quot;, [ jqXHR, s ] ); // Handle the global AJAX counter if ( !( --jQuery.active ) ) { jQuery.event.trigger( &quot;ajaxStop&quot; ); } } } return jqXHR; }, getJSON: function( url, data, callback ) { return jQuery.get( url, data, callback, &quot;json&quot; ); }, getScript: function( url, callback ) { return jQuery.get( url, undefined, callback, &quot;script&quot; ); } } ); jQuery.each( [ &quot;get&quot;, &quot;post&quot; ], function( i, method ) { jQuery[ method ] = function( url, data, callback, type ) { // Shift arguments if data argument was omitted if ( jQuery.isFunction( data ) ) { type = type || callback; callback = data; data = undefined; } // The url can be an options object (which then must have .url) return jQuery.ajax( jQuery.extend( { url: url, type: method, dataType: type, data: data, success: callback }, jQuery.isPlainObject( url ) &amp;&amp; url ) ); }; } ); jQuery._evalUrl = function( url ) { return jQuery.ajax( { url: url, // Make this explicit, since user can override this through ajaxSetup (#11264) type: &quot;GET&quot;, dataType: &quot;script&quot;, cache: true, async: false, global: false, &quot;throws&quot;: true } ); }; jQuery.fn.extend( { wrapAll: function( html ) { var wrap; if ( this[ 0 ] ) { if ( jQuery.isFunction( html ) ) { html = html.call( this[ 0 ] ); } // The elements to wrap the target around wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true ); if ( this[ 0 ].parentNode ) { wrap.insertBefore( this[ 0 ] ); } wrap.map( function() { var elem = this; while ( elem.firstElementChild ) { elem = elem.firstElementChild; } return elem; } ).append( this ); } return this; }, wrapInner: function( html ) { if ( jQuery.isFunction( html ) ) { return this.each( function( i ) { jQuery( this ).wrapInner( html.call( this, i ) ); } ); } return this.each( function() { var self = jQuery( this ), contents = self.contents(); if ( contents.length ) { contents.wrapAll( html ); } else { self.append( html ); } } ); }, wrap: function( html ) { var isFunction = jQuery.isFunction( html ); return this.each( function( i ) { jQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html ); } ); }, unwrap: function( selector ) { this.parent( selector ).not( &quot;body&quot; ).each( function() { jQuery( this ).replaceWith( this.childNodes ); } ); return this; } } ); jQuery.expr.pseudos.hidden = function( elem ) { return !jQuery.expr.pseudos.visible( elem ); }; jQuery.expr.pseudos.visible = function( elem ) { return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length ); }; jQuery.ajaxSettings.xhr = function() { try { return new window.XMLHttpRequest(); } catch ( e ) {} }; var xhrSuccessStatus = { // File protocol always yields status code 0, assume 200 0: 200, // Support: IE &lt;=9 only // #1450: sometimes IE returns 1223 when it should be 204 1223: 204 }, xhrSupported = jQuery.ajaxSettings.xhr(); support.cors = !!xhrSupported &amp;&amp; ( &quot;withCredentials&quot; in xhrSupported ); support.ajax = xhrSupported = !!xhrSupported; jQuery.ajaxTransport( function( options ) { var callback, errorCallback; // Cross domain only allowed if supported through XMLHttpRequest if ( support.cors || xhrSupported &amp;&amp; !options.crossDomain ) { return { send: function( headers, complete ) { var i, xhr = options.xhr(); xhr.open( options.type, options.url, options.async, options.username, options.password ); // Apply custom fields if provided if ( options.xhrFields ) { for ( i in options.xhrFields ) { xhr[ i ] = options.xhrFields[ i ]; } } // Override mime type if needed if ( options.mimeType &amp;&amp; xhr.overrideMimeType ) { xhr.overrideMimeType( options.mimeType ); } // X-Requested-With header // For cross-domain requests, seeing as conditions for a preflight are // akin to a jigsaw puzzle, we simply never set it to be sure. // (it can always be set on a per-request basis or even using ajaxSetup) // For same-domain requests, won't change header if already provided. if ( !options.crossDomain &amp;&amp; !headers[ &quot;X-Requested-With&quot; ] ) { headers[ &quot;X-Requested-With&quot; ] = &quot;XMLHttpRequest&quot;; } // Set headers for ( i in headers ) { xhr.setRequestHeader( i, headers[ i ] ); } // Callback callback = function( type ) { return function() { if ( callback ) { callback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = null; if ( type === &quot;abort&quot; ) { xhr.abort(); } else if ( type === &quot;error&quot; ) { // Support: IE &lt;=9 only // On a manual native abort, IE9 throws // errors on any property access that is not readyState if ( typeof xhr.status !== &quot;number&quot; ) { complete( 0, &quot;error&quot; ); } else { complete( // File: protocol always yields status 0; see #8605, #14207 xhr.status, xhr.statusText ); } } else { complete( xhrSuccessStatus[ xhr.status ] || xhr.status, xhr.statusText, // Support: IE &lt;=9 only // IE9 has no XHR2 but throws on binary (trac-11426) // For XHR2 non-text, let the caller handle it (gh-2498) ( xhr.responseType || &quot;text&quot; ) !== &quot;text&quot; || typeof xhr.responseText !== &quot;string&quot; ? { binary: xhr.response } : { text: xhr.responseText }, xhr.getAllResponseHeaders() ); } } }; }; // Listen to events xhr.onload = callback(); errorCallback = xhr.onerror = callback( &quot;error&quot; ); // Support: IE 9 only // Use onreadystatechange to replace onabort // to handle uncaught aborts if ( xhr.onabort !== undefined ) { xhr.onabort = errorCallback; } else { xhr.onreadystatechange = function() { // Check readyState before timeout as it changes if ( xhr.readyState === 4 ) { // Allow onerror to be called first, // but that will not handle a native abort // Also, save errorCallback to a variable // as xhr.onerror cannot be accessed window.setTimeout( function() { if ( callback ) { errorCallback(); } } ); } }; } // Create the abort callback callback = callback( &quot;abort&quot; ); try { // Do send the request (this may raise an exception) xhr.send( options.hasContent &amp;&amp; options.data || null ); } catch ( e ) { // #14683: Only rethrow if this hasn't been notified as an error yet if ( callback ) { throw e; } } }, abort: function() { if ( callback ) { callback(); } } }; } } ); // Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432) jQuery.ajaxPrefilter( function( s ) { if ( s.crossDomain ) { s.contents.script = false; } } ); // Install script dataType jQuery.ajaxSetup( { accepts: { script: &quot;text/javascript, application/javascript, &quot; + &quot;application/ecmascript, application/x-ecmascript&quot; }, contents: { script: /\\b(?:java|ecma)script\\b/ }, converters: { &quot;text script&quot;: function( text ) { jQuery.globalEval( text ); return text; } } } ); // Handle cache's special case and crossDomain jQuery.ajaxPrefilter( &quot;script&quot;, function( s ) { if ( s.cache === undefined ) { s.cache = false; } if ( s.crossDomain ) { s.type = &quot;GET&quot;; } } ); // Bind script tag hack transport jQuery.ajaxTransport( &quot;script&quot;, function( s ) { // This transport only deals with cross domain requests if ( s.crossDomain ) { var script, callback; return { send: function( _, complete ) { script = jQuery( &quot;&lt;script&gt;&quot; ).prop( { charset: s.scriptCharset, src: s.url } ).on( &quot;load error&quot;, callback = function( evt ) { script.remove(); callback = null; if ( evt ) { complete( evt.type === &quot;error&quot; ? 404 : 200, evt.type ); } } ); // Use native DOM manipulation to avoid our domManip AJAX trickery document.head.appendChild( script[ 0 ] ); }, abort: function() { if ( callback ) { callback(); } } }; } } ); var oldCallbacks = [], rjsonp = /(=)\\?(?=&amp;|$)|\\?\\?/; // Default jsonp settings jQuery.ajaxSetup( { jsonp: &quot;callback&quot;, jsonpCallback: function() { var callback = oldCallbacks.pop() || ( jQuery.expando + &quot;_&quot; + ( nonce++ ) ); this[ callback ] = true; return callback; } } ); // Detect, normalize options and install callbacks for jsonp requests jQuery.ajaxPrefilter( &quot;json jsonp&quot;, function( s, originalSettings, jqXHR ) { var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false &amp;&amp; ( rjsonp.test( s.url ) ? &quot;url&quot; : typeof s.data === &quot;string&quot; &amp;&amp; ( s.contentType || &quot;&quot; ) .indexOf( &quot;application/x-www-form-urlencoded&quot; ) === 0 &amp;&amp; rjsonp.test( s.data ) &amp;&amp; &quot;data&quot; ); // Handle iff the expected data type is &quot;jsonp&quot; or we have a parameter to set if ( jsonProp || s.dataTypes[ 0 ] === &quot;jsonp&quot; ) { // Get callback name, remembering preexisting value associated with it callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ? s.jsonpCallback() : s.jsonpCallback; // Insert callback into url or form data if ( jsonProp ) { s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, &quot;$1&quot; + callbackName ); } else if ( s.jsonp !== false ) { s.url += ( rquery.test( s.url ) ? &quot;&amp;&quot; : &quot;?&quot; ) + s.jsonp + &quot;=&quot; + callbackName; } // Use data converter to retrieve json after script execution s.converters[ &quot;script json&quot; ] = function() { if ( !responseContainer ) { jQuery.error( callbackName + &quot; was not called&quot; ); } return responseContainer[ 0 ]; }; // Force json dataType s.dataTypes[ 0 ] = &quot;json&quot;; // Install callback overwritten = window[ callbackName ]; window[ callbackName ] = function() { responseContainer = arguments; }; // Clean-up function (fires after converters) jqXHR.always( function() { // If previous value didn't exist - remove it if ( overwritten === undefined ) { jQuery( window ).removeProp( callbackName ); // Otherwise restore preexisting value } else { window[ callbackName ] = overwritten; } // Save back as free if ( s[ callbackName ] ) { // Make sure that re-using the options doesn't screw things around s.jsonpCallback = originalSettings.jsonpCallback; // Save the callback name for future use oldCallbacks.push( callbackName ); } // Call if it was a function and we have a response if ( responseContainer &amp;&amp; jQuery.isFunction( overwritten ) ) { overwritten( responseContainer[ 0 ] ); } responseContainer = overwritten = undefined; } ); // Delegate to script return &quot;script&quot;; } } ); // Support: Safari 8 only // In Safari 8 documents created via document.implementation.createHTMLDocument // collapse sibling forms: the second one becomes a child of the first one. // Because of that, this security measure has to be disabled in Safari 8. // https://bugs.webkit.org/show_bug.cgi?id=137337 support.createHTMLDocument = ( function() { var body = document.implementation.createHTMLDocument( &quot;&quot; ).body; body.innerHTML = &quot;&lt;form&gt;&lt;/form&gt;&lt;form&gt;&lt;/form&gt;&quot;; return body.childNodes.length === 2; } )(); // Argument &quot;data&quot; should be string of html // context (optional): If specified, the fragment will be created in this context, // defaults to document // keepScripts (optional): If true, will include scripts passed in the html string jQuery.parseHTML = function( data, context, keepScripts ) { if ( typeof data !== &quot;string&quot; ) { return []; } if ( typeof context === &quot;boolean&quot; ) { keepScripts = context; context = false; } var base, parsed, scripts; if ( !context ) { // Stop scripts or inline event handlers from being executed immediately // by using document.implementation if ( support.createHTMLDocument ) { context = document.implementation.createHTMLDocument( &quot;&quot; ); // Set the base href for the created document // so any parsed elements with URLs // are based on the document's URL (gh-2965) base = context.createElement( &quot;base&quot; ); base.href = document.location.href; context.head.appendChild( base ); } else { context = document; } } parsed = rsingleTag.exec( data ); scripts = !keepScripts &amp;&amp; []; // Single tag if ( parsed ) { return [ context.createElement( parsed[ 1 ] ) ]; } parsed = buildFragment( [ data ], context, scripts ); if ( scripts &amp;&amp; scripts.length ) { jQuery( scripts ).remove(); } return jQuery.merge( [], parsed.childNodes ); }; /** * Load a url into a page */ jQuery.fn.load = function( url, params, callback ) { var selector, type, response, self = this, off = url.indexOf( &quot; &quot; ); if ( off &gt; -1 ) { selector = stripAndCollapse( url.slice( off ) ); url = url.slice( 0, off ); } // If it's a function if ( jQuery.isFunction( params ) ) { // We assume that it's the callback callback = params; params = undefined; // Otherwise, build a param string } else if ( params &amp;&amp; typeof params === &quot;object&quot; ) { type = &quot;POST&quot;; } // If we have elements to modify, make the request if ( self.length &gt; 0 ) { jQuery.ajax( { url: url, // If &quot;type&quot; variable is undefined, then &quot;GET&quot; method will be used. // Make value of this field explicit since // user can override it through ajaxSetup method type: type || &quot;GET&quot;, dataType: &quot;html&quot;, data: params } ).done( function( responseText ) { // Save response for use in complete callback response = arguments; self.html( selector ? // If a selector was specified, locate the right elements in a dummy div // Exclude scripts to avoid IE 'Permission Denied' errors jQuery( &quot;&lt;div&gt;&quot; ).append( jQuery.parseHTML( responseText ) ).find( selector ) : // Otherwise use the full result responseText ); // If the request succeeds, this function gets &quot;data&quot;, &quot;status&quot;, &quot;jqXHR&quot; // but they are ignored because response was set above. // If it fails, this function gets &quot;jqXHR&quot;, &quot;status&quot;, &quot;error&quot; } ).always( callback &amp;&amp; function( jqXHR, status ) { self.each( function() { callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] ); } ); } ); } return this; }; // Attach a bunch of functions for handling common AJAX events jQuery.each( [ &quot;ajaxStart&quot;, &quot;ajaxStop&quot;, &quot;ajaxComplete&quot;, &quot;ajaxError&quot;, &quot;ajaxSuccess&quot;, &quot;ajaxSend&quot; ], function( i, type ) { jQuery.fn[ type ] = function( fn ) { return this.on( type, fn ); }; } ); jQuery.expr.pseudos.animated = function( elem ) { return jQuery.grep( jQuery.timers, function( fn ) { return elem === fn.elem; } ).length; }; jQuery.offset = { setOffset: function( elem, options, i ) { var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css( elem, &quot;position&quot; ), curElem = jQuery( elem ), props = {}; // Set position first, in-case top/left are set even on static elem if ( position === &quot;static&quot; ) { elem.style.position = &quot;relative&quot;; } curOffset = curElem.offset(); curCSSTop = jQuery.css( elem, &quot;top&quot; ); curCSSLeft = jQuery.css( elem, &quot;left&quot; ); calculatePosition = ( position === &quot;absolute&quot; || position === &quot;fixed&quot; ) &amp;&amp; ( curCSSTop + curCSSLeft ).indexOf( &quot;auto&quot; ) &gt; -1; // Need to be able to calculate position if either // top or left is auto and position is either absolute or fixed if ( calculatePosition ) { curPosition = curElem.position(); curTop = curPosition.top; curLeft = curPosition.left; } else { curTop = parseFloat( curCSSTop ) || 0; curLeft = parseFloat( curCSSLeft ) || 0; } if ( jQuery.isFunction( options ) ) { // Use jQuery.extend here to allow modification of coordinates argument (gh-1848) options = options.call( elem, i, jQuery.extend( {}, curOffset ) ); } if ( options.top != null ) { props.top = ( options.top - curOffset.top ) + curTop; } if ( options.left != null ) { props.left = ( options.left - curOffset.left ) + curLeft; } if ( &quot;using&quot; in options ) { options.using.call( elem, props ); } else { curElem.css( props ); } } }; jQuery.fn.extend( { offset: function( options ) { // Preserve chaining for setter if ( arguments.length ) { return options === undefined ? this : this.each( function( i ) { jQuery.offset.setOffset( this, options, i ); } ); } var doc, docElem, rect, win, elem = this[ 0 ]; if ( !elem ) { return; } // Return zeros for disconnected and hidden (display: none) elements (gh-2310) // Support: IE &lt;=11 only // Running getBoundingClientRect on a // disconnected node in IE throws an error if ( !elem.getClientRects().length ) { return { top: 0, left: 0 }; } rect = elem.getBoundingClientRect(); doc = elem.ownerDocument; docElem = doc.documentElement; win = doc.defaultView; return { top: rect.top + win.pageYOffset - docElem.clientTop, left: rect.left + win.pageXOffset - docElem.clientLeft }; }, position: function() { if ( !this[ 0 ] ) { return; } var offsetParent, offset, elem = this[ 0 ], parentOffset = { top: 0, left: 0 }; // Fixed elements are offset from window (parentOffset = {top:0, left: 0}, // because it is its only offset parent if ( jQuery.css( elem, &quot;position&quot; ) === &quot;fixed&quot; ) { // Assume getBoundingClientRect is there when computed position is fixed offset = elem.getBoundingClientRect(); } else { // Get *real* offsetParent offsetParent = this.offsetParent(); // Get correct offsets offset = this.offset(); if ( !nodeName( offsetParent[ 0 ], &quot;html&quot; ) ) { parentOffset = offsetParent.offset(); } // Add offsetParent borders parentOffset = { top: parentOffset.top + jQuery.css( offsetParent[ 0 ], &quot;borderTopWidth&quot;, true ), left: parentOffset.left + jQuery.css( offsetParent[ 0 ], &quot;borderLeftWidth&quot;, true ) }; } // Subtract parent offsets and element margins return { top: offset.top - parentOffset.top - jQuery.css( elem, &quot;marginTop&quot;, true ), left: offset.left - parentOffset.left - jQuery.css( elem, &quot;marginLeft&quot;, true ) }; }, // This method will return documentElement in the following cases: // 1) For the element inside the iframe without offsetParent, this method will return // documentElement of the parent window // 2) For the hidden or detached element // 3) For body or html element, i.e. in case of the html node - it will return itself // // but those exceptions were never presented as a real life use-cases // and might be considered as more preferable results. // // This logic, however, is not guaranteed and can change at any point in the future offsetParent: function() { return this.map( function() { var offsetParent = this.offsetParent; while ( offsetParent &amp;&amp; jQuery.css( offsetParent, &quot;position&quot; ) === &quot;static&quot; ) { offsetParent = offsetParent.offsetParent; } return offsetParent || documentElement; } ); } } ); // Create scrollLeft and scrollTop methods jQuery.each( { scrollLeft: &quot;pageXOffset&quot;, scrollTop: &quot;pageYOffset&quot; }, function( method, prop ) { var top = &quot;pageYOffset&quot; === prop; jQuery.fn[ method ] = function( val ) { return access( this, function( elem, method, val ) { // Coalesce documents and windows var win; if ( jQuery.isWindow( elem ) ) { win = elem; } else if ( elem.nodeType === 9 ) { win = elem.defaultView; } if ( val === undefined ) { return win ? win[ prop ] : elem[ method ]; } if ( win ) { win.scrollTo( !top ? val : win.pageXOffset, top ? val : win.pageYOffset ); } else { elem[ method ] = val; } }, method, val, arguments.length ); }; } ); // Support: Safari &lt;=7 - 9.1, Chrome &lt;=37 - 49 // Add the top/left cssHooks using jQuery.fn.position // Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084 // Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347 // getComputedStyle returns percent when specified for top/left/bottom/right; // rather than make the css module depend on the offset module, just check for it here jQuery.each( [ &quot;top&quot;, &quot;left&quot; ], function( i, prop ) { jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition, function( elem, computed ) { if ( computed ) { computed = curCSS( elem, prop ); // If curCSS returns percentage, fallback to offset return rnumnonpx.test( computed ) ? jQuery( elem ).position()[ prop ] + &quot;px&quot; : computed; } } ); } ); // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods jQuery.each( { Height: &quot;height&quot;, Width: &quot;width&quot; }, function( name, type ) { jQuery.each( { padding: &quot;inner&quot; + name, content: type, &quot;&quot;: &quot;outer&quot; + name }, function( defaultExtra, funcName ) { // Margin is only for outerHeight, outerWidth jQuery.fn[ funcName ] = function( margin, value ) { var chainable = arguments.length &amp;&amp; ( defaultExtra || typeof margin !== &quot;boolean&quot; ), extra = defaultExtra || ( margin === true || value === true ? &quot;margin&quot; : &quot;border&quot; ); return access( this, function( elem, type, value ) { var doc; if ( jQuery.isWindow( elem ) ) { // $( window ).outerWidth/Height return w/h including scrollbars (gh-1729) return funcName.indexOf( &quot;outer&quot; ) === 0 ? elem[ &quot;inner&quot; + name ] : elem.document.documentElement[ &quot;client&quot; + name ]; } // Get document width or height if ( elem.nodeType === 9 ) { doc = elem.documentElement; // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], // whichever is greatest return Math.max( elem.body[ &quot;scroll&quot; + name ], doc[ &quot;scroll&quot; + name ], elem.body[ &quot;offset&quot; + name ], doc[ &quot;offset&quot; + name ], doc[ &quot;client&quot; + name ] ); } return value === undefined ? // Get width or height on the element, requesting but not forcing parseFloat jQuery.css( elem, type, extra ) : // Set width or height on the element jQuery.style( elem, type, value, extra ); }, type, chainable ? margin : undefined, chainable ); }; } ); } ); jQuery.fn.extend( { bind: function( types, data, fn ) { return this.on( types, null, data, fn ); }, unbind: function( types, fn ) { return this.off( types, null, fn ); }, delegate: function( selector, types, data, fn ) { return this.on( types, selector, data, fn ); }, undelegate: function( selector, types, fn ) { // ( namespace ) or ( selector, types [, fn] ) return arguments.length === 1 ? this.off( selector, &quot;**&quot; ) : this.off( types, selector || &quot;**&quot;, fn ); } } ); jQuery.holdReady = function( hold ) { if ( hold ) { jQuery.readyWait++; } else { jQuery.ready( true ); } }; jQuery.isArray = Array.isArray; jQuery.parseJSON = JSON.parse; jQuery.nodeName = nodeName; // Register as a named AMD module, since jQuery can be concatenated with other // files that may use define, but not via a proper concatenation script that // understands anonymous AMD modules. A named AMD is safest and most robust // way to register. Lowercase jquery is used because AMD module names are // derived from file names, and jQuery is normally delivered in a lowercase // file name. Do this after creating the global so that if an AMD module wants // to call noConflict to hide this version of jQuery, it will work. // Note that for maximum portability, libraries that are not jQuery should // declare themselves as anonymous modules, and avoid setting a global if an // AMD loader is present. jQuery is a special case. For more information, see // https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon if ( typeof define === &quot;function&quot; &amp;&amp; define.amd ) { define( &quot;jquery&quot;, [], function() { return jQuery; } ); } var // Map over jQuery in case of overwrite _jQuery = window.jQuery, // Map over the $ in case of overwrite _$ = window.$; jQuery.noConflict = function( deep ) { if ( window.$ === jQuery ) { window.$ = _$; } if ( deep &amp;&amp; window.jQuery === jQuery ) { window.jQuery = _jQuery; } return jQuery; }; // Expose jQuery and $ identifiers, even in AMD // (#7102#comment:10, https://github.com/jquery/jquery/pull/557) // and CommonJS for browser emulators (#13566) if ( !noGlobal ) { window.jQuery = window.$ = jQuery; } return jQuery; } ); × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: utils.js &quot;use strict&quot;; window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame; window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem; window.AudioContext = window.AudioContext || window.webkitAudioContext; /** * Load Script In Sequence * * @param {Array} scriptArray * @param {Function|null} [callback] * @method LoadScriptInSequence */ function LoadScriptInSequence(scriptArray, callback) { const loadScriptDOM = function (index) { if (index &gt;= scriptArray.length) return callback ? callback() : null; let script = document.createElement(&quot;script&quot;); script.src = scriptArray[index]; script.addEventListener('load', () =&gt; { loadScript(index + 1); }); document.head.appendChild(script); }; const loadScriptFetch = function (index) { if (index &gt;= scriptArray.length) return callback ? callback() : null; return fetch(scriptArray[index], { method: &quot;GET&quot;, redirect: 'follow', credentials: &quot;same-origin&quot;, headers: { 'Content-Type': 'text/javascript' }, }) .then(res =&gt; res.blob()) .then((blob) =&gt; { let script = document.createElement(&quot;script&quot;); script.src = URL.createObjectURL(blob); document.head.appendChild(script); return loadScript(index + 1); }); }; const loadScript = loadScriptDOM; let basePath = ''; if (this instanceof HTMLScriptElement) { basePath = this.src.slice(0, this.src.lastIndexOf('/') + 1); scriptArray = scriptArray.map((src) =&gt; { if (src.startsWith('/')) return src; return basePath + src; }); } return loadScript(0); } /** * Try convert an object to array * @param obj * @returns {*} */ Array.prototype.toArray = (obj) =&gt; { return Array.prototype.slice.call(obj); }; /** * Get context between a string * @param {String} startString * @param {String} endString * @param {Number} [fromIndex] default = 0 * * @returns {String} context */ String.prototype.getStringBetween = function (startString, endString, fromIndex) { if (fromIndex === undefined) fromIndex = 0; let startIndex = this.indexOf(startString, fromIndex); let endIndex = this.indexOf(endString, startIndex); if (startIndex === -1) return &quot;&quot;; if (endIndex === -1) return this.substr(startIndex); //Remove Starting String startIndex += startString.length; return this.substring(startIndex, endIndex); }; /** * Get context between a string * @param {String} startString * @param {String} endString * @param {Number} [fromIndex] default = 0 * * @returns {String[]} context */ String.prototype.getStringBetweenMulti = function (startString, endString, fromIndex) { if (fromIndex === undefined) fromIndex = 0; let startIndex = this.indexOf(startString, fromIndex); let endIndex = this.lastIndexOf(endString); if (startIndex === -1) return [&quot;&quot;]; if (endIndex === -1) return [this.substr(startIndex)]; let ret = []; while (startIndex !== -1 &amp;&amp; startIndex &lt; endIndex) { let eIndex = this.indexOf(endString, startIndex); let stringBetween = this.substring(startIndex + startString.length, eIndex); ret.push(stringBetween); startIndex = this.indexOf(startString, eIndex + endString.length); } return ret; }; /** * Check whatever number in range * * @param {Number} minValue * @param {Number} maxValue * @returns {boolean} */ Number.prototype.inRange = function (minValue, maxValue) { return this &gt;= minValue &amp;&amp; this &lt;= maxValue; }; /** * Split string into lines * @returns {String[]} lines */ String.prototype.lines = function () { return this.split(/\\r?\\n/); }; /** * The padStart() method pads the current string with another string (repeated, if needed) * so that the resulting string reaches the given length. * * The padding is applied from the start (left) of the current string. * * @param {Number} targetLength The length of the resulting string once the current string has been padded. * If the value is lower than the current string's length, * the current string will be returned as is. * * @param {String} [padString] The string to pad the current string with. * If this string is too long to stay within the target length, * it will be truncated and the left-most part will be applied. * The default value for this parameter is &quot; &quot; (U+0020). * * @returns {String} A String of the specified length with the pad string applied from the start. */ String.prototype.padStart = String.prototype.padStart || function (targetLength, padString) { if (padString === undefined) padString = ' '; let str = this.toString(); while (str.length &lt; targetLength) { str = padString + str; } return str; }; /** * Firsts this object. * * @return . */ Array.prototype.first = function () { return this[0]; }; /** * Lasts this object. * * @return . */ Array.prototype.last = function () { return this[this.length - 1]; }; /** * Binary search. * * @param target Target for the. * @param [compareFunction] The compare function. * * @return . */ Array.prototype.binarySearch = function (target, compareFunction) { if (compareFunction === undefined) compareFunction = (x, y) =&gt; x - y; let low = 0; let high = this.length - 1; let mid; let element; while (low &lt;= high) { mid = ((low + high) / 2) | 0; element = this[mid]; let compareResult = compareFunction(element, target); if (compareResult === 0) { return mid; } else if (compareResult &lt; 0) { low = mid + 1; } else if (compareResult &gt; 0) { high = mid - 1; } } return -1; }; /** * Convert Object to integer * @param obj * @returns {Number} */ function intval(obj) { return parseInt(obj, 10); } /** * Convert Object to float * @param obj * @returns {Number} */ function floatval(obj) { return parseFloat(obj); } /** * Loads an image. * * @param src Source for the. * * @return The image. */ function loadImage(src) { return new Promise((resolve, reject) =&gt; { let img = new Image(); img.onload = function () { resolve(img); }; img.onerror = function (e) { reject(e); }; img.src = src; }); } /** * Determines the maximum value. * * @return The maximum value. */ Array.prototype.max = function () { return Math.max.apply(null, this); }; /** * Determines the minimum value. * * @return The minimum value. */ Array.prototype.min = function () { return Math.min.apply(null, this); }; /** * * @param {Number} deg degree */ Math.toRad = function (deg) { return deg / 180 * Math.PI; }; × Search results Close "},"lf2_game_Bezier.js.html":{"id":"lf2_game_Bezier.js.html","title":"Source: lf2/game/Bezier.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/Bezier.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * @method bezier * @param {number[]} controlPoints - [x1, y1, x2, y2] * @param {number} x - time(0 - 1) * @return {number} - y(0 - 1) */ const Bezier = (function () { const cos = Math.cos, acos = Math.acos, max = Math.max, pi = Math.PI, tau = 2 * pi, sqrt = Math.sqrt; function crt(v) { if (v &lt; 0) { return -Math.pow(-v, 1 / 3); } else { return Math.pow(v, 1 / 3); } } // Modified from http://jsbin.com/yibipofeqi/1/edit, optimized for animations. // The origin Cardano's algorithm is based on http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm function cardano(curve, x) { let pa = x - 0; let pb = x - curve[0]; let pc = x - curve[2]; let pd = x - 1; let pa3 = pa * 3; let pb3 = pb * 3; let pc3 = pc * 3; let d = (-pa + pb3 - pc3 + pd), rd = 1 / d, r3 = 1 / 3, a = (pa3 - 6 * pb + pc3) * rd, a3 = a * r3, b = (-pa3 + pb3) * rd, c = pa * rd, p = (3 * b - a * a) * r3, p3 = p * r3, q = (2 * a * a * a - 9 * a * b + 27 * c) / 27, q2 = q / 2, discriminant = q2 * q2 + p3 * p3 * p3, u1, v1, x1, x2, x3; if (discriminant &lt; 0) { let mp3 = -p * r3, mp33 = mp3 * mp3 * mp3, r = sqrt(mp33), t = -q / (2 * r), cosphi = t &lt; -1 ? -1 : t &gt; 1 ? 1 : t, phi = acos(cosphi), crtr = crt(r), t1 = 2 * crtr; x1 = t1 * cos(phi * r3) - a3; x2 = t1 * cos((phi + tau) * r3) - a3; x3 = t1 * cos((phi + 2 * tau) * r3) - a3; if (0 &lt;= x1 &amp;&amp; x1 &lt;= 1) { if (0 &lt;= x2 &amp;&amp; x2 &lt;= 1) { if (0 &lt;= x3 &amp;&amp; x3 &lt;= 1) { return max(x1, x2, x3); } else { return max(x1, x2); } } else if (0 &lt;= x3 &amp;&amp; x3 &lt;= 1) { return max(x1, x3); } else { return x1; } } else { if (0 &lt;= x2 &amp;&amp; x2 &lt;= 1) { if (0 &lt;= x3 &amp;&amp; x3 &lt;= 1) { return max(x2, x3); } else { return x2; } } else { return x3; } } } else if (discriminant === 0) { u1 = q2 &lt; 0 ? crt(-q2) : -crt(q2); x1 = 2 * u1 - a3; x2 = -u1 - a3; if (0 &lt;= x1 &amp;&amp; x1 &lt;= 1) { if (0 &lt;= x2 &amp;&amp; x2 &lt;= 1) { return max(x1, x2); } else { return x1; } } else { return x2; } } else { let sd = sqrt(discriminant); u1 = crt(-q2 + sd); v1 = crt(q2 + sd); x1 = u1 - v1 - a3; return x1; } } function get(a, b, c, d, t) { let t1 = 1 - t; return a * t1 * t1 * t1 + b * 3 * t * t1 * t1 + c * 3 * t * t * t1 + d * t * t * t; } return function (controlPoints, x) { let percent = cardano(controlPoints, x); let p0y = 0; let p1y = controlPoints[1]; let p2y = controlPoints[3]; let p3y = 1; return get(p0y, p1y, p2y, p3y, percent); }; })(); lf2.Bezier = Bezier; return lf2; })(lf2 || {}); × Search results Close "},"Framework_Level.js.html":{"id":"Framework_Level.js.html","title":"Source: Framework/Level.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Level.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { /** * 遊戲關卡的Class, 一個Game中可能有無數個Level * (當然Game的開始和結束頁面也可以是一個Level) * 每個Level都會有 * {{#crossLink &quot;Level/initializeProgressResource:method&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/loadingProgress:method&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/initialize:method&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/update:method&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/draw:method&quot;}}{{/crossLink}}, * 五個基本的生命週期 * * @implements Framework.KeyboardEventInterface * @example * new Framework.Level(); * */ Framework.Level = class { constructor() { /** * 每個Level一定會有一個rootScene, * 建議所有的GameObject都應該要attach到rootScene上 * @property rootScene * @type {Framework.Scene} */ this.rootScene = new Framework.Scene(); this.autoDelete = true; this._firstDraw = true; this._allGameElement = []; this.timelist = []; this.updatetimelist = []; this.cycleCount = 0; this._forceDraw = false; this.config = Framework.Config; // 2017.02.20, from V3.1.1 } /** * Traversal all element. * * @param func The function. * * @private * @return . */ _traversalAllElement(func) { this._allGameElement.forEach(func); } /** * Initializes the initialize progress resource. * * @private * @return . */ _initializeProgressResource() { this.initializeProgressResource(); } /** * Loads this object. * * @private * @return . */ _load() { this.load(); this._traversalAllElement(function (ele) { ele.load(); }); } /** * Loading progress. * * @param ctx The context. * @param requestInfo Information describing the request. * * @private * @return . */ _loadingProgress(ctx, requestInfo) { ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); this.loadingProgress(ctx, requestInfo); } /** * Initializes this object. * * @private * @return . */ _initialize() { this.cycleCount = 0; this.initialize(); this._traversalAllElement(function (ele) { ele.initialize(); }); //this.rootScene.initTexture(); } /** * Updates this object. * * @private * @return . */ _update() { this.rootScene.clearDirtyFlag(); this._traversalAllElement(function (ele) { ele.clearDirtyFlag(); }); // var preDraw = Date.now(); // // this.rootScene.update(); // this.cycleCount++; this.update(); // var drawTime = Date.now() - preDraw; // this.updatetimelist.push(drawTime); // if (this.updatetimelist.length &gt;= 30) { // var average = this.countAverage(this.updatetimelist); // this.updatetimelist = []; // //console.log(&quot;update time average &quot; + average); // } } /** * 接收傳遞的資料 * * @abstract * @param extraData */ receiveExtraDataWhenLevelStart(extraData){ } /** * Count average. * * @param list The list. * * @return The total number of average. */ countAverage(list) { var sum = 0; for (var i = 0; i &lt; list.length; i++) { sum += list[i]; } return sum / list.length; } /** * Teardowns this object. * * @private * @return . */ _teardown() { for (var i in this._allGameElement) { var deleteObj = this._allGameElement[i]; if (Framework.Util.isFunction(deleteObj.teardown)) { deleteObj.teardown(); } this._allGameElement[i] = null; delete this._allGameElement[i]; } this._allGameElement.length = 0; this.teardown(); } /** * Gets changed rectangle. * * @param maxWidth The maximum width. * @param maxHeight The maximum height. * * @private * @return The changed rectangle. */ _getChangedRect(maxWidth, maxHeight) { var rect = {x: maxWidth, y: maxHeight, x2: 0, y2: 0}; this._traversalAllElement(function (ele) { if (ele.isObjectChanged) { var nowDiagonal = Math.ceil(Math.sqrt(ele.width * ele.width + ele.height * ele.height)), nowX = Math.ceil(ele.absolutePosition.x - nowDiagonal / 2), nowY = Math.ceil(ele.absolutePosition.y - nowDiagonal / 2), nowX2 = nowDiagonal + nowX, nowY2 = nowDiagonal + nowY, preDiagonal = Math.ceil(Math.sqrt(ele.previousWidth * ele.previousWidth + ele.previousHeight * ele.previousHeight)), preX = Math.ceil(ele.previousAbsolutePosition.x - preDiagonal / 2), preY = Math.ceil(ele.previousAbsolutePosition.y - preDiagonal / 2), preX2 = preDiagonal + preX, preY2 = preDiagonal + preY, x = (nowX &lt; preX) ? nowX : preX, y = (nowY &lt; preY) ? nowY : preY, x2 = (nowX2 &gt; preX2) ? nowX2 : preX2, y2 = (nowY2 &gt; preY2) ? nowY2 : preY2; if (x &lt; rect.x) { rect.x = x; } if (y &lt; rect.y) { rect.y = y; } if (x2 &gt; rect.x2) { rect.x2 = x2; } if (y2 &gt; rect.y2) { rect.y2 = y2; } } }); rect.width = rect.x2 - rect.x; rect.height = rect.y2 - rect.y; return rect; } /** * * @returns {Level} */ forceDraw(){ this._forceDraw = true; return this; } /** * Shows all element. * * @private * @return . */ _showAllElement() { this._traversalAllElement(function (ele) { console.log(ele, &quot;ele.isMove&quot;, ele._isMove, &quot;ele.isRotate&quot;, ele._isRotate, &quot;ele.isScale&quot;, ele._isScale, &quot;ele.changeFrame&quot;, ele._changeFrame, &quot;ele.isObjectChanged&quot;, ele.isObjectChanged); }); } /** * Draws the given context. * * @private * @param ctx The context. * * @return . */ _draw(ctx) { this.rootScene.countAbsoluteProperty(); if (this.canvasChanged) { //var rect = this._getChangedRect(ctx.canvas.width, ctx.canvas.height); //ctx.save(); //ctx.beginPath(); //ctx.rect(0, 0, ctx.canvas.width, ctx.canvas.height); //ctx.clip(); ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // var preDraw = Date.now(); // this.rootScene.draw(ctx); this.draw(ctx); // // var drawTime = Date.now() - preDraw; // this.timelist.push(drawTime); // if (this.timelist.length &gt;= 30) { // var average = this.countAverage(this.timelist); // this.timelist = []; // //console.log(&quot;draw time average &quot; + average); // } //ctx.restore(); } } /** * 初始化loadingProgress事件中會用到的圖片素材, * 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 * @abstract */ initializeProgressResource() { } /** * Loads this object. * * @abstract * @return . */ load() { } /** * 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 * 若不想要有該畫面, 可以override一個空的function * @param {Object} context 用來繪製的工具 * @param {Object} requestInfo requestInfo.requset為發送request的數量, * requestInfo.response為已經有response的數量 * requestInfo.percent為已完成的百分比 */ loadingProgress(context, requestInfo) { //context.font = '90px Arial'; //context.fillText(Math.floor(Framework.ResourceManager.getFinishedRequestPercent()) + '%', context.canvas.width / 2 - 50, context.canvas.height / 2); } /** * 初始化整個Level, 並載入所有圖片資源 * @abstract */ initialize() { } /** * 用來撰寫遊戲邏輯, 不會去處理繪製的工作 * 第一行必須撰寫 this.rootScene.update(); */ update() { this.rootScene.update(); } /** * 用來繪製需要被繪製的GameObject * 第一行必須撰寫 this.rootScene.draw(context); * @param {Object} context 用來繪製的工具 * @abstract */ draw(context) { this.rootScene.draw(context); } /** * 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 * @event click * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前點擊的絕對位置 */ click(e) { } /** * 處理滑鼠點下的事件 * @event mousedown * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前點擊的絕對位置 */ mousedown(e) { } /** * 處理滑鼠放開的事件 * @event mouseup * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前放開的絕對位置 */ mouseup(e) { } /** * 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) * @event mousemove * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前滑鼠的絕對位置 */ mousemove(e) { } /** * 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 * (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) * @event touchstart * @param {Object} e 事件的參數, * 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, * 表示的是目前觸控到的位置 */ touchstart(e) { } touchend(e) { } /** * 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 * (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) * @event touchmove * @param {Object} e 事件的參數, * 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, * 表示的是目前最新觸控到的位置 */ touchmove(e) { } /** * * 處理鍵盤被壓下按鈕的事件 * @event keydown * @param {Object} e 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 * altKey, ctrlKey, shiftKey表示是否按下的狀態, * firstTimeStamp 表示剛按下去這個按鈕的時間, * key 存的是按下去的鍵的string, * lastTimeDiff 則為剛按下這個鍵到目前有多久了 * @param {Object} list 目前按下去所有可以被偵測到的鍵 * @param {Object} oriE W3C定義的事件的e * 表示的是目前最新觸控到的位置 * @example * * keydown (e, list) { * if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { * console.log('A'); //當A按下超過3秒, 才會印出A * } * if(list.A &amp;&amp; list.B) { * console.log('A+B'); //當A和B都被按下時, 才會印出A+B * } * } * //FYI: 每個真正的keyCode與相對應的string * _keyCodeToChar = { * 8:'Backspace',9:'Tab',13:'Enter', * 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', * 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', * 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', * 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', * 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', * 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', * 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', * 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', * 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', * 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', * 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', * 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', * 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', * 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', * 145:'Scroll Lock',182:'My Computer', * 183:'My Calculator',186:';',187:'=',188:',',189:'-', * 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' * }; * */ keydown(e) { } /** * 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, * Framework尚支援進階的功能history * @event keyup * @param {Object} e 原生的事件參數 * @param {Object} history 儲存最近幾秒內keyup的按鍵 * (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) * history可以設定多久清除一次, 請參考 * {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} * @example * keyup (e, history) { * var right = history.length &gt;= 3, i; * if (history.length &gt; 2) { * for (i = 3; i &gt; 0; i--) { * right = right &amp;&amp; (history[history.length - i].key === 'Right'); * } * } * if (right) { * console.log(right); //當一秒內按了右鍵超過3次, 才會印出true * } * }, */ keyup(e, list, orgI) { } keypress(e) { } teardown() { } autodelete() { for (var i in this.rootScene.attachArray) { if (Framework.Util.isFunction(this.rootScene.attachArray[i].teardown)) { this.rootScene.attachArray[i].teardown(); } this.rootScene.attachArray[i] = null; delete this.rootScene.attachArray[i]; } this.rootScene.attachArray.length = 0; this._teardown(); } get isCurrentLevel(){ return Framework.Game._currentLevel==this; } }; Object.defineProperty(Framework.Level.prototype, 'canvasChanged', { get: function () { if(this._forceDraw) { this._forceDraw=false; return true; } return this._allGameElement.some(e=&gt;e.isObjectChanged); } }); return Framework; })(Framework || {}); × Search results Close "},"Framework_MouseEventInterface.js.html":{"id":"Framework_MouseEventInterface.js.html","title":"Source: Framework/MouseEventInterface.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/MouseEventInterface.js 'use strict'; var Framework = (function (Framework) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; /** * Mouse Event Interface * 提供滑鼠事件的介面 * * @interface Framework.MouseEventInterface * @type {MouseEventInterface} */ Framework.MouseEventInterface = class MouseEventInterface { /** * 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 * * @abstract * @event click * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前點擊的絕對位置 */ click(e) { } /** * 處理滑鼠點下的事件 * * @abstract * @event mousedown * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前點擊的絕對位置 */ mousedown(e) { } /** * 處理滑鼠放開的事件 * * @abstract * @event mouseup * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前放開的絕對位置 */ mouseup(e) { } /** * 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) * * @abstract * @event mousemove * @param {Object} e 事件的參數, 會用到的應該是e.x和e.y兩個參數, * 表示的是目前滑鼠的絕對位置 */ mousemove(e) { } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_KeyboardEventInterface.js.html":{"id":"Framework_KeyboardEventInterface.js.html","title":"Source: Framework/KeyboardEventInterface.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/KeyboardEventInterface.js 'use strict'; var Framework = (function (Framework) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; /** * Keyboard Event Interface * 提供鍵盤事件的介面 * * @interface Framework.KeyboardEventInterface * @type {KeyboardEventInterface} */ Framework.KeyboardEventInterface = class KeyboardEventInterface { /** * * 處理鍵盤被壓下按鈕的事件 * * @abstract * @event keydown * @param {Object} e 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 * altKey, ctrlKey, shiftKey表示是否按下的狀態, * firstTimeStamp 表示剛按下去這個按鈕的時間, * key 存的是按下去的鍵的string, * lastTimeDiff 則為剛按下這個鍵到目前有多久了 * @param {Object} list 目前按下去所有可以被偵測到的鍵 * @param {KeyboardEvent} oriE W3C定義的事件的e * 表示的是目前最新觸控到的位置 * @example * * keydown (e, list) { * if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { * console.log('A'); //當A按下超過3秒, 才會印出A * } * if(list.A &amp;&amp; list.B) { * console.log('A+B'); //當A和B都被按下時, 才會印出A+B * } * } * //FYI: 每個真正的keyCode與相對應的string * _keyCodeToChar = { * 8:'Backspace',9:'Tab',13:'Enter', * 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', * 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', * 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', * 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', * 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', * 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', * 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', * 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', * 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', * 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', * 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', * 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', * 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', * 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', * 145:'Scroll Lock',182:'My Computer', * 183:'My Calculator',186:';',187:'=',188:',',189:'-', * 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' * }; * */ keydown(e, list, oriE) { } /** * 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, * Framework尚支援進階的功能history * * @abstract * @event keyup * @param {Object} e 原生的事件參數 * @param {Object} history 儲存最近幾秒內keyup的按鍵 * (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) * history可以設定多久清除一次, 請參考 * {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} * @param {KeyboardEvent} oriE W3C定義的事件的e * @example * keyup (e, history) { * var right = history.length &gt;= 3, i; * if (history.length &gt; 2) { * for (i = 3; i &gt; 0; i--) { * right = right &amp;&amp; (history[history.length - i].key === 'Right'); * } * } * if (right) { * console.log(right); //當一秒內按了右鍵超過3次, 才會印出true * } * }, */ keyup(e, history, oriE) { } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_Game.js.html":{"id":"Framework_Game.js.html","title":"Source: Framework/Game.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Game.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { const nowFunc = function () { return Date.now(); }; let LevelLog = []; /** * 整個遊戲(多個{{#crossLink &quot;Level&quot;}}{{/crossLink}})的主體 * 主要功能為新增移除關卡與關卡的切換 * * @class {Framework.Game} * @namespace Framework */ Framework.Game = class Game { constructor() { throw &quot;U can't create Game instance&quot;; } static _tempUpdate() { }; static _tempDraw(context) { }; static recordStart() { if (document.getElementById(&quot;start_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;) { if (that._isRecordMode) { that._isRecording = true; document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); that.btnEnable(); that._record.start(); that.resume(); } if (that._isReplay) { that.isContinue = true; that._isRecordMode = true; document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); that.btnEnable(); } } }; static recordPause() { if (document.getElementById(&quot;pause_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;) { if (that._isRecordMode) { that._isRecording = false; document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); that.btnEnable(); that._record.pause(); that.pause(); } } }; static recordStop() { if (document.getElementById(&quot;stop_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;) { if (that._isRecordMode) { that._isRecording = false; document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); that.btnEnable(); that._record.stop(); } } }; static recordInput() { if (document.getElementById(&quot;type_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;) { var command = prompt(&quot;Please enter comment&quot;, &quot;&quot;); if (command != null) { that._record.inputCommand(&quot;//&quot; + command); } } }; static recordReplay() { if (document.getElementById(&quot;replay_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;) { that._isReplay = true; that._teardown(); that._currentLevel = null; that._isRecordMode = false; that._isTestMode = true; that._record.isRecording = false; that.isContinue = false; var replayScript = document.getElementById(&quot;record_div&quot;).innerText; document.getElementById(&quot;record_div&quot;).innerText = &quot;&quot;; that.getReplayScript(replayScript); that._record.start(); that.start(); that._isRecording = true; if (document.getElementById(&quot;variable_list&quot;) != null) { var div = document.getElementById(&quot;variable_list&quot;); div.parentNode.removeChild(div); } document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); that.btnEnable(); } }; static getReplayScript(script) { script = script.replace(/\\n/g, &quot;&quot;); var start = script.indexOf(&quot;{&quot;, 0) + 1; var end = script.indexOf(&quot;}&quot;, 0); if (end === -1) end = script.length; var mainScript = script.substring(start, end); mainScript = mainScript.split(&quot;;&quot;); for (i = 0; i &lt; mainScript.length; i++) { mainScript[i] = mainScript[i].replace(&quot;\\u00a0\\u00a0\\u00a0\\u00a0&quot;, &quot;&quot;); // if(mainScript[i].indexOf(&quot;//&quot;, 0) === -1){ if (mainScript[i].indexOf(&quot;replay.assertEqual&quot;) != 0) { eval(mainScript[i]); } // } } }; /* static recordContinue() { that.isContinue = true; document.getElementById(&quot;start_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;pause_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;stop_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;type_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;replay_btn&quot;).setAttribute(&quot;enable&quot;, &quot;true&quot;); document.getElementById(&quot;continue_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); document.getElementById(&quot;variable_btn&quot;).setAttribute(&quot;enable&quot;, &quot;false&quot;); that.btnEnable(); }; */ static showVariable() { var maindiv = document.getElementById(&quot;main&quot;); if ((document.getElementById(&quot;variable_list&quot;) == null) &amp;&amp; (document.getElementById(&quot;variable_btn&quot;).getAttribute(&quot;enable&quot;) == &quot;true&quot;)) { var variableDiv = document.createElement('div'); variableDiv.id = 'variable_list'; variableDiv.style.cssText = &quot;width:100%;height:30%;background-color:#d3e0e6;overflow:auto;font-size:20;&quot;; maindiv.appendChild(variableDiv); } else { var div = document.getElementById(&quot;variable_list&quot;); if (div != null) { div.parentNode.removeChild(div); } } listMember(&quot;Framework.Game._currentLevel&quot;, &quot;&amp;nbsp&quot;, &quot;variable_list&quot;); }; static btnMouseOver(button) { if (button.getAttribute('enable') === &quot;true&quot;) { if (button.id == &quot;start_btn&quot;) button.src = &quot;../../src/image/play_over.png&quot;; if (button.id == &quot;pause_btn&quot;) button.src = &quot;../../src/image/pause_over.png&quot;; if (button.id == &quot;stop_btn&quot;) button.src = &quot;../../src/image/stop_over.png&quot;; if (button.id == &quot;type_btn&quot;) button.src = &quot;../../src/image/addComment_over.png&quot;; if (button.id == &quot;replay_btn&quot;) button.src = &quot;../../src/image/replay_over.png&quot;; if (button.id == &quot;variable_btn&quot;) button.src = &quot;../../src/image/variable_over.png&quot;; } }; static btnMouseOut(button) { if (button.getAttribute('enable') === &quot;true&quot;) { if (button.id == &quot;start_btn&quot;) button.src = &quot;../../src/image/play.png&quot;; if (button.id == &quot;pause_btn&quot;) button.src = &quot;../../src/image/pause.png&quot;; if (button.id == &quot;stop_btn&quot;) button.src = &quot;../../src/image/stop.png&quot;; if (button.id == &quot;type_btn&quot;) button.src = &quot;../../src/image/addComment.png&quot;; if (button.id == &quot;replay_btn&quot;) button.src = &quot;../../src/image/replay.png&quot;; if (button.id == &quot;variable_btn&quot;) button.src = &quot;../../src/image/variable.png&quot;; } }; static btnEnable() { if (document.getElementById(&quot;start_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;start_btn&quot;).src = &quot;../../src/image/play.png&quot;; else document.getElementById(&quot;start_btn&quot;).src = &quot;../../src/image/play_disable.png&quot;; if (document.getElementById(&quot;pause_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;pause_btn&quot;).src = &quot;../../src/image/pause.png&quot;; else document.getElementById(&quot;pause_btn&quot;).src = &quot;../../src/image/pause_disable.png&quot;; if (document.getElementById(&quot;stop_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;stop_btn&quot;).src = &quot;../../src/image/stop.png&quot;; else document.getElementById(&quot;stop_btn&quot;).src = &quot;../../src/image/stop_disable.png&quot;; if (document.getElementById(&quot;type_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;type_btn&quot;).src = &quot;../../src/image/addComment.png&quot;; else document.getElementById(&quot;type_btn&quot;).src = &quot;../../src/image/addComment_disable.png&quot;; if (document.getElementById(&quot;replay_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;replay_btn&quot;).src = &quot;../../src/image/replay.png&quot;; else document.getElementById(&quot;replay_btn&quot;).src = &quot;../../src/image/replay_disable.png&quot;; if (document.getElementById(&quot;variable_btn&quot;).getAttribute(&quot;enable&quot;) === &quot;true&quot;) document.getElementById(&quot;variable_btn&quot;).src = &quot;../../src/image/variable.png&quot;; else document.getElementById(&quot;variable_btn&quot;).src = &quot;../../src/image/variable_disable.png&quot;; }; //Event Handler // mouse event /** * Mouse Click Event * @param e Event */ static click(e) { that._currentLevel.click(e); if (that._isRecording) { that._record.click(e); } }; /** * Mouse Down Event * @param e Event */ static mousedown(e) { that._currentLevel.mousedown(e); if (that._isRecording) { that._record.mousedown(e); } }; /** * Mouse Up Event * @param e Event */ static mouseup(e) { that._currentLevel.mouseup(e); if (that._isRecording) { that._record.mouseup(e); } }; /** * Mouse Move Event * @param e Event */ static mousemove(e) { that._currentLevel.mousemove(e); if (that._isRecording) { that._record.mousemove(e); } }; // touch event static touchstart(e) { that._currentLevel.touchstart(e); }; static touchend(e) { that._currentLevel.touchend(e); }; static touchmove(e) { that._currentLevel.touchmove(e); }; /** * Key down Event * @param e currentKey * @param keyList currentLeyList * @param {KeyboardEvent} oriEvent */ static keydown(e, keyList, oriEvent) { that._currentLevel.keydown(e, keyList, oriEvent); if (that._isRecording) { that._record.keydown(e, keyList, oriEvent); //console.log(&quot;record down&quot;); } }; /** * Key up Event * @param e currentKey * @param keyList currentLeyList * @param {KeyboardEvent} oriEvent */ static keyup(e, keyList, oriEvent) { that._currentLevel.keyup(e, keyList, oriEvent); if (that._isRecording) { that._record.keyup(e, keyList, oriEvent); } }; /** * Key press Event * @param e Event */ static keypress(e) { that._currentLevel.keypress(e); if (that._isRecording) { that._record.keypress(e); } }; /** * initialize Progress Resource */ static initializeProgressResource() { that._currentLevel._initializeProgressResource(); }; /** * Load current level */ static load() { that._currentLevel._load(); if (that.isBackwardCompatiable) { that._currentLevel.initialize(); } }; /** * Show loading process * @param context */ static loadingProgress(context) { that._currentLevel._loadingProgress(context, { request: Framework.ResourceManager.getRequestCount(), response: Framework.ResourceManager.getResponseCount(), percent: Framework.ResourceManager.getFinishedRequestPercent() }); if (that.isBackwardCompatiable) { that.initializeProgressResource(); } }; /** * initialize currnet level */ static initialize() { that._currentLevel._initialize(); that.initializeTestScript(that._currentLevel); }; static initializeTestScript(level) { //that._testScripts var levelName = that._findLevelNameByLevel(level); for (var i = 0, l = that._testScripts.length; i &lt; l; i++) { if (that._testScripts[i].targetLevel === levelName) { Framework.Replay.ready(that._testScripts[i]); return; } } }; /** * Update current level */ static update() { that._currentLevel._update(); }; /** * Draw current level */ static draw() { that._currentLevel._draw(); }; /** * Auto delete * @private */ static _teardown() { //if(this._currentLevel.autoDelete){ that._currentLevel.autodelete(); that._isInit = false; // that._allGameElement.length = 0; // } }; /** * Stop current level */ static stop() { that.pause(); that._teardown(); }; /** * Get Canvas width * @returns {number} */ static getCanvasWidth() { return that._canvas.width; }; /** * Get canvas height * @returns {number} */ static getCanvasHeight() { return that._canvas.height; }; /** * Find level * @param name * @returns {Framework.Level} * @private */ static _findLevel(name) { var result = Framework.Util.findValueByKey(that._levels, name); if (result === null) { return null; } else { return result.level; } }; static _findScript(name) { var result = Framework.Util.findValueByKey(that._testScripts, name); if (result === null) { return null; } else { return result.script; } }; static _findLevelNameByLevel(level) { for (var i = 0, l = that._levels.length; i &lt; l; i++) { if (that._levels[i].level === level) { return that._levels[i].name; } } }; /** * 加入一個新的關卡 * @static * @param {Object} levelData { 關卡名稱: 關卡的instance } * @example * Framework.Game.addNewLevel({menu: new MyMenu()}); //MyMen繼承自Level */ static addNewLevel(leveldata) { //console.dir(leveldata); for (var i in leveldata) { if (leveldata.hasOwnProperty(i)) { if (Framework.Util.isNull(that._findLevel(i))) { that._levels.push({name: i, level: leveldata[i]}); } else { Framework.DebugInfo.Log.error('Game : 關卡名稱不能重複'); throw new Error('Game: already has same level name'); } } } }; static addNewTestScript(levelName, scriptName, scriptInstance) { var levelName = levelName; var scriptName = scriptName; var scriptInstance = scriptInstance; if (Framework.Util.isNull(that._findScript(scriptName))) { that._testScripts.push({targetLevel: levelName, name: scriptName, script: scriptInstance}); } else { Framework.DebugInfo.Log.error('Game : Script名稱不能重複'); throw new Error('Game: already has same script name'); } }; /** * 前往另一個關卡(前後皆可), 若沒有該關卡, 會throw exception * @static * @param {Object} levelName 關卡名稱 * @param {Object} [extraData] 其他資料 * @returns {Framework.Level} * @example * Framework.Game.goToLevel('menu'); */ static goToLevel(levelName, extraData) { that.pause(); that._teardown(); that._currentLevel = that._findLevel(levelName); Framework.Replay.resetCycleCount(); if (Framework.Util.isUndefined(that._currentLevel)) { Framework.DebugInfo.Log.error('Game : 找不到關卡'); throw new Error('Game : levelname not found.'); } if (that._isRecordMode) { that._record.inputCommand(&quot;// Change Level :&quot; + levelname + &quot;;&quot;); } console.log(`Level start: ${levelName}`); LevelLog.push({ 'name': levelName, 'data': extraData }); that.start(extraData); return that._currentLevel; }; static popLevelHistory() { LevelLog.pop(); let data = LevelLog.last(); if (data) { Game.goToLevel(data.name, data.data); LevelLog.pop(); } } /** * 前往下一個關卡, 若沒有下一個關卡, 會throw exception * @static * @deprecated * @example * Framework.Game.goToNextLevel(); */ // static goToNextLevel() { // that.pause(); // that._teardown(); // var flag = false; // Framework.Replay.resetCycleCount(); // for (var i in that._levels) { // if (flag) { // that._currentLevel = that._levels[i].level; // if (that._isRecordMode) { // var levelname = that._findLevelNameByLevel(that._currentLevel); // that._record.inputCommand(&quot;// Change Level :&quot; + levelname + &quot;;&quot;); // } // that.start(); // return; // } // if (that._levels[i].level === that._currentLevel) { // flag = true; // } // } // Framework.DebugInfo.Log.error('Game : 無下一關'); // throw new Error('Game : can\\'t goto next level.'); // }; /* * * 前往前一個關卡, 若沒有前一個關卡, 會throw exception * @static * @deprecated * @example * Framework.Game.goToPreviousLevel(); */ // static goToPreviousLevel() { // that.pause(); // that._teardown(); // var flag = false; // var prev = undefined; // Framework.Replay.resetCycleCount(); // for (var i in that._levels) { // if (that._levels[i].level === that._currentLevel) { // if (!Framework.Util.isUndefined(prev)) { // that._currentLevel = prev; // if (that._isRecordMode) { // var levelname = that._findLevelNameByLevel(that._currentLevel); // that._record.inputCommand(&quot;// Change Level To : &quot; + levelname + &quot;;&quot;); // } // that.start(); // return; // } // break; // } // prev = that._levels[i].level; // } // Framework.DebugInfo.Log.error('Game : 無前一關'); // throw new Error('Game : can\\'t goto previous level.'); // }; /** * 讓遊戲開始執行 * @param {Object} [extraData] 傳遞的資料 * @static * @example * Framework.Game.start(); */ static start(extraData) { if (!that._isReplay) { if (that._isTestMode &amp;&amp; that._isTestReady === false) { return; } } if (Framework.Util.isUndefined(that._currentLevel) || Framework.Util.isNull(that._currentLevel)) { that._currentLevel = that._levels[0].level; LevelLog.push({ 'name': that._levels[0].name, 'data': extraData }); } that._currentLevel.receiveExtraDataWhenLevelStart(extraData); var self = that; if (!that._isInit) { that.resizeEvent(); document.body.appendChild(that._mainContainer); window.addEventListener(&quot;resize&quot;, that.resizeEvent, false); } that._tempDraw = self._currentLevel._draw; that._tempUpdate = self._currentLevel._update; that.initializeProgressResource(); var runFunction = function () { self._isRun = true; self.pause(); self.initialize(); //bind會產生一個同樣的function, 但this為指定的參數 self.draw = self._tempDraw.bind(self._currentLevel); self.update = self._tempUpdate.bind(self._currentLevel); Framework.Replay.setGameReady(); self.run(); }; var initFunction = function () { if (Framework.ResourceManager.getRequestCount() !== Framework.ResourceManager.getResponseCount()) { return; } self._isInit = true; self.draw = self.loadingProgress; self.update = function () { }; self.run(); self._isRun = false; self.load(); if (Framework.ResourceManager.getRequestCount() === Framework.ResourceManager.getResponseCount()) { runFunction(); } }; Framework.ResourceManager.setSubjectFunction(function () { if (!self._isInit) { initFunction(); return; } if (!self._isRun) { runFunction(); } }); //if(Framework.ResourceManager.getRequestCount() === 0) { initFunction(); //} // if (Framework.TouchManager) { Framework.TouchManager.setSubject(self._currentLevel); Framework.TouchManager.setTouchstartEvent(self._currentLevel.touchstart); Framework.TouchManager.setTouchendEvent(self._currentLevel.touchend); Framework.TouchManager.setTouchmoveEvent(self._currentLevel.touchmove); } if (Framework.MouseManager) { Framework.MouseManager.setSubject(self._currentLevel); Framework.MouseManager.setClickEvent(self.click); Framework.MouseManager.setMousedownEvent(self.mousedown); Framework.MouseManager.setMouseUpEvent(self.mouseup); Framework.MouseManager.setMouseMoveEvent(self._currentLevel.mousemove); } //Framework.MouseManager.setContextmenuEvent(self._currentLevel.contextmenu); if (Framework.KeyBoardManager) { Framework.KeyBoardManager.setSubject(self._currentLevel); Framework.KeyBoardManager.setKeyupEvent(self.keyup); Framework.KeyBoardManager.setKeydownEvent(self.keydown); Framework.KeyBoardManager.setKeypressEvent(self.keypress); } }; static run() { that.skipTicks = (1000 / that.fps) | 0; const TICKS = that.skipTicks; let self = that, updateTicks = TICKS, drawTicks = TICKS, now = nowFunc(), previousGameLoopTime = now, previousUpdateTime = now, previousDrawTime = now; let nextGameLoopTick = now, nextGameTick = now, nextGameDrawTick = now; let updateFunc = function () { // run Game's update that.update(); // if (now &gt; nextGameTick) { //console.log('now: ' + now + ', nextGameTick: ' + nextGameTick + ', diff:' + (now-nextGameTick)); // that._fpsAnalysis.update(); // show FPS information // if (that.fpsContext) { // that.fpsContext.innerHTML = 'update FPS:' + that._fpsAnalysis.getUpdateFPS() + '&lt;br /&gt;draw FPS:' + that._drawfpsAnalysis.getUpdateFPS(); // } // if (that._isRecording) { // that._record.update(); // //console.log(&quot;record update&quot;) // } // Framework.Replay.update(); // nextGameTick = now + that.skipTicks; // } }; let drawFunc = function () { that.draw(that._context); // if (now &gt;= nextGameDrawTick) { // that._drawfpsAnalysis.update(); // if (that.fpsContext) { // that.fpsContext.innerHTML = 'update FPS:' + that._fpsAnalysis.getUpdateFPS() + '&lt;br /&gt;draw FPS:' + that._drawfpsAnalysis.getUpdateFPS(); // } // nextGameDrawTick = now + that.skipTicks; // } }; let gameLoopFunc = function () { now = nowFunc(); if (now &gt;= nextGameTick) { let startUpdateTime = nowFunc(); updateFunc(); let startDrawTime = nowFunc(); drawFunc(); let finishTime = nowFunc(); // define.DEBUG &amp;&amp; console.log('Update', startDrawTime - startUpdateTime, '', 'Draw', finishTime - startDrawTime); const doneTime = nowFunc(), diff = doneTime - now; if (define.DEBUG &amp;&amp; diff &gt; that.skipTicks) { console.warn('Draw too slow', diff); } previousGameLoopTime = now; nextGameTick = now + that.skipTicks; } // var drawTime = Date.now() - preDraw; // if (drawTime &gt; 5) { // that.timelist.push(drawTime); // } // if (that.timelist.length &gt;= 30) { // var average = that.countAverage(that.timelist); // that.timelist = []; // //console.log(&quot;game loop time average &quot; + average); // } }; that._isRun = true; that.runAnimationFrame(gameLoopFunc); }; static countAverage(list) { var sum = 0; for (var i = 0; i &lt; list.length; i++) { sum += list[i]; } return sum / list.length; }; static stopInterval() { clearInterval(that._runInstance); }; static stopAnimationFrame() { cancelAnimationFrame(that._runInstance); }; static runAnimationFrame(gameLoopFunc) { if (that._runInstance !== undefined) { that.stopAnimationFrame(); } let _run = function () { if (that._isRun) { that._runInstance = requestAnimationFrame(_run); } gameLoopFunc(); }; _run(); that.stopLoop = that.stopAnimationFrame; }; /**/ static runInterval(gameLoopFunc) { /*if(!Framework.Util.isUndefined(that._runInstance)) { that.stopInterval(); that._runInstance = null; }*/ // dynamic product runnable function var drawTicks = 1000 / that.fps; var _run = gameLoopFunc; /*function () { gameLoopFunc.call(this); };*/ that._runInstance = setInterval(gameLoopFunc, drawTicks); that.stopLoop = that.stopInterval; }; static stopLoop() { return that.stopAnimationFrame.apply(Game, arguments); } static showMainContainer() { that._mainContainer.style.display = 'block'; } static hideMainContainer() { that._mainContainer.style.display = 'none'; } /** * Pause loop */ static pause() { if (that._isRun) { that.stopLoop(); that._runInstance = null; that._isRun = false; } }; /** * Resume loop */ static resume() { if (!that._isRun) { that.run(); } }; /** * Set update fps * @param {Number} fps */ static setUpdateFPS(fps) { if (fps &gt; 60) { Framework.DebugInfo.Log.warring('FPS must be smaller than 60.'); throw 'FPS must be smaller than 60.'; fps = 60; } that.skipTicks = Math.round(1000 / that.fps); that.fps = fps; that.pause(); that.run(); }; /** * Get update fps * @returns {Number} */ static getUpdateFPS() { return that.fps; }; /** * Set draw fps * @param {Number} fps */ static setDrawFPS(fps) { if (fps &gt; 60) { Framework.DebugInfo.Log.warring('FPS must be smaller than 60.'); throw 'FPS must be smaller than 60.'; fps = 60; } that.fps = fps; that.pause(); that.run(); }; /** * Get draw fps * @returns {Number} */ static getDrawFPS() { return that.fps; }; /** * Set canvas * @param {HTMLCanvasElement} canvas */ static setCanvas(canvas) { if (canvas) { that._canvas = null; that._context = null; that._canvas = canvas; that._canvasContainer.innerHTML = ''; that._canvasContainer.appendChild(that._canvas); that._context = that._canvas.getContext('2d'); } }; /** * Set context * @param {CanvasRenderingContext2D} context */ static setContext(context) { if (!Framework.Util.isUndefined(context)) { that.context = null; that._canvas = null; that.context = context; } else { Framework.DebugInfo.Log.error('Game SetContext Error') } }; /** * Get context * @returns {CanvasRenderingContext2D|null} */ static getContext() { return that.context; }; /** * 讓任何一個在網頁上的元件得以全螢幕, 一定要在有使用者可以觸發的事件內撰寫, 例如: * {{#crossLink &quot;Level/click:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/mousedown:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/mouseup:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/mousemove:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/touchstart:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/touchmove:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}} * 否則會無法全螢幕 * @param {Object} ele 要被全螢幕的DOM, 若不設定則為遊戲的CANVAS * @static * @example * Framework.Game.fullScreen(); */ static fullScreen(ele) { var ele = ele || that._canvas; if (!ele.fullscreenElement &amp;&amp; // alternative standard method !ele.mozFullScreenElement &amp;&amp; !ele.webkitFullscreenElement &amp;&amp; !ele.msFullscreenElement) { // current working methods if (ele.requestFullscreen) { ele.requestFullscreen(); } else if (ele.msRequestFullscreen) { ele.msRequestFullscreen(); } else if (ele.mozRequestFullScreen) { ele.mozRequestFullScreen(); } else if (ele.webkitRequestFullscreen) { ele.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT); } //ele.style.width = '100%'//window.innerWidth; //ele.style.height = '100%'//window.innerHeight; } }; /** * 退出全螢幕 * @static * @example * Framework.Game.exitFullScreen(); */ static exitFullScreen() { if (document.exitFullscreen) { document.exitFullscreen(); } else if (document.msExitFullscreen) { document.msExitFullscreen(); } else if (document.mozCancelFullScreen) { document.mozCancelFullScreen(); } else if (document.webkitExitFullscreen) { document.webkitExitFullscreen(); } }; static resizeEvent() { var base = 0, baseWidth = window.innerWidth / that._ideaWidth, baseHeight = window.innerHeight / that._ideaHeight, scaledWidth = 0, scaledHeight = 0; if (that._isTestMode || that._isRecordMode) { baseWidth = window.innerWidth * 0.7 / that._ideaWidth; baseHeight = window.innerHeight * 0.7 / that._ideaHeight; } if (baseWidth &lt; baseHeight) { base = baseWidth; } else { base = baseHeight; } scaledWidth = Math.round(base * that._ideaWidth); scaledHeight = Math.round(base * that._ideaHeight); that._widthRatio = scaledWidth / that._canvas.width; that._heightRatio = scaledHeight / that._canvas.height; //that._canvasContainer.style.width = scaledWidth; //that._canvasContainer.style.height = scaledHeight; that._canvas.style.width = scaledWidth + 'px'; // 2017.02.20, from V3.1.1 that._canvas.style.height = scaledHeight + 'px'; // 2017.02.20, from V3.1.1 Array.prototype.toArray( document.querySelectorAll(&quot;.screen&quot;) ).forEach((s) =&gt; { let wRate = scaledWidth / s.clientWidth; let hRate = scaledHeight / s.clientHeight; s.style.transform = 'scale(' + wRate + ', ' + hRate + ') translateZ(0)'; }); }; static _pushGameObj(ele) { try { that._currentLevel._allGameElement.push(ele); } catch (e) { } }; static _showAllElement() { that._currentLevel._showAllElement(); }; }; let that = Framework.Game; that._config = Framework.Config; // gameloop fps that.fps = that._config.fps; that.canvasWidth = that._config.canvasWidth; that.canvasHeight = that._config.canvasHeight; that.isBackwardCompatiable = true; that._widthRatio = 1; that._heightRatio = 1; that._isRecording = false; that._isRecordMode = _isRecordMode; that._isTestMode = _isTestMode; that._isTestReady = false; that._isReplay = false; that.isContinue = false; that._isInit = false; // gameloop is running ? that._isRun = false; // show fps's div that._fpsContext = undefined; // FPS analysis object // that._fpsAnalysis = new Framework.FpsAnalysis(); // that._drawfpsAnalysis = new Framework.FpsAnalysis(); // for gameloop - that._runInstance = undefined; // game state that._levels = []; that._testScripts = []; // current level /** * * @type {Framework.Level} * @private */ that._currentLevel = undefined; that._context = null; that._currentTestScript = undefined; that._currentReplay = undefined; that._ideaWidth = that._config.canvasWidth; that._ideaHeight = that._config.canvasHeight; that.timelist = []; that._record = new Framework.Record(); that._mainContainer = document.createElement('div'); if (that._isRecordMode) { that._mainContainer.style.position = &quot;relative&quot;; that._mainContainer.style.float = &quot;left&quot;; that._mainContainer.style.width = '70%'; that._mainContainer.style.height = '100%'; that._mainContainer.style.display = 'table'; } else if (that._isTestMode) { that._mainContainer.style.position = &quot;relative&quot;; that._mainContainer.style.float = &quot;left&quot;; that._mainContainer.style.width = '70%'; that._mainContainer.style.height = '100%'; } else { that._mainContainer.classList.add(&quot;container-wrap&quot;); } that._mainContainer.style.backgroundColor = '#111'; that._canvasContainer = document.createElement('div'); that._canvasContainer.classList.add(&quot;container&quot;); that._canvas = document.createElement('canvas'); that._canvas.style.backgroundColor = '#000'; that._canvas.setAttribute('id', '__game_canvas__'); that._canvas.width = that._config.canvasWidth; that._canvas.height = that._config.canvasHeight; that._canvasContainer.appendChild(that._canvas); that._mainContainer.appendChild(that._canvasContainer); that._context = that._canvas.getContext('2d'); return Framework; })(Framework || {}); const listMember = function (main, space, divId) { if (document.getElementById(divId + &quot;_check&quot;)) { if (document.getElementById(divId + &quot;_check&quot;).src.match(&quot;../../src/image/arrow_over.png&quot;)) { document.getElementById(divId + &quot;_check&quot;).src = &quot;../../src/image/arrow.png&quot;; } else { document.getElementById(divId + &quot;_check&quot;).src = &quot;../../src/image/arrow_over.png&quot;; } } var div = document.getElementById(divId); // var length = div.childNodes.length; var length = 0; if ((div != null) &amp;&amp; (div.childNodes != null)) { length = div.childNodes.length; } if (length &gt; 4) { for (var i = 4; i &lt; length; i++) { div.removeChild(div.childNodes[4]); } } else { for (let key in eval(main)) { //not function try { if (eval(main)[key].toString().indexOf(&quot;function&quot;, 0) === -1) { if (key != &quot;rootScene&quot; &amp;&amp; key != &quot;autoDelete&quot; &amp;&amp; key != &quot;_firstDraw&quot; &amp;&amp; key != &quot;_allGameElement&quot;) { var varDiv = document.createElement(&quot;div&quot;); varDiv.id = key; varDiv.setAttribute(&quot;vertical-align&quot;, &quot;baseline&quot;); var checkBox = document.createElement(&quot;img&quot;); checkBox.setAttribute(&quot;src&quot;, &quot;../../src/image/arrow.png&quot;); checkBox.setAttribute(&quot;width&quot;, &quot;5%&quot;); checkBox.setAttribute(&quot;id&quot;, key + &quot;_check&quot;); if (isNaN(key)) { var func = 'listMember(&quot;' + main.toString() + '.' + key.toString() + '&quot;, &quot;' + space + &quot;&amp;nbsp&amp;nbsp&amp;nbsp&quot; + '&quot;, &quot;' + key + '&quot;)'; } else { var func = 'listMember(&quot;' + main.toString() + '[' + key.toString() + ']&quot;, &quot;' + space + &quot;&amp;nbsp&amp;nbsp&amp;nbsp&quot; + '&quot;, &quot;' + key + '&quot;)'; } checkBox.setAttribute(&quot;onclick&quot;, func); varDiv.innerHTML += space; varDiv.appendChild(checkBox); varDiv.innerHTML += key + &quot;&amp;nbsp&amp;nbsp&amp;nbsp&quot;; if (!isNaN(eval(main)[key])) { var btn = document.createElement(&quot;input&quot;); btn.setAttribute(&quot;type&quot;, &quot;button&quot;); btn.value = &quot;Assert&quot;; var func = 'addAssertion(&quot;' + main.toString() + '.' + key.toString() + '&quot;,&quot;' + eval(main)[key] + '&quot;)'; btn.setAttribute(&quot;onclick&quot;, func); varDiv.appendChild(btn); } varDiv.innerHTML += &quot;&lt;br&gt;&quot;; div.appendChild(varDiv); // console.log(key + &quot;: &quot; + eval(main)[key] + &quot;\\n&quot;); } } } catch (e) { } } space += &quot;&amp;nbsp&amp;nbsp&amp;nbsp&quot;; } }; const addAssertion = function (assertTarget, assertValue) { // var s = assertTarget.indexOf(&quot;Framework.Game._currentLevel.&quot;) assertTarget = assertTarget.substring(29, assertTarget.length); var recordDiv = document.getElementById(&quot;record_div&quot;); document.getElementById(&quot;record_div&quot;).innerHTML += '&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;replay.assertEqual(&quot;' + assertTarget + '&quot;, ' + assertValue + ');&lt;/p&gt;'; }; × Search results Close "},"Framework_ResourceManager.js.html":{"id":"Framework_ResourceManager.js.html","title":"Source: Framework/ResourceManager.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/ResourceManager.js 'use strict'; var Framework = (function (Framework) { const DELAY_TIME = 0; (function () { var _requestCount = 0, _responseCount = 0, _timeountIDPrevious = 0, _timeountID = 0, _intervalID = 0, ajaxProcessing = false, _responsedResource = {}, _subjectFunction = function () { }, ResourceManagerInstance, _resourceBlobCache = new Map(), _resourceArrayBufferCache = new Map(), _zipEntry = undefined ; var getFinishedRequestPercent = function () { return _responseCount / _requestCount * 100; }; var getRequestCount = function () { return _requestCount; }; var getResponseCount = function () { return _responseCount; }; var loadImage = function (requestOption) { if (typeof requestOption.id === &quot;undefined&quot;) requestOption.id = requestOption.url; return new Promise((resolve, reject) =&gt; { if (_responsedResource[requestOption.id]) { resolve(_responsedResource[requestOption.id]); } let imageObj = new Image(); imageObj.src = requestOption['url']; _requestCount++; if (_intervalID === null) { _intervalID = setInterval(detectAjax, DELAY_TIME); finishLoading(); } imageObj.onload = function () { _responseCount++; _responsedResource[requestOption.id] = {url: requestOption.url, response: imageObj}; resolve(_responsedResource[requestOption.id]); }; imageObj.onerror = function (e) { reject(e); throw e; }; }); }; var minAjaxJSON = function (requestOption) { requestOption.systemSuccess = function (responseText, textStatus, xmlHttpRequest) { var responseJSON = JSON.stringify(responseText); _responsedResource[requestOption.id] = {url: requestOption.url, response: responseJSON}; _responseCount++; }; minAjax(requestOption.type, requestOption); }; var minAjax = function (type, requestOption) { var userSettings = userSettings || {}; userSettings.type = type || 'POST'; if (!Framework.Util.isUndefined(requestOption.data)) { userSettings['data'] = requestOption.data; } if (!Framework.Util.isUndefined(requestOption.systemSuccess)) { userSettings['success'] = requestOption.systemSuccess; } ajax(requestOption, userSettings); }; var ajax = function (requestOption, userSettings) { _requestCount++; var defaultSettings = { type: 'POST', cache: false, async: true, contentType: 'application/x-www-form-urlencoded; charset=UTF-8', error: function (xmlHttpRequest, textStatus) { }, //data: 'user=admin%20admin&amp;password=12345' //需要自行encode, 且只接受string格式 statusCode: { /*404: function() {}, 500: function() {},*/ //這部分USER可以自行設定 }, success: function (data, textStatus, xmlHttpRequest) { }, }; var userSettings = userSettings || defaultSettings; userSettings = Framework.Util.overrideProperty(defaultSettings, userSettings); var xhr = new XMLHttpRequest(); xhr.onload = (function () { if (xhr.readyState === 4) { if (xhr.status === 200) { _responsedResource[requestOption.id] = {url: requestOption.url, response: xhr.responseText}; userSettings.success(xhr.responseText, xhr.statusText, xhr); } else { userSettings.error(xhr, xhr.statusText); } } }); if (!userSettings.cache &amp;&amp; Framework.Util.isUndefined(userSettings.data) &amp;&amp; userSettings.type === 'GET') { requestOption.url = requestOption.url + '?' + Math.random(); } else if (!Framework.Util.isUndefined(userSettings.data) &amp;&amp; userSettings.data.trim() !== '') { requestOption.url = requestOption.url + '?' + userSettings.data.trim(); } xhr.open(userSettings.type, requestOption.url, userSettings.async); xhr.overrideMimeType('text/plain; charset=x-user-defined'); if (userSettings.type === 'GET') { xhr.send(); } else { xhr.setRequestHeader('Content-Type', userSettings.contentType); xhr.send(userSettings.data); } }; var getResource = function (id) { if (Framework.Util.isUndefined(_responsedResource[id])) { throw ('\\'' + id + '\\' is undefined Resource.'); } return _responsedResource[id].response; }; var destroyResource = function (id) { if (Framework.Util.isUndefined(_responsedResource[id])) { return; } _responsedResource[id].response = null; _responsedResource[id].url = null; _responsedResource[id] = null; delete _responsedResource[id]; }; var setSubjectFunction = function (subjectFunction) { _subjectFunction = subjectFunction; }; var detectAjax = function () { //Constuctor即開始偵測 //要有(_requestCount == 0)是為了避免一開始就去執行gameController.start ajaxProcessing = (_requestCount !== _responseCount) || (_requestCount === 0); }; var stopDetectingAjax = function () { clearInterval(_intervalID); _intervalID = null; }; var finishLoading = function () { //由game來控制遊戲開始的時機, 需要是在發出所有request後, 再call這個funciton detectAjax(); if (!ajaxProcessing) { stopDetectingAjax(); _subjectFunction(); ajaxProcessing = false; } else { _timeountIDPrevious = _timeountID; _timeountID = setTimeout(function () { finishLoading(); clearTimeout(_timeountIDPrevious); }, DELAY_TIME); } }; /** * Resources * * @class {Framework.ResourceManager} * @namespace Framework */ class ResourceManager { constructor(subjectFunction) { _requestCount = 0; _responseCount = 0; _responsedResource = {}; if (!Framework.Util.isUndefined(subjectFunction)) { _subjectFunction = subjectFunction; } //_intervalID = setInterval(detectAjax, 50); finishLoading(); } /** * Loads the image. * * @return {Promise} The image. */ loadImage() { return loadImage.apply(this, arguments); } /** * Loads the JSON. * * @return The JSON. */ loadJSON() { return minAjaxJSON.apply(this, arguments); } /** * * @param {String} url * @param option * @returns {Promise.&lt;TResult&gt;|*} */ loadResource(url, option) { _requestCount++; return fetch(url, option).then((data) =&gt; { finishLoading(); _responseCount++; return data; }); } loadResourceAsBlob(url) { url = url.replace(/\\\\/g, '/'); url = url.replace(/\\/\\//g, '/'); if (_resourceBlobCache.has(url)) { return new Promise((a, b) =&gt; { return a(_resourceBlobCache.get(url)); }); } else if (url.startsWith('blob:')) { console.warn(url); return new Promise((a, b) =&gt; { return a(url); }); } else { _requestCount++; return fetch(url, { method: 'GET', }) .then(r =&gt; r.blob()) .then(b =&gt; { finishLoading(); _responseCount++; _resourceBlobCache.set(url, URL.createObjectURL(b)); return _resourceBlobCache.get(url); }); } } loadResourceAsArrayBuffer(url) { if (typeof url !== 'string') { throw new SyntaxError('U should pass a url to this method'); } url = url.replace(/\\\\/g, '/'); url = url.replace(/\\/\\//g, '/'); if (_zipEntry) { let path = url .replace(/^\\.\\//ig, '') .replace(/^\\//ig) .replace(/\\\\/); let zipFile = _zipEntry.file(path); if (zipFile) { return zipFile.async(&quot;arraybuffer&quot;); } } if (_resourceArrayBufferCache.has(url)) { return new Promise((a, b) =&gt; { const oBuf = _resourceArrayBufferCache.get(url); return a(oBuf.slice(0)); }); } else { _requestCount++; return fetch(url, { method: 'GET', }) .then(r =&gt; r.arrayBuffer()) .then(b =&gt; { finishLoading(); _responseCount++; _resourceArrayBufferCache.set(url, b); return _resourceArrayBufferCache.get(url).slice(0); }); } } /** * Destroys the resource. * * @return . */ destroyResource() { return destroyResource.apply(this, arguments); } /** * Gets the resource. * * @return The resource. */ getResource() { return getResource.apply(this, arguments); } /** * Sets subject function. * * @return . */ setSubjectFunction() { return setSubjectFunction.apply(this, arguments); } /** * Gets finished request percent. * * @return The finished request percent. */ getFinishedRequestPercent() { return getFinishedRequestPercent.apply(this, arguments); } /** * Gets request count. * * @return The request count. */ getRequestCount() { return getRequestCount.apply(this, arguments); } /** * Gets response count. * * @return The response count. */ getResponseCount() { return getResponseCount.apply(this, arguments); } loadZip() { lf2.Prefetch.get('RESOURCES') .then(zip =&gt; _zipEntry = zip) .catch(e =&gt; { console.error(e); }) } } ; /** * * @type {ResourceManager} */ Framework.ResourceManager = ResourceManagerInstance = new ResourceManager(); return ResourceManagerInstance; })(); return Framework; })(Framework || {}); × Search results Close "},"Framework_AnimationSprite.js.html":{"id":"Framework_AnimationSprite.js.html","title":"Source: Framework/AnimationSprite.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/AnimationSprite.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { /** * 支援播放連續圖片的Sprite * * @param {Object} options * options.url為要載入的圖片, 當url為一個Array時表示為零散的多張圖片, * 當為string時表示是一張大張的連續動作圖, * 故需要在提供大張連續圖的row和col. * options.speed可以設定這個Sprite播放的速度(fps), * options.loop 則可以設定這個Sprite是否需要不斷重複播放 * @example * new Framework.AnimationSprite({url:['image1.png', 'image2.bmp']}); //多張圖片 * new Framework.AnimationSprite({url:' bigImage.png', col: 10 , row: 7 , loop: true , speed: 6}); //只有一張大型的連續動作圖,speed和loop為非必要項 * */ Framework.AnimationSprite = class extends Framework.GameObject { /** * Constructor. * * @param options Options for controlling the operation. */ constructor(options) { super(); // Define variable // private this._id = undefined; this._type = undefined; this._isLoadSprite = false; this._sprites = []; this._previousTime = (new Date()).getTime(); this._start = false; // public this.col = 1; this.row = 1; this.from = 0; this.to = 0; this._index = 0; this.speed = 10; this.loop = true; this.maxIndex = 0; this.speedCounter = 0; this.finishPlaying = function () { }; // 建構子參數判斷 if (!Framework.Util.isUndefined(options.url)) { if (Framework.Util.isString(options.url)) { this._id = options.url; if (Framework.Util.isUndefined(options.col) || Framework.Util.isUndefined(options.row)) { Framework.DebugInfo.Log.error('AnimationSprite Error : 建構子參數錯誤，需指定col、row'); throw new SyntaxError('AnimationSprite constructor arguments error'); } else { this.col = options.col; this.row = options.row; this.maxIndex = this.col * this.row - 1; } } else if (Array.isArray(options.url)) { this.maxIndex = options.url.length - 1; this.row = options.url.length; } else { Framework.DebugInfo.Log.error('AnimationSprite Error : 建構子參數錯誤，url格式不正確'); throw new SyntaxError('AnimationSprite constructor arguments error'); } } else { Framework.DebugInfo.Log.error('AnimationSprite Error : 建構子參數錯誤'); throw new SyntaxError('AnimationSprite constructor arguments error'); } this.speed = options.speed || 24; this.loop = (Framework.Util.isUndefined(options.loop) ? true : options.loop); if (Framework.Util.isString(options.url)) { //單張圖片切割 Framework.ResourceManager.loadImage({id: this._id, url: this._id}); this._type = 'one'; } else if (Array.isArray(options.url)) { //一堆圖片串成動畫 this._id = []; this._type = 'more'; this._id = options.url; options.url.forEach(function (src) { this._sprites.push(new Framework.Sprite(src)); }, this); this._isLoadSprite = true; } else if (!Framework.Util.isUndefined(options)) { Framework.DebugInfo.Log.error('AnimationSprite 不支援的參數 ' + options); } this.pushSelfToLevel(); } /** * Next frame. * * @private * @return . */ _nextFrame() { if (this._start) { this.index++; this._changeFrame = true; if (this.index &gt; this.to) { if (this.loop) { this.index = this.from; } else { this.index = this.to; this._start = false; this.finishPlaying.call(this); } } /*if(this.to === -1){ if(this.index &gt;= this.maxIndex){ this._start = this.loop; if(this._start){ this.index = this.from; }else{ this.index = this.maxIndex-1; } } }else{ if(this.index &gt; this.to){ this._start = this.loop; this.index = this.from; } }*/ } } /** * Init texture. * * @return . */ initTexture() { } /** * * 開始播放設定好的AnimationSprite * @param {Object} options options.from和options.to表示要從第幾張播放到第幾張, * 若to &lt; from表示要倒著播放, 可以在此設定要被播放的速度和是否重複播放, * finishPlaying可以設定播放完畢後是否要有callback * (loop: true時, 此callback永遠不會被執行) * @example * start({from:3, to: 5}); //從第三張圖片播放到第五張 * start({from:6, to: 1}); //倒著從第六張圖片播放到第一張 * start({from:6, to: 1, loop: false, speed: 1, finishPlaying: function(){ * console.log('finish'); * }}); */ start(option) { var option = option || {}; this.from = (Framework.Util.isUndefined(option.from) ? 0 : option.from); this.to = (Framework.Util.isUndefined(option.to) ? this.maxIndex : option.to); this.speed = (Framework.Util.isUndefined(option.speed) ? this.speed : option.speed); this.loop = (Framework.Util.isUndefined(option.loop) ? this.loop : option.loop); this._start = true; this._previousTime = (new Date()).getTime(); this.finishPlaying = option.finishPlaying || function () { }; this.userInputFrom = this.from; this.userInputTo = this.to; if (this.userInputFrom &gt; this.userInputTo) { this.from = this.maxIndex - this.from; this.to = this.maxIndex - this.to; if (this._type === 'more') { this._sprites.reverse(); } } this.index = this.from; } /** * 停止播放AnimationSprite, 若已經停止, 則不會發生任何事情 */ stop() { this._start = false; } /** * 繼續播放AnimationSprite, 若未曾停止, 則不會發生任何事情 */ resume() { if (!this._start) { this._previousTime = (new Date()).getTime(); this._start = true; } } /** * Loads this object. * * @return . */ load() { if (this._type === 'one') { Framework.ResourceManager.loadImage({id: this._id, url: this._id}); } else { this._id.forEach(function (src) { Framework.ResourceManager.loadImage({id: src, url: src}); }, this); } } /** * Initializes this object. * * @return . */ initialize() { //if(this._type === 'one') { // 故意用 closures 隔離變數的scope //(function() { var i = 0, tmpImg, tmpCanvas, tmpContext, sprite, realWidth, realHeight; if (this._type === 'one') { this.texture = Framework.ResourceManager.getResource(this._id); for (i = 0; i &lt; this.col * this.row; i++) { tmpCanvas = document.createElement('canvas'); realWidth = this.texture.width * this.scale; realHeight = this.texture.height * this.scale; tmpCanvas.width = (this.texture.width ) / this.col; tmpCanvas.height = (this.texture.height ) / this.row; tmpContext = tmpCanvas.getContext('2d'); tmpContext.drawImage(this.texture, -(this.texture.width / this.col) * (i % this.col), -(this.texture.height / this.row) * (Math.floor(i / this.col))); this._sprites.push(new Framework.Sprite(tmpCanvas)); } if (this.userInputFrom &gt; this.userInputTo) { this._sprites.reverse(); } } else { this._id.forEach(function (imgId) { tmpCanvas = document.createElement('canvas'); tmpImg = Framework.ResourceManager.getResource(imgId); realWidth = tmpImg.width * this.scale; realHeight = tmpImg.height * this.scale; tmpCanvas.width = realWidth; tmpCanvas.height = realHeight; tmpContext = tmpCanvas.getContext('2d'); tmpContext.drawImage(tmpImg, 0, 0); this._sprites.push(new Framework.Sprite(tmpCanvas)); }, this); this.texture = this._sprites[this.index]; } //}).call(this); this._isLoadSprite = true; // } } /** * Updates this object. * * @return . */ update() { if (this._start) { var addFrame = this.speed / 30; this.speedCounter += addFrame; while (this.speedCounter &gt; 1) { this._nextFrame(); this.speedCounter -= 1; } } } /** * Draws the given painter. * * @param painter The painter. * * @return . */ draw(painter) { var painter = painter || Framework.Game._context; if (Framework.Util.isUndefined(this._sprites) || this._sprites.length == 0) { this.initialize(); } //if(this.isObjectChanged) { this.texture = this._sprites[this.index]; //if(this._isMove) { this.texture.position = this.position; this.texture.absolutePosition = this.absolutePosition; //} //if(this._isRotate) { this.texture.rotation = this.rotation; this.texture.absoluteRotation = this.absoluteRotation; //} //if(this._isScale) { this.texture.scale = this.scale; this.texture.absoluteScale = this.absoluteScale; //} this.texture.spriteParent = this.spriteParent; this.texture.layer = this.layer; this.texture.isDrawBoundry = this.isDrawBoundry; this.texture.isDrawPace = this.isDrawPace; this.texture._changeFrame = this._changeFrame; this.texture.draw(painter); //} } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return '[AnimationSprite Object]'; } /** * Teardowns this object. * * @return . */ teardown() { if (this.type === 'one') { Framework.ResourceManager.destroyResource(this.id); } else if (this.type === 'more') { this._sprites.forEach(function (s) { s.teardown(); }, this) } } /** * Gets the index. * * @return {Number} . */ get index() { return this._index; } /** * Indexes the given new value. * * @param {Number} newValue The new value. * * @return {void}. */ set index(newValue) { this._index = newValue; this._changeFrame = true; } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_AttachableInterface.js.html":{"id":"Framework_AttachableInterface.js.html","title":"Source: Framework/AttachableInterface.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/AttachableInterface.js 'use strict'; var Framework = (function (Framework) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; /** * Attachable Interface * 提供可以附加到Framework.Level或是Framework.Scence的介面 * * @interface Framework.AttachableInterface * @type {AttachableInterface} */ Framework.AttachableInterface = class AttachableInterface { /** * Load * @abstract */ load() { throw new METHOD_NOT_IMPLEMENT; } // /** // * Initial this object // * @abstract // */ // initialize(){ // throw new METHOD_NOT_IMPLEMENT; // } /** * Update object * @abstract */ update() { throw new METHOD_NOT_IMPLEMENT; } /** * Draw object * * @param {CanvasRenderingContext2D} ctx * @abstract */ draw(ctx) { throw new METHOD_NOT_IMPLEMENT; } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_GameObject.js.html":{"id":"Framework_GameObject.js.html","title":"Source: Framework/GameObject.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/GameObject.js // By Raccoon 'use strict'; var Framework = (function (Framework) { const Point3D = Framework.Point3D; /** * 所有Sprite和Scene的Base Class, * 一般而言, 應該不會直接new它, 而是new其他的concrete class * * @implements Framework.AttachableInterface * @abstract */ Framework.GameObject = class GameObject{ /** Default constructor. */ constructor() { this.relativePosition = new Point3D(0, 0, 0); this.relativeRotation = 0; this.relativeScale = 1; this.absolutePosition = new Point3D(0, 0, 0); this.absoluteRotation = 0; this.absoluteScale = 1; this.systemLayer = 1; //this.spriteParent = {}; this.previousAbsolutePosition = new Point3D(0, 0, 0); this.previousWidth = 0; this.previousHeight = 0; this.rotation = 0; this.scale = 1; this.position = new Point3D(0, 0, 0); this._isRotate = true; this._isScale = true; this._isMove = true; this._changeFrame = true; this._isCountAbsolute = false; /** * @type {Framework.Scene} */ this.spriteParent = undefined; } /** * Clears the dirty flag. * * @return . */ clearDirtyFlag() { this._isRotate = false; this._isScale = false; this._isMove = false; this._changeFrame = false; } /** * Pushes the self to level. * * @return . */ pushSelfToLevel() { Framework.Game._pushGameObj(this); } /** * Count absolute property. * * @return The total number of absolute property. */ countAbsoluteProperty() { var rad, parentRotation = 0, parentScale = 1, parentPositionX = 0, parentPositionY = 0; this.previousAbsolutePosition.x = this.absolutePosition.x; this.previousAbsolutePosition.y = this.absolutePosition.y; this.previousWidth = this.width; this.previousHeight = this.height; if (!Framework.Util.isUndefined(this.spriteParent)) { parentRotation = this.spriteParent.absoluteRotation; parentScale = this.spriteParent.absoluteScale; parentPositionX = this.spriteParent.absolutePosition.x; parentPositionY = this.spriteParent.absolutePosition.y; } rad = (parentRotation / 180) * Math.PI; var changedRotate = this.rotation + parentRotation, changedScale = this.scale * parentScale, changedPositionX = Math.floor((this.relativePosition.x * Math.cos(rad) - this.relativePosition.y * Math.sin(rad))) * parentScale + parentPositionX, changedPositionY = Math.floor((this.relativePosition.x * Math.sin(rad) + this.relativePosition.y * Math.cos(rad))) * parentScale + parentPositionY; //changedPositionX = this.relativePosition.x + parentPositionX, //changedPositionY = this.relativePosition.y + parentPositionY; if (this.absoluteRotation !== changedRotate) { this._isRotate = true; } if (this.absoluteScale !== changedScale) { this._isScale = true; } if (this.absolutePosition.x !== changedPositionX || this.absolutePosition.y !== changedPositionY) { this._isMove = true; } this.absoluteRotation = changedRotate; this.absoluteScale = changedScale; this.absolutePosition.x = changedPositionX; this.absolutePosition.y = changedPositionY; if (Array.isArray(this.attachArray)) { this.attachArray.forEach(function (ele) { if (!Framework.Util.isUndefined(ele.countAbsoluteProperty)) { ele.countAbsoluteProperty(); } }); } } /** * @abstract */ load() { } /** * @abstract */ initialize() { } /** * @abstract */ update() { } /** * @abstract */ draw(ctx) { } /** * @abstract */ teardown() { } /** * * @returns {string} */ toString() { return '[GameObject Object]' } /** * Is object changed. * @readonly * @return {boolean} A get. */ get isObjectChanged() { var isParentChanged = false; if (!Framework.Util.isUndefined(this.attachArray)) { this.attachArray.forEach(function (ele) { if (ele.isObjectChanged) { isParentChanged = true; } }); } return this._isRotate || this._isScale || this._isMove || this._changeFrame || isParentChanged; }; /** * Is on changed rectangle. * * @readonly * @return {boolean} A get. */ get isOnChangedRect() { var halfDiagonal = this.diagonal / 2, thisRect = { x: this.absolutePosition.x - halfDiagonal, y: this.absolutePosition.y - halfDiagonal, x2: this.absolutePosition.x + halfDiagonal, y2: this.absolutePosition.y + halfDiagonal, }, changedRect = Framework.Game._currentLevel._getChangedRect(1600, 900); if ((thisRect.x &lt; changedRect.x2 &amp;&amp; thisRect.y &lt; changedRect.y2) || (thisRect.x2 &gt; changedRect.x &amp;&amp; thisRect.y2 &gt; changedRect.y) || (thisRect.x2 &gt; changedRect.x &amp;&amp; thisRect.y2 &lt; changedRect.y) || (thisRect.x2 &lt; changedRect.x &amp;&amp; thisRect.y2 &gt; changedRect.y)) { return true; } return false; } /** * 相對位置的getter * * @return {Point} A get. */ get position() { return this.relativePosition; } /** *相對位置的setter * * @param {Point} value The value. * * @return {void} A set. */ set position(value) { this.relativePosition = new Point3D( value.x,value.y,value.z ); } /** * 相對旋轉角度的getter * * @return {Number} A get. */ get rotation() { return this.relativeRotation; } /** * 相對旋轉角度的setter * * @param {Number} newValue The new value. * * @return {void} */ set rotation(newValue) { this.relativeRotation = newValue; } /** * 相對放大縮小的getter * * @return {Number} A get. */ get scale() { return this.relativeScale; } /** * 相對放大縮小的setter * * @param {Number} newValue * @return {void} */ set scale(newValue) { this.relativeScale = newValue; } /** * 絕對寬度的getter * * @readonly * @return {Number} A get. */ get width() { var width = 0; if (this.texture) { width = this.texture.width; } return Math.floor(width * this.absoluteScale); } /** * 絕對高度的getter * * @return {Number} A get. */ get height() { var height = 0;//this.texture.height; if (this.texture) { height = this.texture.height; } return Math.floor(height * this.absoluteScale); } /** * Gets the diagonal. * * @return {Number} A get. */ get diagonal() { return Math.sqrt(this.width * this.width + this.height * this.height); } /** * 絕對位置左上角的getter * @property upperLeft * @type {Point} * @default 0 * @readOnly */ get upperLeft() { var oriX = -this.width / 2, oriY = -this.height / 2, positionDif = countRotatePoint({x: oriX, y: oriY}, this.absoluteRotation); return new Point( Math.floor(this.absolutePosition.x + positionDif.x), Math.floor(this.absolutePosition.y + positionDif.y) ); } /** * 絕對位置右上角的getter * @property upperRight * @type {Point} * @default 0 * @readOnly */ get upperRight() { var oriX = this.width / 2, oriY = -this.height / 2, positionDif = countRotatePoint({x: oriX, y: oriY}, this.absoluteRotation); return new Point( Math.floor(this.absolutePosition.x + positionDif.x), Math.floor(this.absolutePosition.y + positionDif.y) ); } /** * 絕對位置左下角的getter * @property lowerLeft * @type {Point} * @default 0 * @readOnly */ get lowerLeft() { var oriX = -this.width / 2, oriY = this.height / 2, positionDif = countRotatePoint(new Point(oriX, oriY), this.absoluteRotation); return new Point( Math.floor(this.absolutePosition.x + positionDif.x), Math.floor(this.absolutePosition.y + positionDif.y) ) } /** * 絕對位置右下角的getter * @property lowerRight * @type {Point} * @default 0 * @readOnly */ get lowerRight() { var oriX = this.width / 2, oriY = this.height / 2, positionDif = countRotatePoint(new Point(oriX, oriY), this.absoluteRotation); return new Point( Math.floor(this.absolutePosition.x + positionDif.x), Math.floor(this.absolutePosition.y + positionDif.y) ); } }; /** * Count rotate point. * * @param {Point} point The point. * @param {Number} angle The angle. * * @return {Point} The rotated point. */ const countRotatePoint = function (point, angle) { var currentRotate = (angle / 180) * Math.PI, cosRatio = Math.cos(currentRotate), sinRatio = Math.sin(currentRotate), pointX = point.x * cosRatio - point.y * sinRatio, pointY = point.x * sinRatio + point.y * cosRatio; return new Framework.Point(pointX, pointY); }; Object.defineProperty(Framework.GameObject.prototype, 'layer', { set: function (newValue) { this.systemLayer = newValue; if (!Framework.Util.isUndefined(this.attachArray)) { this.attachArray.forEach(function (o) { o.layer = newValue + 1; }); } }, get: function () { return this.systemLayer; } }); return Framework; }) (Framework || {}); × Search results Close "},"Framework_Point.js.html":{"id":"Framework_Point.js.html","title":"Source: Framework/Point.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Point.js 'use strict'; var Framework = (function (Framework) { /** * 2D coordinate, also use as a pair structure * 提供二維座標的儲存功能 * * @class {Framework.Point} * @property {Number} x * @property {Number} y * @property {Number} z */ Framework.Point = class Point { /** * Set Point * * @param {Number} x X axis coordinates * @param {Number} y y axis coordinates */ constructor(x, y) { /** * * @type {Number} */ this._x = floatval(x); /** * * @type {Number} */ this._y = floatval(y); } /** * Write point to target * * @param {Point} target */ writeTo(target) { if(target instanceof Point){ target.x = this.x; target.y = this.y; }else{ throw new ReferenceError('Target is not an instance of Point'); } } /** * get first data * @returns {Number} */ get first() { return this._x; } /** * get second data * @returns {Number} */ get second() { return this._y; } /** * Gets the x coordinate. * * @return {Number} x. */ get x() { return this._x; } /** * Is origin * * @returns {boolean} */ get isZero() { return this._x === 0 &amp;&amp; this._x === this._y; } /** * X coordinates the given value. * * @param {Number} value The value. * * @return {void} */ set x(value) { this._x = floatval(value); } /** * Clone * @returns {Point} */ clone() { return new Point(this.x, this.y); } /** * * @param {Number} x * @param {Number} y * @returns {Point} */ offset(x, y) { this.x += floatval(x); this.y += floatval(y); return this; } /** * Gets the y coordinate. * * @return {Number} y. */ get y() { return this._y; } /** * Y coordinates the given value. * * @param {Number} value The value. * * @return {void}. */ set y(value) { this._y = floatval(value); } toString() { return `(${this._x}, ${this._y})`; } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_Point3D.js.html":{"id":"Framework_Point3D.js.html","title":"Source: Framework/Point3D.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Point3D.js 'use strict'; var Framework = (function (Framework) { const Point = Framework.Point; /** * 提供三維座標的儲存功能 * @class {Framework.Point3D} * @extends {Framework.Point} * @property {Number} z */ Framework.Point3D = class Point3D extends Point { /** * Set Point * * @param {Number} x X coordinates * @param {Number} y Y coordinates * @param {Number} z Z coordinates */ constructor(x, y, z) { super(x, y); this._z = floatval(z) || 0; } /** * Write point to target * * @param {Point3D} target */ writeTo(target) { super.writeTo(target); if(target instanceof Point3D){ target.z = this.z; }else{ throw new ReferenceError('Target is not an instance of Point3D'); } } /** * Gets the z coordinate. * * @return {Number} z. */ get z() { if (isNaN(this._z)) { this._z = 0; } return this._z; } /** * Z coordinates the given value. * * @param {Number} value The value. * * @return {void} */ set z(value) { this._z = floatval(value); } /** * Clone * * @override * @returns {Point3D} */ clone() { return new Point3D(this._x, this._y, this._z); } /** * Is origin * * @returns {boolean} */ get isZero() { return this._x === 0 &amp;&amp; this._x === this._y &amp;&amp; this._x === this._z; } /** * * @param {Number} x * @param {Number} y * @param {Number} z * @returns {Point3D} */ offset(x, y, z) { this.x += floatval(x); this.y += floatval(y); this.z += floatval(z); return this; } /** * * @returns {string} */ toString() { return `(${this._x}, ${this._y}, ${this._z})`; } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_Scene.js.html":{"id":"Framework_Scene.js.html","title":"Source: Framework/Scene.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Scene.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { /** * 可以用來盛裝多個GameObject的容器, 當該容器位移時, 其所屬的GameObject也會跟著改變 * * @class {Framework.Scene} * @extends {Framework.GameObject} * @implements {Framework.AttachableInterface} * * @example * new Framework.Scene(); * */ Framework.Scene = class Scene extends Framework.GameObject { /** * Constructor. * */ constructor() { super(); this.id = undefined; this.type = undefined; this.texture = undefined; /** * * @type {Array} */ this.attachArray = []; this.pushSelfToLevel(); } /** * Loads this object. * * @return {void} */ load() { this.attachArray.forEach(function (ele) { ele.load(); }, this); } /** * Init texture. * * @return . */ initTexture() { this.attachArray.forEach(function (ele) { if (!Framework.Util.isUndefined(ele.initTexture)) { ele.initTexture(); } }, this); } /** * Updates this object. * * @return . */ update() { this.attachArray.forEach(function (ele) { ele.update(); }, this); } /** * Draws the given painter. * * @param {CanvasRenderingContext2D} painter The painter. * * @return . */ draw(painter) { painter = painter || Framework.Game._context; //this.countAbsoluteProperty1(); //if(this.isObjectChanged) { //this.context.clearRect(0, 0, this.canvas.width, this.canvas.height); this.attachArray.forEach(function (ele) { ele.draw(painter); }, this); //} } /** * 將一個Object放進Scene中, 使其可以跟著連動 * @param {Framework.AttachableInterface} target 必須是具有update和draw的物件, * 若不符合規定會throw exception * @example * var sprite = new Framework.Sprite('clock.jpg'), * scene = new Framework.Scene(); * sprite.position = { x: 100, y: 100 }; * scene.position = { x: 100, y: 100 }; * scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) */ attach(target) { //if (Framework.Util.isUndefined(target.relativePosition)) { // target.relativePosition = target.position || { x: 0, y: 0 }; //} //if (Framework.Util.isUndefined(target.selfRotation)) { // target.selfRotation = target.rotation || 0; //} //if (Framework.Util.isUndefined(target.selfScale)) { // target.selfScale = target.scale || 1; //} if (Framework.Util.isUndefined(target)) { throw 'target is undefined.'; } if (Framework.Util.isUndefined(target.draw) || Framework.Util.isUndefined(target.update)) { throw 'target.draw or target.update is undefined.'; } if (this.layer &gt; target.layer &amp;&amp; target.spriteParent) { throw 'target is the child of the object which be attached.'; } this.attachArray.push(target); target.spriteParent = this; target.layer = this.layer + 1; } /** * 將一個Object移開Scene中, 使其不再跟著連動 * @param {Object} target 已經被attach的物件 * @example * detach(spriteInstance); */ detach(target) { let index = this.attachArray.indexOf(target); if (index &gt; -1) { this.attachArray.splice(index, 1); target.spriteParent = undefined; target.layer = 1; //default } } /** * Convert this object into a string representation. * * @return {String}. */ toString() { return '[Scene Object]'; } }; return Framework; })(Framework || {}); × Search results Close "},"Framework_Sprite.js.html":{"id":"Framework_Sprite.js.html","title":"Source: Framework/Sprite.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Sprite.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { /** * 可以用來繪製圖片的物件 * position 是圖片的中間 * position 是圖片的中間 * position 是圖片的中間 * * 因為很雷所以要說三次 * * @param {string} filePath 圖片路徑 * @extends {Framework.GameObject} * @implements {Framework.AttachableInterface} * @example * new Framework.Sprite('clock.png'); * */ Framework.Sprite = class Sprite extends Framework.GameObject { constructor(options) { super(); // this._tmpCanvas = document.createElement('canvas'); // this._tmpContext = this._tmpCanvas.getContext('2d'); this.id = undefined; this.type = undefined; this.texture = undefined; this.isDrawBoundry = false; this.isDrawPace = false; if (Framework.Util.isString(options)) { this.id = options; Framework.ResourceManager.loadImage({id: options, url: options}).then(rep =&gt; { this.texture = rep.response; }); this.type = 'image'; this.pushSelfToLevel(); } else if (Framework.Util.isCanvas(options)) { this.texture = options; this.type = 'canvas'; } else if (!Framework.Util.isUndefined(options)) { Framework.DebugInfo.Log.error('Sprite 不支援的參數' + options); } } /** * Init texture. * * @return . */ initTexture() { if (Framework.Util.isUndefined(this.texture)) { this.texture = Framework.ResourceManager.getResource(this.id); } } /** * Draws the given painter. * * @param {CanvasRenderingContext2D} painter */ draw(painter) { // this.countAbsoluteProperty(); if (this.texture === undefined) { this.texture = Framework.ResourceManager.getResource(this.id); } var painter = painter || Framework.Game._context; //this.countAbsoluteProperty1(); //var tmp, realWidth, realHeight, tmpContext; if (this.texture instanceof Image || this.texture instanceof HTMLCanvasElement) { // realWidth = this.texture.width; // realHeight = this.texture.height; // 計算縮放後的大小 // if (false &amp;&amp; this.isObjectChanged) { // // if (!Framework.Util.isAbout(this.absoluteScale, 1, 0.00001) || !Framework.Util.isAbout(this.absoluteRotation, 0, 0.001)) { // realWidth *= this.scale; // realHeight *= this.scale; // // 將canvas 放大才不會被切到 // var diagonalLength = Math.ceil(Math.sqrt(Math.pow(realHeight, 2) + Math.pow(realWidth, 2))); // this.canvas.width = diagonalLength; // this.canvas.height = diagonalLength; // // var widthRatio = this.canvas.width / realWidth, // heightRatio = this.canvas.height / realHeight, // tranlateX = this.canvas.width / 2, // tranlateY = this.canvas.height / 2; // // // // 旋轉Canvas // //檢查是否有旋轉 // if (this.absoluteRotation % 360 !== 0) { // // 將Canvas 中心點移動到左上角(0,0) // this.context.translate(tranlateX, tranlateY); // // this.context.rotate(this.absoluteRotation / 180 * Math.PI); // // // 移回來 // this.context.translate(-tranlateX, -tranlateY); // } // // // // 縮放 // // 檢查是否有縮放 // if (this.absoluteScale != 1) { // this.context.scale(this.absoluteScale, this.absoluteScale); // } // // // 畫圖 // this.context.drawImage(this.texture, (this.canvas.width - realWidth) / 2 / this.absoluteScale, (this.canvas.height - realHeight) / 2 / this.absoluteScale); // // } // // } //console.log(&quot;sprite position, &quot; + this.absolutePosition.x + &quot; , &quot; + this.absolutePosition.y); // if (painter instanceof Framework.GameObject) { // painter = painter.context; //表示傳進來的其實是GameObject或其 Concrete Class // } // if (false &amp;&amp; (!Framework.Util.isAbout(this.absoluteScale, 1, 0.00001) || !Framework.Util.isAbout(this.absoluteRotation, 0, 0.001))) { // painter.drawImage(this.canvas, this.absolutePosition.x - this.canvas.width / 2, this.absolutePosition.y - this.canvas.height / 2); // } // else { painter.drawImage(this.texture, this.absolutePosition.x, this.absolutePosition.y); // } } } /** * Tests draw. * * @param painter The painter. * * @return . */ testDraw(painter) { var painter = painter || Framework.Game._context; this.countAbsoluteProperty(); var texture, tmp, realWidth, realHeight, tmpContext; if (Framework.Util.isUndefined(this.texture)) { this.texture = Framework.ResourceManager.getResource(this.id); } if (this.type === 'image' || this.type === 'canvas') { realWidth = this.texture.width; realHeight = this.texture.height; // 計算縮放後的大小 if (this.isObjectChanged) { if (!Framework.Util.isAbout(this.absoluteScale, 1, 0.00001) || !Framework.Util.isAbout(this.absoluteRotation, 0, 0.001)) { realWidth = this.texture.width * this.scale; realHeight = this.texture.height * this.scale; // 將canvas 放大才不會被切到 var diagonalLength = Math.floor(Math.sqrt(Math.pow(realHeight, 2) + Math.pow(realWidth, 2))); this.canvas.width = diagonalLength; this.canvas.height = diagonalLength; var widthRatio = this.canvas.width / realWidth, heightRatio = this.canvas.height / realHeight, tranlateX = this.canvas.width / 2, tranlateY = this.canvas.height / 2; // 將Canvas 中心點移動到左上角(0,0) this.context.translate(tranlateX, tranlateY); // 旋轉Canvas this.context.rotate(this.absoluteRotation / 180 * Math.PI); // 移回來 this.context.translate(-tranlateX, -tranlateY); // 縮放 this.context.scale(this.absoluteScale, this.absoluteScale); // 畫圖 this.context.drawImage(this.texture, (this.canvas.width - realWidth) / 2 / this.absoluteScale, (this.canvas.height - realHeight) / 2 / this.absoluteScale); } // 再畫到主Canvas上 if (this.isDrawBoundry) { this.context.rect((this.canvas.width - realWidth) / 2 / this.absoluteScale, (this.canvas.height - realHeight) / 2 / this.absoluteScale, this.texture.width, this.texture.height); this.context.stroke(); } if (this.isDrawPace) { this.context.rect(this.absolutePosition.x, this.absolutePosition.y, 1, 1); this.context.stroke(); } } if (painter instanceof Framework.GameObject) { painter = painter.context; //表示傳進來的其實是GameObject或其 Concrete Class } if (!Framework.Util.isAbout(this.absoluteScale, 1, 0.00001) || !Framework.Util.isAbout(this.absoluteRotation, 0, 0.001)) { painter.drawImage(this.canvas, this.absolutePosition.x - this.canvas.width / 2, this.absolutePosition.y - this.canvas.height / 2); } else { painter.drawImage(this.texture, this.absolutePosition.x - this.texture.width / 2, this.absolutePosition.y - this.texture.height / 2); } } } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return '[Sprite Object]'; } /** * Teardowns this object. * * @return . */ teardown() { if (this.type === 'image') { Framework.ResourceManager.destroyResource(this.id); } } }; return Framework; })(Framework); × Search results Close "},"lf2_!MainGame.js.html":{"id":"lf2_!MainGame.js.html","title":"Source: lf2/!MainGame.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/!MainGame.js &quot;use strict&quot;; var lf2 = (function (lf2) { const CHEAT_KEYWORD = &quot;lf2.net&quot;.toUpperCase().split('').reverse(); const FightLevel = lf2.FightLevel; class Game { /** Default constructor. */ constructor() { Framework.Game.addNewLevel({menu: new lf2.LaunchMenu()}); Framework.Game.addNewLevel({control: new lf2.MySettingLevel()}); Framework.Game.addNewLevel({loading: new lf2.LoadingLevel()}); Framework.Game.addNewLevel({selection: new lf2.SelectionLevel()}); Framework.Game.addNewLevel({help: new lf2.HelpLevel()}); Framework.Game.addNewLevel({fight: new FightLevel()}); this._cheatStatus = false; this.bgmStatus = !define.DEBUG; this._keyPool = new lf2.KeyEventPool(CHEAT_KEYWORD.length); this.bgmParam = { name: 'bgm', loop: true, stopPrevious: true }; Object.defineProperty(this.bgmParam, 'volume', { configurable: false, enumerable: true, get: () =&gt; { return this.bgmStatus ? define.BGM_VOLUME : 0 } }); window.addEventListener('keydown', (e) =&gt; { this._keyPool.push(e.key.toUpperCase()); switch (e.key) { case 'F10': this.bgmStatus = !this.bgmStatus; this.playBgm(); break; } }); this.addCheatHandle(); this.addEggHandle(); } /** * Starts this object. * * @return . */ start() { Framework.Game.start(); if (define.DEBUG) { document.documentElement.classList.add('mode-debug'); } else { document.documentElement.classList.add('mode-product'); } } /** * Key in sequence. * * @param asciiArrayReversed The ASCII array reversed. * * @return . */ keyInSequence(asciiArrayReversed) { return !asciiArrayReversed.some((e, i) =&gt; e !== this._keyPool[i]); } /** * Adds cheat handle. * * @return . */ addCheatHandle() { const keyDetection = () =&gt; { if (lf2.CurrentLevel instanceof FightLevel) return; if (this._cheatStatus) return; let pass = this.keyInSequence(CHEAT_KEYWORD); if (pass) { this._cheatStatus = true; if (define.DEBUG) { console.log('Cheat on'); } } }; window.addEventListener('keydown', keyDetection); } /** * Adds egg handle. * * @return . */ addEggHandle() { const keyDetection = () =&gt; { for (let i = 0, e = lf2.Egg.EGG_KEYWORD, j = e.length; i &lt; j; i++) { const V = e[i]; if (V.hasOwnProperty('key') &amp;&amp; V.hasOwnProperty('sound')) { if (this.keyInSequence(V.key)) { lf2.Egg.AddPlayQueue(V.sound); break; } } } }; window.addEventListener('keydown', keyDetection); } /** * Play bgm. * * @return . */ playBgm() { this.bgmAudio = this.bgmAudio || new Framework.Audio({ bgm: define.BGM_PATH + 'main.m4a', }); this.bgmAudio .done() .then(() =&gt; { this.bgmAudio.play('bgm', this.bgmParam); }); } /** * Gets the cheat status. * * @return {boolean} A get. */ get cheat() { return this._cheatStatus; } } lf2['!MainGame'] = new Game(); lf2['!MainGame'].start(); return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_pool_GameMapPool.js.html":{"id":"lf2_objects_pool_GameMapPool.js.html","title":"Source: lf2/objects/pool/GameMapPool.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/pool/GameMapPool.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * GameMapPool * * @type {GameMapPool} * @class GameMapPool * @extends {Map} */ class GameMapPool extends Map { constructor() { super(); } /** * Add value to this pool * @param {Number} key * @param {lf2.GameMap} value * * @returns {GameMapPool} */ set(key, value) { key = intval(key); if (isNaN(key)) throw &quot;Key must be an integer&quot;; super.set(key, value); return this; } } /** * * @type {GameMapPool} */ lf2.GameMapPool = new GameMapPool(); return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_pool_GameObjectPool.js.html":{"id":"lf2_objects_pool_GameObjectPool.js.html","title":"Source: lf2/objects/pool/GameObjectPool.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/pool/GameObjectPool.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * GameObjectPool * * @type {GameObjectPool} * @class GameObjectPool * @extends {Map} */ class GameObjectPool extends Map { constructor() { super(); } /** * Add value to this pool * @param {Number} key * @param {lf2.GameObject} value * * @returns {GameObjectPool} */ set(key, value) { key = intval(key); if (isNaN(key)) throw &quot;Key must be an integer&quot;; super.set(key, value); return this; } } /** * * @type {GameObjectPool} */ lf2.GameObjectPool = new GameObjectPool(); return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_LaunchMenu.js.html":{"id":"lf2_level_LaunchMenu.js.html","title":"Source: lf2/level/LaunchMenu.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/LaunchMenu.js &quot;use strict&quot;; var lf2 = (function (lf2) { const ResourceManager = Framework.ResourceManager; const Game = Framework.Game; const _MENU_CONTAINER_ID = &quot;__main_menu&quot;; const Prefetch = lf2.Prefetch; /** * @class lf2.LaunchMenu * @namespace lf2 * @extends {Framework.Level} * @implements {Framework.KeyboardEventInterface} * @type {{}} */ lf2.LaunchMenu = class extends Framework.Level { /** Default constructor. */ constructor() { super(); this.loadResLoadStart = false; } //初始化loadingProgress需要用到的圖片 //在initialize時會觸發的事件 loadingProgress(ctx, requestInfo) { super.loadingProgress(ctx, requestInfo); } /** * load() * * Loads this object. * * @return . */ load() { super.load(); //載入要被播放的音樂清單 //資料夾內只提供mp3檔案, 其餘的音樂檔案, 請自行轉檔測試 this.audio = new Framework.Audio({ ok: define.MUSIC_PATH + 'm_ok.m4a', join: define.MUSIC_PATH + 'm_join.m4a', cancel: define.MUSIC_PATH + 'm_cancel.m4a', pass: define.MUSIC_PATH + 'm_pass.m4a', end: define.MUSIC_PATH + 'm_end.m4a', }); this.html = ''; this._menuAttached = false; this._menuContainer = undefined; //Load Menu view ResourceManager.loadResource(define.DATA_PATH + 'LaunchScreen.html', {method: &quot;GET&quot;}).then((data) =&gt; { return data.text(); }).then((html) =&gt; { this.html = html; this.showLaunchMenu(); }); } /** * initialize() * * Initializes this object. * * @return . */ initialize() { } /** * update() * * Updates this object. * * @return . */ update() { super.update(); if (this._menuAttached &amp;&amp; !this.loadResLoadStart) { //Play bgm lf2['!MainGame'].playBgm(); this.loadResLoadStart = true; this.preload(); } } /** * Preloads this object. * * @return . */ preload() { Prefetch.start(); //Start preload loading video lf2.LoadingLevel.PreloadLoadingVideo(); } /** * draw(parentCtx) * * Draws the given parent context. * * @param parentCtx Context for the parent. * * @return . */ draw(parentCtx) { super.draw(parentCtx); if (!this._menuAttached) { } } /** * click(e, list, orgE) * * Clicks. * * @param e The unknown to process. * @param list The list. * @param orgE The organisation e. * * @return . */ click(e, list, orgE) { this._fullScreenGame(); } /** * Full screen game. * * @return . */ _fullScreenGame() { if (define.DEBUG) return; if ( false // document.fullscreenElement || // document.webkitFullscreenElement || // document.mozFullScreenElement || // document.msFullscreenElement ) { if (document.exitFullscreen) { document.exitFullscreen(); } else if (document.mozCancelFullScreen) { document.mozCancelFullScreen(); } else if (document.webkitExitFullscreen) { document.webkitExitFullscreen(); } else if (document.msExitFullscreen) { document.msExitFullscreen(); } } else { const element = document.documentElement; if (element.requestFullscreen) { element.requestFullscreen(); } else if (element.mozRequestFullScreen) { element.mozRequestFullScreen(); } else if (element.webkitRequestFullscreen) { element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT); } else if (element.msRequestFullscreen) { element.msRequestFullscreen(); } } } /** * showLaunchMenu() * * Shows the launch menu. * * @return . */ showLaunchMenu() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._menuAttached) { $(&quot;#&quot; + _MENU_CONTAINER_ID).remove(); this._menuContainer = $(this.html); this._menuContainer.attr(&quot;id&quot;, _MENU_CONTAINER_ID); this._menuContainer.find(&quot;#start_game_btn&quot;).click((e) =&gt; { this._fullScreenGame(); this.audio.play('ok'); Game.goToLevel('loading'); }); this._menuContainer.find(&quot;#control_set_btn&quot;).click((e) =&gt; { this.audio.play('ok'); Game.goToLevel('control'); }); this._menuContainer.find(&quot;#help_btn&quot;).click(e=&gt;{ this.audio.play('ok'); Game.goToLevel('help'); }); $(&quot;body&quot;).append(this._menuContainer); this._menuAttached = true; Game.resizeEvent(); } } /** * autodelete() * * Autodeletes this object. * * @return . */ autodelete() { if (this._menuContainer) { this._menuContainer.remove(); this._menuContainer = undefined; } //reverse autodelete called to remove menu container first super.autodelete(); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_AbstractBehavior.js.html":{"id":"lf2_items_behavior_AbstractBehavior.js.html","title":"Source: lf2/items/behavior/AbstractBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/AbstractBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; /** * Abstract Behavior * * @class lf2.AbstractBehavior * @abstract */ lf2.AbstractBehavior = class AbstractBehavior { /** * @constructor * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { /** * * @type {lf2.Ball} * @protected */ this._ball = ball; /** * @type {lf2.Player} */ this.belongTo = ball.belongTo; /** * * @type {lf2.WorldScene} * @protected */ this._world = world; } /** * * @returns {Framework.Point3D} * @abstract */ getVelocity() { throw METHOD_NOT_IMPLEMENT; } /** * Updates this object. * * @return . */ update() { if(this._ball &amp;&amp; !this._ball.alive){ //Remove reference of ball this._ball._behavior = null; this._ball = null; } } /** * * @returns {lf2.GameItem} * @abstract */ getTarget() { throw METHOD_NOT_IMPLEMENT; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_Ball.js.html":{"id":"lf2_items_Ball.js.html","title":"Source: lf2/items/Ball.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/Ball.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; const ItrKind = lf2.ItrKind; const GameObject = lf2.GameObject; const GameObjectPool = lf2.GameObjectPool; const ResourceManager = Framework.ResourceManager; const Point3D = Framework.Point3D; const FrameStage = lf2.FrameStage; const Effect = lf2.Effect; const KeyboardConfig = lf2.KeyboardConfig; const Bound = lf2.Bound; const INIT_TIME = 500; const DIRECTION = lf2.GameItem.DIRECTION; const NONE = lf2.GameItem.NONE; const ALLOW_FALL_DOWN_ID = [220, 221, 222]; /** * Ball * * @class lf2.Ball * @extends lf2.GameItem * @implements Framework.AttachableInterface */ lf2.Ball = class Ball extends lf2.GameItem { /** * * @param ballId ID of character * @param {lf2.Player} player of this ball belong to */ constructor(ballId, player) { super(ballId, player); this._remainderTime = INIT_TIME; this._isOut = false; this._affectByFriction = false; this._behavior = null; } /** * * @returns {Number} * @private * @override */ _getNextFrameId() { if (this._frameForceChangeId !== NONE) return this._frameForceChangeId; if (this._isOut) return lf2.GameItem.DESTROY_ID; const curF = this.currentFrame; let next = curF.nextFrameId; const hit = curF.hit; if (this._remainderTime &lt;= 0 &amp;&amp; hit.a !== 0 &amp;&amp; hit.d !== 0) { next = hit.d; } if (next === 0) { next = this._currentFrameIndex; } switch (hit.Fa) { case 7: if (next !== this.DESTROY_ID &amp;&amp; this.position.z &gt;= -10 &amp;&amp; ALLOW_FALL_DOWN_ID.indexOf(this.obj.id) !== -1) { next = 60; } break; } if (next === 999) return 0; return next; } /** * * @param {Number} bound * @param {lf2.GameMap} map */ onOutOfBound(bound, map) { if ( (bound &amp; Bound.LEFT) || (bound &amp; Bound.RIGHT) ) this._isOut = true; if (bound &amp; Bound.TOP) this.position.y = map.zBoundary.first; if (bound &amp; Bound.BOTTOM) this.position.y = map.zBoundary.second; } /** * update() * * Updates this object. * * @return . */ update() { const hit = this.currentFrame.hit; super.update(); if (this._behavior &amp;&amp; this._remainderTime &gt; 0) { this._behavior.update(); } if (this.isFrameChanged) { if (hit.a &gt; 0) { this._remainderTime -= hit.a; } } } /** * Executes the destroy action. * * @override * @return . */ onDestroy() { const ERR_MSG = 'Cannot destroy ball'; if (this.spriteParent) { this.spriteParent.detach(this); } else { throw ERR_MSG; } } /** * Gets the velocity. * * @return The velocity. */ _getVelocity() { let v = super._getVelocity(); const hit = this.currentFrame.hit; this._ballVel = this._ballVel || new Point3D(0, 0, 0); v.writeTo(this._ballVel); v = this._ballVel; if (hit.j) { v.z = hit.j - 50; } if (!this.world) return v; if (hit.Fa !== 0) { if (this._behavior) { if (this._remainderTime &lt;= 0) { this.velocity = this._behavior._maxVelocity; if (this._behavior.FA !== hit.Fa) { this._behavior = null; this._remainderTime = INIT_TIME } else { return this._behavior._maxVelocity; } } if (this._behavior &amp;&amp; this._behavior.FA === hit.Fa) { return this._behavior.getVelocity(); } // }else{ // if(this._behavior){ // this._velocity = this._behavior._maxVelocity.clone(); // } } switch (hit.Fa) { case 1: //追敵人的center(因為敵人站在地面，所以會下飄) this._behavior = new lf2.CenterTrackerBehavior(this, this.spriteParent); break; case 14: //連環重炮 this._behavior = new lf2.JulianBallTrackerBehavior(this, this.spriteParent); break; case 2: //水平追敵 this._behavior = new lf2.HorizontalTrackerBehavior(this, this.spriteParent); break; case 3: //加速法追敵(追縱力較差) this._behavior = new lf2.SpeedUpTrackerBehavior(this, this.spriteParent); break; case 10: this._behavior = new lf2.FasterTrackerBehavior(this, this.spriteParent); break; case 7: this._behavior = new lf2.FirzenDisasterFallDownBehavior(this, this.spriteParent); //return new Framework.Point3D(20, 5, 0); break; case 9: this._behavior = new lf2.FirzenDisasterFallDownBeginBehavior(this, this.spriteParent); break; case 13: this._behavior = new lf2.JulianBallBeginBehavior(this, this.spriteParent); break; default: return new Framework.Point3D(10, 0, 0); } this._behavior.update(); if (this._behavior) { return this._behavior.getVelocity(); } } else { this._behavior = null; } return v; } /** * Updates the velocity. * * @return . */ updateVelocity() { const getVelocityVal = (cur, next) =&gt; { if (next === 0) return cur; return next; }; this._velocity.writeTo(this._prevVelocity); const v = this._getVelocity(); this._velocity.x = getVelocityVal(this._velocity.x, v.x); this._velocity.y = getVelocityVal(this._velocity.y, v.y); this._velocity.z = getVelocityVal(this._velocity.z, v.z); } /** * Applies the friction. * * @return . */ _getFrameOffset() { /** * @type {Framework.Point3D} */ let o = super._getFrameOffset().clone(); o.z -= lf2.GameItem.ApplyFriction(this._velocity.z); this._velocity.z = o.z; return o } /** * Notifies a damage by. * * @param {lf2.GameItem} item The item. * @param {lf2.Interaction} itr * * @return . */ notifyDamageBy(item, itr) { super.notifyDamageBy(item, itr); const ITR = itr; const DV = ITR.dv; const curState = this.currentFrame.state; const itemState = item.currentFrame.state; const DO_REBOUND = () =&gt; { this._velocity.x = -ITR.dv.x; this.setNextFrame(30); //Rebounding this.obj.playHitSound(); this.update(); //Update immediately this.belongTo = item.belongTo; //Change owner }; if (curState === FrameStage.BALL_FLYING) { if ( ITR.kind === ItrKind.REFLECTIVE_SHIELD || ( item instanceof lf2.Character &amp;&amp; itemState === FrameStage.PUNCH ) ) { DO_REBOUND(); return true; } } if (ITR.kind === ItrKind.REFLECTIVE_SHIELD) { DO_REBOUND(); return true; } if (ITR.kind === ItrKind.THREE_D_OBJECTS) { if ( this.currentFrame.itr &amp;&amp; this.currentFrame.itr.some(i =&gt; i.kind === ItrKind.THREE_D_OBJECTS) ) { return false; } } const CAN_ATTACK = this.canDamageBy(item, ITR); if (!CAN_ATTACK) return false; switch (curState) { case FrameStage.BALL_WIND_FLYING: { this.obj.playHitSound(); if ( itemState === FrameStage.BALL_WIND_FLYING ) { this.setNextFrame(20); this.freeze(); } } break; case FrameStage.BALL_HIT_HEART: this.obj.playHitSound(); if ( itemState === FrameStage.BALL_WIND_FLYING || itemState === FrameStage.BALL_HIT_HEART ) { this.setNextFrame(20); this.freeze(); } break; case FrameStage.DISAPPEAR_WHEN_HIT: // TODO: FUClc ice column if ( ITR.kind === ItrKind.THREE_D_OBJECTS &amp;&amp; ( this.currentFrame.itr &amp;&amp; this.currentFrame.itr.some( i =&gt; i.kind === ItrKind.NORMAL_HIT &amp;&amp; i.effect === Effect.FIXED_ICE ) ) ) { return false; } break; default: if ( itemState !== FrameStage.FROZEN &amp;&amp; itemState !== FrameStage.FIRE &amp;&amp; itemState !== FrameStage.BALL_WIND_FLYING &amp;&amp; itemState !== FrameStage.BALL_HIT_HEART ) { this.setNextFrame(20); this.freeze(); } } return true; } /** * Posts a damage items. * * @param {lf2.GameItem[]} gotDamageItems The got damage items. * * @return . */ postDamageItems(gotDamageItems) { super.postDamageItems(gotDamageItems); const curFrame = this.currentFrame; const state = curFrame.state; const ITR = curFrame.itr[0]; const HIT = curFrame.hit; //打中敵軍 const HIT_ENEMY = gotDamageItems.some((damagedItem) =&gt; damagedItem.belongTo !== this.belongTo); //打自己人 const HIT_SAME_GROUP = gotDamageItems.some((damagedItem) =&gt; damagedItem.belongTo === this.belongTo); //打道人 const HIT_CHARACTER = gotDamageItems.some((damagedItem) =&gt; damagedItem instanceof lf2.Character); if (ITR &amp;&amp; ITR.kind === ItrKind.REFLECTIVE_SHIELD) { if (HIT_ENEMY &amp;&amp; HIT_CHARACTER) { this.obj.playHitSound(); this.setNextFrame(HIT.d); } } /*else if (ITR &amp;&amp; ITR.kind === ItrKind.THREE_D_OBJECTS) { // DO NOTHING }*/ else { switch (state) { case FrameStage.BALL_FLYING: if (HIT_ENEMY) { this.setNextFrame(20); this.obj.playHitSound(); this.freeze(); } else if (HIT_SAME_GROUP) { this.setNextFrame(10); this.obj.playHitSound(); this.freeze(); } break; case FrameStage.BALL_HITTING: if (HIT_ENEMY) { this.obj.playHitSound(); this.setNextFrame(20); this.freeze(); } break; case FrameStage.BALL_CANCELED: if (HIT_ENEMY) { this.obj.playHitSound(); this.setNextFrame(20); this.freeze(); } break; case FrameStage.BALL_WIND_FLYING: if (HIT_ENEMY) { this.obj.playHitSound(); if ( gotDamageItems[0].currentFrame.state === FrameStage.BALL_WIND_FLYING ) { this.setNextFrame(20); this.freeze(); } } break; case FrameStage.BALL_HIT_HEART: if (HIT_ENEMY) { this.obj.playHitSound(); if ( gotDamageItems[0].currentFrame.state === FrameStage.BALL_WIND_FLYING || gotDamageItems[0].currentFrame.state === FrameStage.BALL_HIT_HEART ) { this.setNextFrame(20); this.freeze(); } } break; default: } } } /** * get leftTopPoint() * * Left top point. * * @return {Framework.Point3D} A get. */ get __leftTopPoint__lol() { const center = this.currentFrame.center; let leftTopPoint = new Point3D( this.position.x - center.x, this.position.y - this.height + center.y, this.position.z ); if (this._direction === DIRECTION.LEFT) { leftTopPoint.x = this.position.x - (this.width - center.x); } return leftTopPoint; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_GameItem.js.html":{"id":"lf2_items_GameItem.js.html","title":"Source: lf2/items/GameItem.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/GameItem.js &quot;use strict&quot;; var lf2 = (function (lf2) { const HALF_SCREEN_WIDTH = Framework.Config.canvasWidth &gt;&gt; 1; const Point = Framework.Point; const Point3D = Framework.Point3D; const Audio = Framework.Audio; const Bezier = lf2.Bezier; const Body = lf2.Body; const Interaction = lf2.Interaction; const FrameStage = lf2.FrameStage; const GameObject = lf2.GameObject; const GameObjectPool = lf2.GameObjectPool; const Bound = lf2.Bound; const ItrKind = lf2.ItrKind; const Rectangle = lf2.Rectangle; const Cube = lf2.Cube; const DESTROY_ID = 1000; const NONE = -1; const STOP_ALL_MOVE_DV = 550; const FRICTION = 0.25; const MIN_SPEED = 1; const MIN_V = 1; const GRAVITY = 1.7; // 1.7 const SOUND_BEZIER = [0.895, 0.03, 0.685, 0.22]; const KEEP_SOUND_DISTANCE = 100; let dvxArray = [0]; const getDvxPerWait = function (i) { return i; // if (i &lt; 0) return -getDvxPerWait(-i); // // if (dvxArray[i] !== undefined) return dvxArray[i]; // dvxArray[i] = (i + 1) + getDvxPerWait(i - 1); // return dvxArray[i]; }; const getMinX = (gameItem, rect) =&gt; { const W = (gameItem.currentFrame.center.x); return (gameItem.position.x | 0) + ( gameItem._direction === DIRECTION.RIGHT ? (-W + rect.position.x) : (W - rect.position.x - rect.width) ); }; const getMinZ = (gameItem, rect) =&gt; { return gameItem.position.z - gameItem.currentFrame.center.y + rect.position.y; }; const DIRECTION = { RIGHT: true, LEFT: false, }; Object.freeze(DIRECTION); /** * GameItem * * @class lf2.GameItem * @extends {Framework.GameObject} * @implements Framework.AttachableInterface */ lf2.GameItem = class GameItem extends Framework.GameObject { /** * * @param gameObjId ID of character * @param {lf2.Player} player this object belong to which player */ constructor(gameObjId, player) { super(); if (!(player instanceof lf2.Player)) throw TypeError('player argument must be a instance of lf2.Player'); this.obj = GameObjectPool.get(gameObjId); /** * 物件的中下座標 */ this.position = new Point3D(0, 0, 0); this.absolutePosition = new Point3D(0, 0, 0); this.relativePosition = new Point3D(0, 0, 0); this._velocity = new Point3D(0, 0, 0); this._previousFrameIndex = 0; this._currentFrameIndex = 0; this._lastFrameSetTime = Date.now(); this._config = Framework.Config; this._direction = DIRECTION.RIGHT; this._lastFrameId = NONE; this.belongTo = player; this._frameForceChange = false; this._frameForceChangeId = NONE; this._createTime = Date.now(); this._allowDraw = true; this._updateCounter = 0; this._affectByFriction = true; this._bdyItems = []; this._itrItem = null; this._itrItr = null; this._itrItemFrame = null; this._arestCounter = 0; this._vrestCounter = 0; this._flashing = false; this._flashCounter = false; this._isNew = true; this.alive = true; /** * * @type {lf2.WorldScene|null} * @private */ this._world = null; /** * @type {Framework.Audio} */ this._audio = new Framework.Audio(this.obj.getPlayList()); this._nextDirection = null; /** * * @type {Framework.Point3D} */ this._prevVelocity = this._velocity.clone(); this.pushSelfToLevel(); } /** * * @param {lf2.WorldScene} v */ set world(v) { this._world = v; } /** * * @returns {lf2.WorldScene} */ get world() { return this._world; } /** * Get current frame * @returns {lf2.Frame} */ get currentFrame() { return this.obj.frames[this._currentFrameIndex]; } /** * Get current frame * @returns {lf2.Frame} */ get previousFrame() { return this.obj.frames[this._previousFrameIndex]; } /** * Load * * @override */ load() { //TODO: DO NOTHING } /** * Initial this object * * @override */ initialize() { //TODO: OD NOTHING } /** * Update object * * @override */ update() { if (this._isNew) { this._isNew = false; return; } const curFrame = this.currentFrame; this._updateCounter++; this.applyFriction(); let offset = this._getFrameOffset(); //Start move object this.position.z += offset.y; this.position.y += offset.z; if (this._direction === DIRECTION.RIGHT) { this.position.x += offset.x; } else { this.position.x -= offset.x; } if (this.position.z &gt; 0) { this.position.z = 0; this._velocity.y = 0; } //End of move object switch (curFrame.state) { case FrameStage.CLOSED_BAD_GUY: { if (this.world) { let item = this.world.getEnemy(this.belongTo); if (item) { this.setPosition(item.position); } } } break; case FrameStage.CLOSED_TEAMMATE: { if (this.world) { let item = this.world.getFriend(this.belongTo); if (item) { this.setPosition(item.position); } } } break; } let bound = 0; if (this._frameForceChange || this._updateCounter &gt;= this.currentFrame.wait) { this.setFrameById(this._getNextFrameId()); this._frameForceChange = false; this._frameForceChangeId = NONE; if (this._nextDirection !== null) { this._direction = this._nextDirection; } this._nextDirection = null; this.updateVelocity(); } if (this._arestCounter &gt; 0) { this._arestCounter--; } else { this._arestCounter = 0; } if (this._vrestCounter &gt; 0) { this._vrestCounter--; } else { this._vrestCounter = 0; } if (this._flashing) { this._flashCounter = !this._flashCounter; } } /** * * @param {lf2.GameItem[]} items */ setBdyItems(items) { this._bdyItems = items; } /** * * @returns {Framework.Point3D} * @protected */ _getFrameOffset() { //const currentFrame = this.currentFrame; const wait = this.currentFrame.wait; //const totalMove = this._getVelocity(); //let x = totalMove.x / wait, // y = totalMove.y / wait, // z = totalMove.z / wait; this._frameOffset = this._frameOffset || new Point3D(0, 0, 0); let ret = this._frameOffset; this._frameOffset.x = this._velocity.x; this._frameOffset.y = this._velocity.y; this._frameOffset.z = this._velocity.z; if (ret.x === STOP_ALL_MOVE_DV) ret.x = 0; if (ret.y === STOP_ALL_MOVE_DV) ret.y = 0; if (ret.z === STOP_ALL_MOVE_DV) ret.z = 0; this._frameOffset = ret; //if(this._velocity.x!==0) debugger; //console.log(this, this._velocity); return ret; } /** * * @returns {Framework.Point3D} * @protected */ _getVelocity() { // v.x = getDvxPerWait(v.x); return this.currentFrame.velocity; } /** * Updates the velocity. * * @return . */ updateVelocity() { const getVelocityVal = (cur, next) =&gt; { if (next === 0) return cur; return next; }; this._velocity.writeTo(this._prevVelocity); // this._prevVelocity = this._velocity.clone(); const v = this._getVelocity(); this._velocity.x = getVelocityVal(this._velocity.x, v.x); this._velocity.y = getVelocityVal(this._velocity.y, v.y); this._velocity.z = getVelocityVal(this._velocity.z, v.z); } /** * Applies the friction. * * @return . */ applyFriction() { if (this._affectByFriction) { const FX = GameItem.ApplyFriction(this._velocity.x); const FZ = GameItem.ApplyFriction(this._velocity.z); // Only apply friction on ground if (this.position.z === 0) { if (FX &amp;&amp; this._velocity.x) { this._velocity.x += this._velocity.x &gt; 0 ? -FX : FX; } if (FZ &amp;&amp; this._velocity.z) { this._velocity.z += this._velocity.z &gt; 0 ? -FZ : FZ; } } if (this.position.z &lt; 0) { this._velocity.y += GRAVITY; } if (this.position.z &gt; 0) { this.position.z = 0; this._velocity.y = 0; } // Avoid too small velocity if (Math.abs(this._velocity.x) &lt; MIN_V) this._velocity.x = 0; if (Math.abs(this._velocity.y) &lt; MIN_V) this._velocity.y = 0; if (Math.abs(this._velocity.z) &lt; MIN_V) this._velocity.z = 0; // End of friction } } /** * * @param {Number} frameId */ setFrameById(frameId) { if (frameId &lt; 0 &amp;&amp; this.frameExist(-frameId)) { this._direction = !this._direction; return this.setFrameById(-frameId); } if (!this.frameExist(frameId)) throw new RangeError(`Object (${this.obj.id}) Frame (${frameId}) not found`); //console.log(&quot;Set Frame &quot;, frameId); if (frameId === DESTROY_ID) { this.onDestroy(); return; } this._previousFrameIndex = this._currentFrameIndex; this._currentFrameIndex = frameId; this._lastFrameSetTime = Date.now(); this._updateCounter = 0; } /** * * @param {String} frameName */ getFrameIdByName(frameName) { let frame = this.obj.frames.filter(o =&gt; o.name === frameName)[0]; if (!frame) throw new RangeError(`Object (${this.obj.id}) Frame (${frameName}) not found`); return frame.id; } /** * Can damage by. * * @param item The item. * @param ITR The itr. * * @return . */ canDamageBy(item, ITR) { const itemState = item.currentFrame.state; if (itemState === FrameStage.FIRE &amp;&amp; item.obj.id !== 211) return true; if (ITR.kind === ItrKind.THREE_D_OBJECTS) return true; switch (ITR.kind) { case ItrKind.CATCH: case ItrKind.PICK_WEAPON: case ItrKind.CATCH_BDY: case ItrKind.FALLING: case ItrKind.WEAPON_STRENGTH: case ItrKind.SUPER_PUNCH: case ItrKind.PICK_WEAPON_2: return false; } return !this.isSameTeam(this, item); } /** * Frame Exist * @param frameId * @returns {boolean} */ frameExist(frameId) { if (frameId === DESTROY_ID) return true; return !!this.obj.frames[frameId]; } /** * * @param {String} frameName */ setFrameByName(frameName) { this.setFrameById(this.getFrameIdByName(frameName)); } /** * Draw object * * @param {CanvasRenderingContext2D} ctx * * @override */ draw(ctx) { const imgInfo = this.ImgInfo; const leftTopPoint = this.leftTopPoint; const curFrame = this.obj.frames[this._currentFrameIndex]; /* console.log([ this._currentFrameIndex, imgInfo.img.src, imgInfo.rect, leftTopPoint]); */ // const REAL_DRAW_POS = new Point( // leftTopPoint._x | 0, // (leftTopPoint._y + leftTopPoint._z) | 0 // ); const REAL_DRAW_POS_X = leftTopPoint._x | 0; const REAL_DRAW_POS_Y = (leftTopPoint._y + leftTopPoint._z) | 0; //if (leftTopPoint.z != 0) debugger; if (this._allowDraw) { if (!this._flashing || (this._flashing &amp;&amp; this._flashCounter)) { const infoRect = imgInfo._rect; ctx.drawImage( imgInfo._img, infoRect.position._x | 0, infoRect.position._y | 0, infoRect.width, infoRect.height, REAL_DRAW_POS_X, REAL_DRAW_POS_Y, infoRect.width, infoRect.height ); } } if (this.isFrameChanged) { //Play sound if (curFrame.soundPath) { if (this.world instanceof lf2.WorldScene) { const DistanceFrom = this.world.getDistanceBetweenCameraAndItem(this); let balance = DistanceFrom / HALF_SCREEN_WIDTH; if (balance &gt; 1) balance = 1; if (balance &lt; -1) balance = -1; this._audio.balance = balance; if (DistanceFrom &gt; HALF_SCREEN_WIDTH) { let vol = (DistanceFrom - HALF_SCREEN_WIDTH) / KEEP_SOUND_DISTANCE; if (vol &gt; 1) vol = 1; vol = 1 - Bezier(SOUND_BEZIER, vol); if (vol &lt; 0) vol = 0; this._audio.rightVolume = vol; } if (DistanceFrom &lt; -HALF_SCREEN_WIDTH) { let vol = (-DistanceFrom - HALF_SCREEN_WIDTH) / KEEP_SOUND_DISTANCE; if (vol &gt; 1) vol = 1; vol = 1 - Bezier(SOUND_BEZIER, vol); if (vol &lt; 0) vol = 0; this._audio.leftVolume = vol; } // // const diffSign = Math.sign(DisDiff); // let vol = diffSign * DisDiff / HALF_SCREEN_WIDTH; // if (vol &gt; 1) { // vol = 1; // } else if (vol &lt; 0) { // vol = 0; // } // vol = Bezier(SOUND_BEZIER, 1 - vol); // if (vol &lt;= 0) vol = 0; // vol = Math.round(vol* 100) / 100; // this._audio.volume = vol; } this._audio.play(curFrame.soundPath); } //add ball if (curFrame.opoint) { let opoint = curFrame.opoint; switch (opoint.kind) { case 4100: //Magic number break; case 1: default: //console.log('add ball', curFrame.id); this.belongTo.addBall(opoint, this); break; } } } this._lastFrameId = this._currentFrameIndex; if (define.DEBUG) { ctx.lineWidth = 2; ctx.strokeStyle = &quot;#FF00FF&quot;; //Draw image rect ctx.strokeRect( REAL_DRAW_POS_X, REAL_DRAW_POS_Y, imgInfo.rect.width, imgInfo.rect.height ); //Draw bdy rect const bdy = this.getBdyRect(); if (bdy) { ctx.strokeStyle = &quot;#FF0000&quot;; bdy.draw(ctx, leftTopPoint.z); } //Draw itr rect const itr = this.getItrBox(); if (itr) { ctx.strokeStyle = &quot;#0000FF&quot;; itr.forEach(i =&gt; i.draw(ctx, leftTopPoint.z)); } let msg = []; msg.push(`ID: ${this.obj.id}`); msg.push(`CurrentFrameId: ${this._currentFrameIndex} / wait: ${this.currentFrame.wait}`); msg.push(`position: (${this.position.x | 0}, ${this.position.y | 0}, ${this.position.z | 0}) / ${this._direction ? 'RIGHT' : 'LEFT'}`); msg.push(`velocity: (${this._velocity.x | 0}, ${this._velocity.y | 0}, ${this._velocity.z | 0})`); msg.push(`VrestCounter: ${this._vrestCounter}`); if (this instanceof lf2.Character) { msg.push(`Fall: ${this._fall | 0}`); } if (this instanceof lf2.Ball) { if (this._behavior) { msg.push(`Behavior: ${this._behavior.toString()}`); } } ctx.font = &quot;200 12px Arial&quot;; ctx.textAlign = &quot;start&quot;; ctx.textBaseline = &quot;top&quot;; ctx.fillStyle = &quot;#FFF&quot;; ctx.strokeStyle = &quot;#000&quot;; ctx.lineWidth = 2; for (let i = 0; i &lt; msg.length; i++) { const _y = REAL_DRAW_POS_Y + 12 * i; ctx.strokeText(msg[i], REAL_DRAW_POS_X, _y); ctx.fillText(msg[i], REAL_DRAW_POS_X, _y); } } } /** * * @returns {lf2.Cube[]} */ getItrBox() { const _itr = this.currentFrame.itr; if (!_itr) return null; return _itr.map(itr =&gt; { let rect = this._transferRect(itr.rect); return new Cube( rect.width, rect.height, _itr.zwidth, rect.position.x, rect.position.y ); }); } /** * * @returns {lf2.Rectangle} */ getBdyRect() { if (!this.currentFrame.bdy || !this._allowDraw) return null; return this._transferRect(this.currentFrame.bdy.rect); } /** * * @param {lf2.Rectangle} rect * @returns {lf2.Rectangle} * @private */ _transferRect(rect) { if (!rect) return null; const leftTopPoint = this.leftTopPoint; if (this._direction === DIRECTION.RIGHT) { return new Rectangle( rect.width, rect.height, leftTopPoint.x + rect.position.x, leftTopPoint.y + rect.position.y ); } else if (this._direction === DIRECTION.LEFT) { return new Rectangle( rect.width, rect.height, leftTopPoint.x + this.width - rect.position.x - rect.width, leftTopPoint.y + rect.position.y ); } } /** * * @param {Framework.Point} p * @returns {Framework.Point} */ transferPoint(p) { if (!p) return null; const leftTopPoint = this.leftTopPoint; if (this._direction === DIRECTION.RIGHT) { return new Point( leftTopPoint.x + p.x, leftTopPoint.y + p.y ); } else if (this._direction === DIRECTION.LEFT) { return new Point( leftTopPoint.x + this.width - p.x, leftTopPoint.y + p.y ); } } /** * Gets attack items. * * @return {lf2.GameItem[]} The attack items. */ getAttackItems() { const ITRs = this.currentFrame.itr; if (!ITRs) return []; let res = []; ITRs.forEach(ITR =&gt; { if (ITR.kind === 4) return []; if (ITR.kind === 6) return []; const a_minX = getMinX(this, ITR.rect), a_maxX = a_minX + ITR.rect.width, a_minY = this.position.y - (ITR.zwidth &gt;&gt; 1), a_maxY = a_minY + ITR.zwidth, a_minZ = getMinZ(this, ITR.rect), a_maxZ = a_minZ + ITR.rect.height; const checkCollision = (bdyItem) =&gt; { const bdy = bdyItem.currentFrame.bdy; if (!bdy || bdyItem._flashing) return false; const b_minX = getMinX(bdyItem, bdy.rect), b_maxX = b_minX + bdy.rect.width, b_minY = bdyItem.position.y - 6, b_maxY = b_minY + 12, b_minZ = getMinZ(bdyItem, bdy.rect), b_maxZ = b_minZ + bdy.rect.height; return (a_minX &lt;= b_maxX &amp;&amp; a_maxX &gt;= b_minX) &amp;&amp; (a_minY &lt;= b_maxY &amp;&amp; a_maxY &gt;= b_minY) &amp;&amp; (a_minZ &lt;= b_maxZ &amp;&amp; a_maxZ &gt;= b_minZ); }; for (let i = 0; i &lt; this._bdyItems.length &amp;&amp; this._vrestCounter === 0; i++) { const item = this._bdyItems[i]; if (this._arestCounter &gt; 0) break; if (this === item) continue; //cannot attack itself. if (checkCollision(item) &amp;&amp; item._itrItem === null) { if ( // (ITR.kind === FrameStage.FIRE || this.belongTo !== item.belongTo) item !== this ) { //kind 18 allow attack itself. res.push({ item: item, itr: ITR }); if ( (ITR.hasArest || !ITR.hasVrest) &amp;&amp; item instanceof lf2.Character &amp;&amp; ItrKind.ITR_ALLOW_FALL.binarySearch(ITR.kind) !== -1 ) { this._arestCounter = ITR.arest; } } } } }); return res; } /** * Clean up itr. * * @return . */ cleanUpItr() { this._itrItem = null; this._itrItr = null; this._itrItemFrame = null; } /** * * @param {lf2.GameItem} item * @param {lf2.Interaction} itr * @returns {boolean} return true if accept, otherwise false */ notifyDamageBy(item, itr) { this._itrItem = item; this._itrItr = itr; this._itrItemFrame = item.currentFrame; // console.log(item, 'attack', this); return true; } /** * * @param {lf2.GameItem[]} gotDamageItems */ postDamageItems(gotDamageItems) { this.currentFrame.itr.forEach(ITR =&gt; { if (ITR &amp;&amp; !ITR.hasArest &amp;&amp; ITR.hasVrest &amp;&amp; gotDamageItems.length &gt; 0) { if (gotDamageItems.some(x =&gt; x instanceof lf2.Character)) { this._vrestCounter = ITR.vrest; } } }); } /** * Force set next frame id * * @param {Number} id */ setNextFrame(id) { this._frameForceChangeId = id; this._frameForceChange = true; } /** * * @param {Number} bound * @param {lf2.GameMap} map */ onOutOfBound(bound, map) { //TODO: Implement when arrive bound } /** * destroy this item * * @abstract */ onDestroy() { throw 'METHOD NOT IMPLEMENT'; } /** * get ImgInfo() * * Image information. * * @return {lf2.ImageInformation} A get. */ get ImgInfo() { const imgArray = this._direction ? this.obj.bmpInfo.imageNormal : this.obj.bmpInfo.imageMirror; const curFrame = this.currentFrame; let imgInfo = imgArray[curFrame.pictureIndex]; if (imgInfo instanceof lf2.ImageInformation) { return imgInfo; } else { return imgArray[-1]; } } /** * get leftTopPoint() * * Left top point. * * @return {Framework.Point} A get. */ get leftTopPoint() { const center = this.currentFrame.center; let leftTopPoint = this._leftTopPointRef || new Point3D(0, 0, 0); leftTopPoint.x = this.position.x - center.x; leftTopPoint.y = this.position.y - center.y; leftTopPoint.z = this.position.z; if (this._direction === DIRECTION.LEFT) { leftTopPoint.x = this.position.x - (this.width - center.x); } this._leftTopPointRef = leftTopPoint; return leftTopPoint; } /** * _getNextFrameId() * * Gets the next frame identifier. * * @return {Number} The next frame identifier. */ _getNextFrameId() { if (this._frameForceChangeId !== NONE) return this._frameForceChangeId; let next = this.currentFrame.nextFrameId; if (next === 0) return this.currentFrame.id; if (next === 999) return 0; return next; } /** * Freezes this object. * * @return . */ freeze() { this._velocity.x = this._velocity.y = this._velocity.z = 0; } isSameTeam(item1, item2) { return item1.belongTo.team.equalsTo(item2.belongTo.team); } /** * Is frame changed. * * @return {boolean} bool. */ get isFrameChanged() { if (this._currentFrameIndex !== this._lastFrameId) { return true; } return false; } /** * get isObjectChanged() * * Is object changed. * * @return {boolean} A get. */ get isObjectChanged() { return true; //TODO: need implement return super.isObjectChanged || this.isFrameChanged; } /** * get width() * * Gets the width. * * @return {get} A get. */ get width() { return this.ImgInfo.rect.width; } /** * get height() * * Gets the height. * * @return {Number} A get. */ get height() { return this.ImgInfo.rect.height; } /** * Is stopping. * * @return {boolean} A get. */ get isStopping() { return this._velocity.x === this._velocity.y &amp;&amp; this._velocity.y === this._velocity.z &amp;&amp; this._velocity.x === 0; } /** * * @returns {Point3D} */ get velocity() { return this._velocity.clone(); } /** * * @param {Framework.Point3D} p */ set velocity(p) { this._velocity.x = p.x; this._velocity.y = p.y; this._velocity.z = p.z; } /** * * @param {lf2.GameItem} item */ isFront(item) { let ret = true; if (this._direction === DIRECTION.RIGHT) { ret = this.position.x &lt; item.position.x; } else { ret = this.position.x &gt; item.position.x; } // if (this._velocity.x &lt; 0) ret = !ret; return ret; } /** * * @param {Framework.Point3D} p */ setPosition(p) { this.position.x = p.x; this.position.y = p.y; if (p.z !== undefined) { this.position.z = p.z; } } /** * Sets next direction. * * @param v The unknown to process. * * @return . */ setNextDirection(v) { this._nextDirection = v; } /** * * @param {Number} speed */ static GetFriction(speed) { //a lookup table const TABLE = { //speed: friction 3: 1, 5: 2, 6: 4, //smaller or equal to 6, value is 4 9: 5, 13: 7, 25: 9 //guess entry }; if (speed &lt; 0) speed = -speed; let targetSpeed; for (targetSpeed in TABLE) { if (speed &lt;= targetSpeed) { return TABLE[targetSpeed]; } } return TABLE[targetSpeed]; } /** * * @param {Number} val * @param {Number} [f] friction * @return {Number} */ static ApplyFriction(val, f) { if (f === undefined) { f = GameItem.GetFriction(val); } if (val === 0) return 0; if (val === STOP_ALL_MOVE_DV) return 0; return FRICTION * f; }; }; lf2.GameItem.prototype.DIRECTION = lf2.GameItem.DIRECTION = DIRECTION; lf2.GameItem.prototype.DESTROY_ID = lf2.GameItem.DESTROY_ID = DESTROY_ID; lf2.GameItem.prototype.NONE = lf2.GameItem.NONE = NONE; lf2.GameItem.prototype.MIN_V = lf2.GameItem.MIN_V = MIN_V; lf2.GameItem.prototype.FRICTION = lf2.GameItem.FRICTION = FRICTION; lf2.GameItem.prototype.GRAVITY = lf2.GameItem.GRAVITY = GRAVITY; lf2.GameItem.prototype.STOP_ALL_MOVE_DV = lf2.GameItem.STOP_ALL_MOVE_DV = STOP_ALL_MOVE_DV; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_BmpInfo.js.html":{"id":"lf2_frame_BmpInfo.js.html","title":"Source: lf2/frame/BmpInfo.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/BmpInfo.js &quot;use strict&quot;; var lf2 = (function (lf2) { const TAG_START = &quot;&lt;bmp_begin&gt;&quot;; const TAG_END = &quot;&lt;bmp_end&gt;&quot;; const BMP_START_TAG = 'file('; const BMP_END_TAG = ')'; const ResourceManager = Framework.ResourceManager; const Utils = lf2.Utils; const Rectangle = lf2.Rectangle; const ImageInformation = lf2.ImageInformation; const EMPTY_CANVAS = document.createElement('canvas'); EMPTY_CANVAS.width = EMPTY_CANVAS.height = 1; let _preloadResources = new Map(); /** * BmpInfo * 提供圖片資訊的儲存及預處理功能 * * @class lf2.BmpInfo */ lf2.BmpInfo = class BmpInfo { /** * * @param {String} context */ constructor(context) { this.source = context.getStringBetween(TAG_START, TAG_END); this.imageNormal = []; this.imageMirror = []; this._data = new Map(); this._bmpLoad = []; this.source.lines().forEach((str) =&gt; { str = str.trim(); if (str.length === 0) return; //圖片資訊 if (str.startsWith('file(')) { this._bmpLoad.push(this._processImage(str)); } else if (str.indexOf(':') !== -1) { let d = Utils.parseDataLine(str); d.forEach((value, key, map) =&gt; { this._data.set(key, value); }); } else { let d = str.split(/\\s+/); this._data.set(d[0].trim(), parseFloat(d[1])); } }); this.imageNormal[-1] = this.imageMirror[-1] = new ImageInformation( new Rectangle(EMPTY_CANVAS.width, EMPTY_CANVAS.height, 0, 0), EMPTY_CANVAS ); } /** * Add preload resource * @param {string|Promise} url * @returns {Promise} */ addPreloadResource(url) { let promise = null; if (url instanceof Promise) { promise = url; } else { promise = _preloadResources.get(url); if (promise === undefined) { promise = ResourceManager.loadResource(url, { method: 'GET' }); _preloadResources.set(url, promise); } } this._bmpLoad.push(promise); return promise; } /** * _processImage(str) * * Process the image described by str. * * @param str The string. * * @return . */ _processImage(str) { const pairContent = Utils.parseDataLine(str); const key = str.split(':')[0]; const index = key.match(/(\\d+)/g), startIndex = intval(index[0]), endIndex = intval(index[1]), width = intval(pairContent.get('w')), height = intval(pairContent.get('h')), $ = this, //this row and column is difference from matrix, invert it row = intval(pairContent.get('col')), col = intval(pairContent.get('row')); return new Promise((resolve, reject) =&gt; { ResourceManager.loadImage({ url: define.IMG_PATH + pairContent.get(key) }).then((resp) =&gt; { const img = resp.response; let canvas = document.createElement('canvas'); canvas.width = img.width * 2; canvas.height = img.height; let renderContext = canvas.getContext('2d'); renderContext.save(); renderContext.drawImage(img, 0, 0); //Mirror image renderContext.translate(canvas.width, 0); renderContext.scale(-1, 1); renderContext.drawImage(img, 0, 0); renderContext.restore(); let i = startIndex; let j = startIndex; /** * * @type {HTMLCanvasElement} */ /*const imgObj = canvas;*/ const imgObj = new Image(); //Start processing image for (let r = 0; r &lt; row; r++) { const _y = r * (height + 1); //Save Normal image for (let c = 0; c &lt; col; c++) { const _x = c * (width + 1); //this.imageNormal[i] = g.getImageData(_x, _y, width, height); $.imageNormal[i] = new ImageInformation( new Rectangle(width, height, _x, _y), imgObj ); i++; } //Save Mirror image for (let c = 0; c &lt; col; c++) { const _x = canvas.width + 1 - c * (width + 1) - (width + 1); //this.imageMirror[j] = g.getImageData(_x, _y, width, height); $.imageMirror[j] = new ImageInformation( new Rectangle(width, height, _x, _y), imgObj ); j++; } } //End of image process //Try save image as blob if(canvas.toBlob){ canvas.toBlob(function (b) { imgObj.src = URL.createObjectURL(b) + '#' + pairContent.get(key); resolve(); }); } else { //Fallback to base64 dataurl imgObj.src = canvas.toDataURL(); resolve(); } }); }); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_Body.js.html":{"id":"lf2_frame_Body.js.html","title":"Source: lf2/frame/Body.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/Body.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Utils = lf2.Utils; const Rectangle = lf2.Rectangle; /** * Body * 提供Frame可傷害範圍資訊儲存功能 * ◎bdy解說◎ bdy: =身體(受攻擊的部分)開始 kind: 0 特殊特技 x: 26 w: 35 =受攻擊前~後的距離 y: 12 h: 66=受攻擊上~下的距離 bdy_end:=身體結束 * * @class lf2.Body */ lf2.Body = class Body { /** * * @param {String} content */ constructor(content) { this.info = Utils.parseDataLine(content.replace(/\\r?\\n/g, &quot;&quot;)); this.kind = intval(this.info.get('kind') || 0); this.rect = new Rectangle( intval(this.info.get('w')), intval(this.info.get('h')), intval(this.info.get('x')), intval(this.info.get('y')) ); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_enums_Bound.js.html":{"id":"lf2_enums_Bound.js.html","title":"Source: lf2/enums/Bound.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/enums/Bound.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * Bound * 定義邊框的列舉型別，有上、下、左、右邊界 * * @class lf2.Bound */ lf2.Bound = { NONE: 0, TOP: 1, RIGHT: 2, BOTTOM: 4, LEFT: 8 }; Object.freeze(lf2.Bound); return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_CenterTrackerBehavior.js.html":{"id":"lf2_items_behavior_CenterTrackerBehavior.js.html","title":"Source: lf2/items/behavior/CenterTrackerBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/CenterTrackerBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const Utils = lf2.Utils; const MIN_SPEED = 10; /** * CenterTrackerBehavior * * @class {lf2.CenterTrackerBehavior} * @extends lf2.AbstractBehavior */ lf2.CenterTrackerBehavior = class CenterTrackerBehavior extends lf2.AbstractBehavior{ /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); this._maxVelocity = new Framework.Point3D(MIN_SPEED, 0, 5); this._targetCatched = false; this._radius = 0; } /** * Updates this object. * * @return . */ update() { super.update(); if (this._radius &lt; this._maxVelocity.x) { this._radius += GRAVITY; } else if (this._radius &gt; this._maxVelocity.x) { this._radius = this._maxVelocity.x; } } /** * * @returns {Framework.Point3D} */ getVelocity() { /** * * @type {lf2.GameItem} */ const TARGET = this.getTarget(); let vx, vy, vz; vx = vy = vz = 0; if (TARGET !== null) { let IS_FRONT = this._ball.isFront(TARGET); if (IS_FRONT) { const p1 = new Point(this._ball.position.x, this._ball.position.y); const p2 = new Point(TARGET.position.x, TARGET.position.y); const RAD = Utils.GetRadBasedOnPoints(p1, p2); vx = this._radius * Math.cos(RAD); vz = (this._radius * .5 ) * Math.sin(RAD); if (this._ball._direction === GameItem.DIRECTION.LEFT) vx *= -1; } else { //轉向 this._ball._direction = !this._ball._direction; this._radius = -this._maxVelocity.x; vx = this._radius; } const dz = this._ball.position.z - (TARGET.position.z); //dz &gt; 0 ? UPPER : LOWER if (Math.abs(dz) &lt; MIN_V) { vy = 0; } else { vy = dz === 0 ? 0 : (dz &gt; 0 ? -1 : 1); vy *= GRAVITY; } if (Math.abs(vy) &gt; this._maxVelocity.y &amp;&amp; this._maxVelocity.y !== 0) vy = Math.sign(vy) * this._maxVelocity.y; } // if(Math.abs(vx) &lt; MIN_SPEED) vx = Math.sign(vx) * MIN_SPEED; return new Point3D(vx, vy, vz); } /** * * @returns {lf2.GameItem} */ getTarget() { if(!this._world) return null; let target = this._world.getEnemy(this.belongTo); if (!this._targetCatched) { this._maxVelocity = this._ball._prevVelocity.clone(); this._maxVelocity.x = Math.abs(this._maxVelocity.x); this._maxVelocity.y = Math.abs(this._maxVelocity.y); this._maxVelocity.z = Math.abs(this._maxVelocity.z); Object.freeze(this._maxVelocity); this._radius = this._maxVelocity.x; } this._targetCatched = true; return target; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 1; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.CenterTrackerBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_Character.js.html":{"id":"lf2_items_Character.js.html","title":"Source: lf2/items/Character.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/Character.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Bound = lf2.Bound; const ItrKind = lf2.ItrKind; const Body = lf2.Body; const Interaction = lf2.Interaction; const GameObject = lf2.GameObject; const Effect = lf2.Effect; const GameItem = lf2.GameItem; const GameObjectPool = lf2.GameObjectPool; const Point3D = Framework.Point3D; const KeyboardConfig = lf2.KeyboardConfig; const FrameStage = lf2.FrameStage; const DIRECTION = GameItem.DIRECTION; const NONE = GameItem.NONE; const DRAW_BLOOD_PERCENTAGE = 100 / 3; const HIDE_FLASH_TIME = 60; const STAND_FRAME_RANGE = { min: 0, max: 4 }; Object.freeze(STAND_FRAME_RANGE); const WALK_FRAME_RANGE = { min: 5, max: 8 }; Object.freeze(WALK_FRAME_RANGE); const RUN_FRAME_RANGE = { min: 9, max: 11 }; Object.freeze(RUN_FRAME_RANGE); const FALLING1_FRAME_RANGE = { min: 180, max: 185 }; Object.freeze(FALLING1_FRAME_RANGE); const FALLING2_FRAME_RANGE = { min: 186, max: 191 }; Object.freeze(FALLING2_FRAME_RANGE); const HIDE_FRAME_RANGE = { min: 1100, max: 1299 }; Object.freeze(HIDE_FRAME_RANGE); const CHANGE_TO_FALLING_INDEX = [ FrameStage.STAND, FrameStage.WALK, FrameStage.RUN ]; CHANGE_TO_FALLING_INDEX.sort((a, b) =&gt; a - b); Object.freeze(CHANGE_TO_FALLING_INDEX); const GOD_MODE_TIME = 40; const PUNCH1_FRAME_ID = 60; const PUNCH2_FRAME_ID = 65; const JUMP_FRAME_ID = 210; const FALLING_ID = 212; const DEFEND_FRAME_ID = 110; const STOP_RUNNING_FRAME_ID = 218; const ROWING_FRAME_ID = 102; const RUN_ATTACK_FRAME_ID = 85; const JUMP_ATTACK_FRAME_ID = 80; const LYING1_FRAME_ID = 230; const LYING2_FRAME_ID = 231; const getRand = (arr) =&gt; { let idx = (arr.length * Math.random()) | 0; return arr[idx]; }; const getPunchId = () =&gt; getRand([PUNCH1_FRAME_ID, PUNCH2_FRAME_ID]); const getLyingId = () =&gt; getRand([LYING1_FRAME_ID, LYING2_FRAME_ID]); const DEFAULT_KEY = {}; let acceptForceChangeStatus = []; DEFAULT_KEY[FrameStage.STAND] = { d: DEFEND_FRAME_ID, j: JUMP_FRAME_ID, a: getPunchId, }; DEFAULT_KEY[FrameStage.WALK] = { d: DEFEND_FRAME_ID, j: JUMP_FRAME_ID, a: DEFAULT_KEY[FrameStage.STAND].a, }; DEFAULT_KEY[FrameStage.RUN] = { d: ROWING_FRAME_ID, j: JUMP_FRAME_ID, a: RUN_ATTACK_FRAME_ID, }; DEFAULT_KEY[FrameStage.JUMP] = { a: JUMP_ATTACK_FRAME_ID, }; for (let k in DEFAULT_KEY) { let t = DEFAULT_KEY[k]; KeyboardConfig.HIT_KEY.HIT_LIST.forEach(key =&gt; { if (t[key]) { t[KeyboardConfig.HIT_KEY[key]] = t[key]; } }); acceptForceChangeStatus.push(intval(k)); Object.freeze(DEFAULT_KEY[k]); } Object.freeze(DEFAULT_KEY); acceptForceChangeStatus.sort((a, b) =&gt; a - b); const RECOVERY = { HP: { value: 10, interval: 5000, }, MP: { value: (player) =&gt; 1 + ((player.hp / 100) | 0), interval: 500, }, FALL: {value: -0.45}, BDEFEND: {value: -0.5}, }; for (let k in RECOVERY) Object.freeze(RECOVERY[k]); Object.freeze(RECOVERY); /** * Character * * @class lf2.Character * @extends lf2.GameItem * @implements {Framework.AttachableInterface} */ lf2.Character = class Character extends lf2.GameItem { /** * * @param charId ID of character * @param {lf2.Player} player */ constructor(charId, player) { super(charId, player); this.charId = charId; this.head = this.obj.head; this.small = this.obj.small; this._lastFuncKey = 0; this._walk_dir = DIRECTION.RIGHT; this._run_dir = DIRECTION.RIGHT; this._punch_dir = DIRECTION.RIGHT; this._hideRemainderTime = 0; this._fall = 0; this._godModeTime = 0; this._upKey = -1; this._lastRecoverHPTime = -1; this._lastRecoverMPTime = -1; } /** * * @returns {Number} * @private * @override */ _getNextFrameId() { if (this._frameForceChangeId !== NONE) return this._frameForceChangeId; const curState = this.currentFrame.state; let next = this.currentFrame.nextFrameId; const nextKind = (next / 100) | 0; const funcKeyWoArrow = this._curFuncKey &amp; ~((KeyboardConfig.KEY_MAP.LEFT | KeyboardConfig.KEY_MAP.RIGHT) &amp; ~KeyboardConfig.KEY_MAP.FRONT); const fc = acceptForceChangeStatus.binarySearch(curState) !== -1; if (next === 205 &amp;&amp; this._currentFrameIndex === next + 1) next = LYING1_FRAME_ID; if (next === 203 &amp;&amp; this._currentFrameIndex === next + 1) next = next + 2; if ((fc || next === 0 || next === 999) &amp;&amp; DEFAULT_KEY[curState]) { const _next = DEFAULT_KEY[curState][funcKeyWoArrow]; if (_next) { if (typeof _next === 'function') { next = _next(); } else { next = _next; } } } const IS_ARR_ONLY = this._isArrowKeyOnly(); if (fc) { if ( next !== 0 &amp;&amp; next.inRange( STAND_FRAME_RANGE.min, STAND_FRAME_RANGE.max ) &amp;&amp; (IS_ARR_ONLY) ) { next = 999; } } if (next.inRange(HIDE_FRAME_RANGE.min, HIDE_FRAME_RANGE.max)) { this._hideRemainderTime = next - 1000; this._allowDraw = false; next = 0; } if (curState === FrameStage.LYING) { this._fall = 0; if (this.belongTo.isAlive) this._godModeTime = GOD_MODE_TIME; } if (this.belongTo.hp &lt;= 0) { this._allowDraw = true; this._hideRemainderTime = 0; switch (curState) { case FrameStage.LYING: next = this.currentFrame.id; break; default: next = getLyingId(); } } else { // 強制換成掉落動畫 if (this.position.z &lt; 0 &amp;&amp; CHANGE_TO_FALLING_INDEX.binarySearch(curState) !== -1) { next = FALLING_ID; } if (next === 0) { switch (curState) { case FrameStage.RUN: case FrameStage.BURN_RUN: if (this._run_dir === DIRECTION.RIGHT) { next = this.currentFrame.id + 1; //Loop run action if (next &gt; RUN_FRAME_RANGE.max) { next -= 2; this._run_dir = DIRECTION.LEFT; } } else { next = this.currentFrame.id - 1; //Loop run action if (next &lt; RUN_FRAME_RANGE.min) { next += 2; this._run_dir = DIRECTION.RIGHT; } } if ( (this.containsKey(KeyboardConfig.KEY_MAP.LEFT) &amp;&amp; this._direction === DIRECTION.RIGHT) || (this.containsKey(KeyboardConfig.KEY_MAP.RIGHT) &amp;&amp; this._direction === DIRECTION.LEFT) ) { next = STOP_RUNNING_FRAME_ID; this._nextDirection = null; } break; case FrameStage.FALL: { let face = -1; if (this._currentFrameIndex.inRange(FALLING1_FRAME_RANGE.min, FALLING1_FRAME_RANGE.max)) { face = true; //前 next = (this._currentFrameIndex + 1); if (next &gt; FALLING1_FRAME_RANGE.max) next = FALLING1_FRAME_RANGE.max; else if (next &lt; FALLING1_FRAME_RANGE.min) next = FALLING1_FRAME_RANGE.min; } else if (this._currentFrameIndex.inRange(FALLING2_FRAME_RANGE.min, FALLING2_FRAME_RANGE.max)) { face = false; //後 next = (this._currentFrameIndex + 1); if (next &gt; FALLING2_FRAME_RANGE.max) next = FALLING2_FRAME_RANGE.max; else if (next &lt; FALLING2_FRAME_RANGE.min) next = FALLING2_FRAME_RANGE.min; } if (this.isStopping) { if (face) { next = LYING1_FRAME_ID; } else { next = LYING2_FRAME_ID; } } } break; default: next = 0; if (this.position.z &lt; 0) { next = FALLING_ID; } } } else if (next === 999) { switch (curState) { case FrameStage.STAND: if (IS_ARR_ONLY) { next = WALK_FRAME_RANGE.min; this._walk_dir = DIRECTION.RIGHT; } break; case FrameStage.WALK: //hold left or right key if (IS_ARR_ONLY || this.belongTo._isHoldingLastKey()) { if (this._walk_dir === DIRECTION.RIGHT) { next = this.currentFrame.id + 1; //Loop walk action if (next &gt; WALK_FRAME_RANGE.max) { next -= 2; this._walk_dir = DIRECTION.LEFT; } } else { next = this.currentFrame.id - 1; //Loop walk action if (next &lt; WALK_FRAME_RANGE.min) { next += 2; this._walk_dir = DIRECTION.RIGHT; } } } break; default: next = 0; if (this.position.z &lt; 0) { next = FALLING_ID; } } if (next === 999) next = 0; } } return next; } /** * * @returns {Framework.Point3D} * @override * @protected */ _getVelocity() { let x, y, z; x = y = z = 0; switch (this.currentFrame.state) { default: x = this.currentFrame.velocity.x; y = this.currentFrame.velocity.y; z = this.currentFrame.velocity.z; } if (this._itrItem) { let ITR = this._itrItemFrame.itr; if (!ITR) throw &quot;Some wrong&quot;; ITR = ITR[0]; switch (ITR.kind) { case ItrKind.THREE_D_OBJECTS: x = z = 0; break; } } this._charVel = this._charVel || new Framework.Point3D(0, 0, 0); this._charVel.x = x; this._charVel.y = y; this._charVel.z = z; return this._charVel; } /** * Applies the friction. * * @return . */ _getFrameOffset() { const o = super._getFrameOffset(); let x, y, z; x = o.x; y = o.y; z = 0; switch (this.currentFrame.state) { case FrameStage.WALK: if (this.containsKey(KeyboardConfig.KEY_MAP.DOWN)) { z = this.obj.walking_speedz; } else if (this.containsKey(KeyboardConfig.KEY_MAP.UP)) { z = -this.obj.walking_speedz; } if ( this.containsKey(KeyboardConfig.KEY_MAP.RIGHT) || this.containsKey(KeyboardConfig.KEY_MAP.LEFT) ) { x = this.obj.walking_speed; } break; case FrameStage.RUN: case FrameStage.BURN_RUN: if (this.containsKey(KeyboardConfig.KEY_MAP.DOWN)) { z = this.obj.running_speedz; } else if (this.containsKey(KeyboardConfig.KEY_MAP.UP)) { z = -this.obj.running_speedz; } x = this.obj.running_speed; break; case FrameStage.JUMP: if (this._currentFrameIndex !== FALLING_ID) { y = this.obj.jump_height; } else { } break; default: { const v = this._getVelocity(); if (v.z !== 0 &amp;&amp; v.z !== this.STOP_ALL_MOVE_DV) { if (this.containsKey(KeyboardConfig.KEY_MAP.DOWN)) { z = v.z; } else if (this.containsKey(KeyboardConfig.KEY_MAP.UP)) { z = -v.z; } } } break; } if (x !== undefined) this._velocity.x = x; if (y !== undefined) this._velocity.y = y; if (z !== undefined) this._velocity.z = z; return new Point3D(x, y, z); } /** * Draw object * * @param {CanvasRenderingContext2D} ctx * * @override */ draw(ctx) { super.draw(ctx); const curFrame = this.currentFrame; if (this._allowDraw &amp;&amp; this.belongTo &amp;&amp; this.belongTo.status) { const status = this.belongTo.status; if (curFrame.bpoint) { if (status.HPRadio &lt;= DRAW_BLOOD_PERCENTAGE) { const targetPoint = this.transferPoint(curFrame.bpoint.point); ctx.fillStyle = &quot;#FF3333&quot;; ctx.fillRect(targetPoint.x - 1, targetPoint.y, 2, 5); } } } } /** * startRun() * * Starts a run. * * @return . */ startRun() { const curState = this.currentFrame.state; //Is running if (this._currentFrameIndex.inRange(RUN_FRAME_RANGE.min, RUN_FRAME_RANGE.max)) return; if (acceptForceChangeStatus.binarySearch(curState) !== -1) { this.setFrameById(RUN_FRAME_RANGE.min); } } /** * Is move key pressed * @returns {boolean} * @private */ _isArrowKeyOnly() { return ( this.containsKey(KeyboardConfig.KEY_MAP.UP) || this.containsKey(KeyboardConfig.KEY_MAP.DOWN) || this.containsKey(KeyboardConfig.KEY_MAP.LEFT) || this.containsKey(KeyboardConfig.KEY_MAP.RIGHT) ); } /** * * @param {Number} key KeyboardConfig.KEY_MAP * @returns {boolean} * @private */ containsKey(key) { return this.belongTo.containsKey(key); } /** * Destroy character * @override */ onDestroy() { const ERR_MSG = 'Cannot destroy character'; if (this.spriteParent) { this.spriteParent.detach(this); } else { throw ERR_MSG; } } /** * get isFuncKeyChanged() * * Is function key changed. * * @return {Boolean} A get. */ get isFuncKeyChanged() { return this._curFuncKey !== this._lastFuncKey; } /** * * @param {Number} bound * @param {lf2.GameMap} map */ onOutOfBound(bound, map) { if ((bound &amp; Bound.LEFT) &gt; 0) this.position.x = 0; if ((bound &amp; Bound.RIGHT) &gt; 0) this.position.x = map.width; if ((bound &amp; Bound.TOP) &gt; 0) this.position.y = map.zBoundary.first; if ((bound &amp; Bound.BOTTOM) &gt; 0) this.position.y = map.zBoundary.second; } /** * update() * * Updates this object. * */ update() { super.update(); const NOW = Date.now(); const state = this.currentFrame.state; const frameKind = (state / 100) | 0; if (this.isFuncKeyChanged &amp;&amp; acceptForceChangeStatus.binarySearch(state) !== -1) { this._lastFuncKey = this._curFuncKey; this._frameForceChange = true; } if (this.belongTo.isAlive &amp;&amp; (NOW - this._lastRecoverHPTime) &gt;= RECOVERY.HP.interval) { this.belongTo.addHp(RECOVERY.HP.value); this._lastRecoverHPTime = NOW; } if ((NOW - this._lastRecoverMPTime) &gt;= RECOVERY.MP.interval) { this.belongTo.addMp(RECOVERY.MP.value(this.belongTo)); this._lastRecoverMPTime = NOW; } this.addFall(RECOVERY.FALL.value); if (state === FrameStage.ICE) { this.freeze(); } if ( this.currentFrame.mp &amp;&amp; this.previousFrame &amp;&amp; this.currentFrame &amp;&amp; this.previousFrame.nextFrameId === this._currentFrameIndex ) { if (!this.belongTo.requestMp(-this.currentFrame.mp)) { this.setNextFrame(this.currentFrame.hit.d); } } //治癒自己 if (state === FrameStage.CURE_SELF) { this.belongTo.addHp(100); } //變身 if (frameKind === 80 || state === 9995) { let newCharId = state % 1000; if (state === 9995) { newCharId = 50; } this.belongTo.charId = newCharId; this.obj = GameObjectPool.get(newCharId); this.head = this.obj.head; this.small = this.obj.small; this._currentFrameIndex = 0; } if (!this._allowDraw) { this._hideRemainderTime--; if (this._hideRemainderTime &lt;= HIDE_FLASH_TIME) { this._hideRemainderTime = 0; this._allowDraw = true; this._godModeTime = HIDE_FLASH_TIME; } } if (this._godModeTime &gt; 0) { this._flashing = true; this._godModeTime--; if (this._godModeTime === 0) { this._flashing = false; this._flashCounter = false; } } } /** * Freezes this object. * * @return . */ freeze() { this._velocity.x = this._velocity.z = 0; } /** * * @param {Number} frameId * @override */ setFrameById(frameId) { super.setFrameById(frameId); const fc = acceptForceChangeStatus.binarySearch(this.currentFrame.state) !== -1; if (fc) { const keywoFront = this._curFuncKey &amp; ~KeyboardConfig.KEY_MAP.FRONT; if (this._previousFrameIndex === STOP_RUNNING_FRAME_ID) { this.belongTo._currentKey &amp;= ~KeyboardConfig.KEY_MAP.FRONT; } else if ((keywoFront &amp; KeyboardConfig.KEY_MAP.LEFT) !== 0) { this.setNextDirection(DIRECTION.LEFT); } else if ((keywoFront &amp; KeyboardConfig.KEY_MAP.RIGHT) !== 0) { this.setNextDirection(DIRECTION.RIGHT); } } } /** * Can damage by. * * @param item The item. * @param ITR The itr. * * @return . */ canDamageBy(item, ITR) { const parentRet = super.canDamageBy(item, ITR); if (!parentRet) return parentRet; if (this.currentFrame.state === FrameStage.BURN_RUN &amp;&amp; ITR.kind === ItrKind.NORMAL_HIT) { if ( ITR.effect === Effect.FIRE || ITR.effect === Effect.FIXED_FIRE_0 || ITR.effect === Effect.FIXED_FIRE_1 || ITR.effect === Effect.FIXED_FIRE_2 ) return false; } return parentRet; } /** * * @param {lf2.GameItem} item * @param {lf2.Interaction} itr */ notifyDamageBy(item, itr) { super.notifyDamageBy(item, itr); const ITR = itr; const DV = ITR.dv; const curState = this.currentFrame.state; const CAN_ATTACK = this.canDamageBy(item, ITR); if (ITR.kind === ItrKind.HEAL_BALL) { if (CAN_ATTACK) return false; item.setNextFrame(40); this.belongTo.addHp(ITR.injury); return true; } if (!CAN_ATTACK) return false; //Accept injury switch (ITR.kind) { case ItrKind.NORMAL_HIT: case ItrKind.REFLECTIVE_SHIELD: case ItrKind.SONATA_OF_DEATH_1: case ItrKind.SONATA_OF_DEATH_2: case ItrKind.WHIRLWIND_WIND: case ItrKind.WHIRLWIND_ICE: this.belongTo.hurtPlayer(ITR.injury); item.belongTo.addAttackCount(ITR.injury); break; case ItrKind.THREE_D_OBJECTS: this._velocity.x = this._velocity.y = 0; return false; break; default: this._arestCounter = this._vrestCounter = 0; return false; break; } if (ItrKind.ITR_ALLOW_FALL.binarySearch(ITR.kind) !== -1) { this._velocity.x = DV.x; this._velocity.y = DV.y; this.addFall(ITR.fall); } if (ITR.kind === ItrKind.WHIRLWIND_WIND) { this._velocity.y = DV.y; const MASS = 1; //lift this._velocity.y -= 2 / MASS; const sign = (x) =&gt; x &gt; 0 ? 1 : -1; const cx = ITR.rect.position.x + DV.x + (ITR.rect.width &gt;&gt; 1); const cz = DV.y; this._velocity.x -= sign(this.position.x - cx) * 2 / MASS; console.log(sign(this.position.y - cz) * 0.5 / MASS); this._velocity.y += sign(this.position.y - cz) * 0.5 / MASS; } let face = this._direction !== item._direction; if (face) { this._velocity.x = -1 * this._velocity.x; } // console.log(this._velocity.x); let isFallDown = this.belongTo.hp &lt;= 0; const fallDown = () =&gt; { if (face) { this.setNextFrame(FALLING1_FRAME_RANGE.min); } else { this.setNextFrame(FALLING2_FRAME_RANGE.min); } isFallDown = true; }; if (curState === FrameStage.ICE) { fallDown(); } else { if (this._fall.inRange(1, 20)) { this.setNextFrame(220); } else if (this._fall.inRange(21, 30)) { this.setNextFrame(222); } else if (this._fall.inRange(31, 40)) { this.setNextFrame(224); } else if (this._fall.inRange(41, 60)) { this.setNextFrame(226); } else if (this._fall &gt;= 60) { fallDown(); } } switch (ITR.kind) { case ItrKind.NORMAL_HIT: switch (ITR.effect) { case Effect.FIXED_FIRE_0: case Effect.FIXED_FIRE_1: case Effect.FIXED_FIRE_2: this.freeze(); case Effect.FIRE: // case Effect.FIXED_FIRE_3: this.setNextFrame(203); break; case Effect.FIXED_ICE: this.freeze(); case Effect.ICE: this.setNextFrame(200); break; } //Play effect sound this.playEffectSound(ITR.effect, isFallDown); break; case ItrKind.WHIRLWIND_ICE: case ItrKind.WHIRLWIND_WIND: this.setNextFrame(200); this.playEffectSound(Effect.ICE, isFallDown); break; case ItrKind.THREE_D_OBJECTS: this.freeze(); break; } //Play effect sound if (curState === FrameStage.ICE) { this.playEffectSound(Effect.ICE, isFallDown); } else { switch (ITR.kind) { case ItrKind.NORMAL_HIT: //Play effect sound this.playEffectSound(ITR.effect, isFallDown); break; case ItrKind.WHIRLWIND_ICE: case ItrKind.WHIRLWIND_WIND: this.playEffectSound(Effect.ICE, isFallDown); break; } } return true; } /** * * @param {lf2.GameItem[]} gotDamageItems */ postDamageItems(gotDamageItems) { super.postDamageItems(gotDamageItems); } /** * Play effect sound. * * @param effectCode The effect code. * @param fall The fall. * * @return . */ playEffectSound(effectCode, fall) { const soundPath = Effect.sound.getSoundPath(effectCode, fall); if (soundPath) { this._audio.play(soundPath); } } /** * * @param {Number} num */ addFall(num) { this._fall += num; if (this._fall &lt; 0) { this._fall = 0; } else if (this._fall &gt; 100) { this._fall = 100; } } /** * Current function key. * * @return {Number} A get. */ get _curFuncKey() { return this.belongTo._currentKey; } /** * Set up key * @param {Number} key */ setUpKey(key) { this._upKey = key; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_CollisionSearchTree.js.html":{"id":"lf2_game_CollisionSearchTree.js.html","title":"Source: lf2/game/CollisionSearchTree.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/CollisionSearchTree.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Rectangle = lf2.Rectangle; class Node { /** * * @param {lf2.Rectangle} value * @param {Node} parent * @param {lf2.CollisionSearchTree} tree */ constructor(value, parent, tree) { this.value = new Rectangle(value); this.parent = parent || null; this.left = this.right = null; this.tree = tree; } /** * * @param {lf2.Rectangle} value * @param {Node} parent */ add(value, parent) { const collisionResult = value.isIntersect(this.value); if (collisionResult &amp;&amp; !this.isLeaf) { //如果有交集 // const collisionLeft = this.left!==null &amp;&amp; value.isIntersect(this.left.value); // const collisionRight = this.right!==null &amp;&amp; value.isIntersect(this.right.value); const leftRectAfterMerge = this.left !== null ? Rectangle.merge(this.left.value, value) : value; const rightRectAfterMerge = this.right !== null ? Rectangle.merge(this.right.value, value) : value; const leftAreaDiff = this.left !== null ? leftRectAfterMerge.area - this.left.area : leftRectAfterMerge.area; const rightAreaDiff = this.right !== null ? rightRectAfterMerge.area - this.right.area : rightRectAfterMerge.area; if (leftAreaDiff &lt;= rightAreaDiff) { if (this.left === null) { this.left = new Node(value, this, this.tree); this._ReArrange(this.left); } else { this.left.add(value, this.left); } } else { if (this.right === null) { this.right = new Node(value, this, this.tree); this._ReArrange(this.right); } else { this.right.add(value, this.right); } } } else { const mergedRect = Rectangle.merge(value, this.value); let newNode = new Node(mergedRect, parent, this.tree); const valueNode = new Node(value, newNode, this.tree); const mostLeftNode = (this.value.position.x &gt; valueNode.value.position.x) ? valueNode : this; const anotherNode = mostLeftNode === this ? valueNode : this; newNode.left = mostLeftNode; newNode.right = anotherNode; if (this.parent === null) { //root? newNode.parent = null; this.tree.root = newNode; } else if (this.parent.left === this) { this.parent.left = newNode; } else { this.parent.right = newNode; } newNode.left.parent = newNode.right.parent = newNode; this._ReArrange(newNode); } } has(value) { if (value &lt; this.value) { if (this.left) return this.left.has(value); else return false; } else if (value &gt; this.value) { if (this.right) return this.right.has(value); else return false; } else if (value === this.value) { return true; } } get isLeaf() { return this.left === null &amp;&amp; this.right === null; } /* delete(value, parent, which) { if (value &lt; this.value) { if (this.left) this.left.delete(value, this, 'left'); } else if (value &gt; this.value) { if (this.right) this.right.delete(value, this, 'right'); } else if (value === this.value) { if (this.left) { let node = this.left; while (node.right) node = node.right; this.value = node.value; this.left.delete(this.value, this, 'left'); } else if (this.right) { let node = this.right; while (node.left) node = node.left; this.value = node.value; this.right.delete(this.value, this, 'right'); } else { delete parent[which]; } } } */ *[Symbol.iterator]() { if (this.left) yield* this.left; yield this.value; if (this.right) yield* this.right; } /** * * @param {any} baseNode */ _ReArrange(baseNode) { baseNode = baseNode.parent; const getRect = (node) =&gt; node ? node.value : null; while (baseNode) { let mergedRect = Rectangle.merge(getRect(baseNode.left), getRect(baseNode.right)); console.log(mergedRect); baseNode.value = mergedRect; baseNode = baseNode.parent; } } } ; /** * Tree * * @class lf2.CollisionSearchTree */ lf2.CollisionSearchTree = class CollisionSearchTree { /** * * @param {lf2.Rectangle} value */ add(value) { if (this.root) this.root.add(value, this.root); else this.root = new Node(value, null, this); } has(value) { if (this.root) return this.root.has(value); else return false; } /* delete(value) { if (this.root) this.root.delete(value, this, 'root'); } */ *[Symbol.iterator]() { if (this.root) yield* this.root; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_ColorBar.js.html":{"id":"lf2_objects_ColorBar.js.html","title":"Source: lf2/objects/ColorBar.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/ColorBar.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * Color bar * * @class lf2.ColorBar * @extends Framework.GameObject * @implements Framework.AttachableInterface */ lf2.ColorBar = class ColorBar extends Framework.GameObject { /** * * @param {String} color * @param {Number} width * @param {Number} height */ constructor(color, width, height) { super(); this._color = color; this._width = width; this._height = height; } /** * load() * * Loads this object. * * @return . */ load() { } /** * update() * * Updates this object. * * @return . */ update() { } /** * draw(ctx) * * Draws the given context. * * @param ctx The context. * * @return . */ draw(ctx) { ctx.fillStyle = this.color; ctx.fillRect( this.position.x, this.position.y, this.width, this.height ); } /** * @returns {Number} width */ get width(){ return this._width; } /** * * @param {Number} v */ set width(v){ this._width = v; } /** * @returns {Number} width */ get height(){ return this._height; } /** * * @param {Number} v */ set height(v){ this._height = v; } /** * @returns {String} width */ get color(){ return this._color; } /** * * @param {String} v */ set color(v){ this._color = v; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_Cube.js.html":{"id":"lf2_game_Cube.js.html","title":"Source: lf2/game/Cube.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/Cube.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; /** * Cube * * @type {Cube} * @class lf2.Cube */ lf2.Cube = class Cube { constructor(width, height, depth, px, py) { this.width = intval(width); this.height = intval(height); this.depth = depth; this._depthHalf = (depth / 2) | 0; this.position = new Point(px, py); } /** * * @param {CanvasRenderingContext2D} ctx * @param {Number} [z] */ draw(ctx, z) { if (z === undefined) z = 0; ctx.strokeRect( this.position.x - this._depthHalf, this.position.y + this._depthHalf + z, this.width, this.height ); ctx.strokeRect( this.position.x + this._depthHalf, this.position.y - this._depthHalf + z, this.width, this.height ); //left-top ctx.beginPath(); ctx.moveTo(this.position.x - this._depthHalf, this.position.y + this._depthHalf + z); ctx.lineTo(this.position.x + this._depthHalf, this.position.y - this._depthHalf + z); ctx.stroke(); //right-top ctx.beginPath(); ctx.moveTo(this.position.x - this._depthHalf + this.width, this.position.y + this._depthHalf + z); ctx.lineTo(this.position.x + this._depthHalf + this.width, this.position.y - this._depthHalf + z); ctx.stroke(); //left-bottom ctx.beginPath(); ctx.moveTo(this.position.x - this._depthHalf, this.position.y + this.height + this._depthHalf + z); ctx.lineTo(this.position.x + this._depthHalf, this.position.y + this.height - this._depthHalf + z); ctx.stroke(); //right-bottom ctx.beginPath(); ctx.moveTo(this.position.x - this._depthHalf + this.width, this.position.y + this.height + this._depthHalf + z); ctx.lineTo(this.position.x + this._depthHalf + this.width, this.position.y + this.height - this._depthHalf + z); ctx.stroke(); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_enums_Effect.js.html":{"id":"lf2_enums_Effect.js.html","title":"Source: lf2/enums/Effect.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/enums/Effect.js &quot;use strict&quot;; var lf2 = (function (lf2) { let Effect; /** * Itr Effect * 定義遊戲內部特效的列舉型別 * * @class lf2.Effect * @type { * { * NORMAL: number, * BLADE: number, * FIRE: number, * ICE: number, * PASS_E: number, * NONE: number, * FIXED_FIRE_0: number, * FIXED_FIRE_1: number, * FIXED_FIRE_2: number, * FIXED_FIRE_3: number, * FIXED_ICE: number * } * } */ lf2.Effect = Effect = { NORMAL: 0, BLADE: 1, FIRE: 2, ICE: 3, PASS_E: 4, NONE: 5, FIXED_FIRE_0: 20, FIXED_FIRE_1: 21, FIXED_FIRE_2: 22, FIXED_FIRE_3: 23, FIXED_ICE: 30, }; let SOUND = {}; SOUND[Effect.NORMAL] = ['001.m4a', '006.m4a']; //006 SOUND[Effect.BLADE] = ['032.m4a', '033.m4a']; SOUND[Effect.FIRE] = ['070.m4a', '071.m4a']; SOUND[Effect.ICE] = ['065.m4a', '066.m4a']; SOUND[Effect.FIXED_FIRE_0] = SOUND[Effect.FIRE]; SOUND[Effect.FIXED_FIRE_1] = SOUND[Effect.FIRE]; SOUND[Effect.FIXED_FIRE_2] = SOUND[Effect.FIRE]; // SOUND[Effect.FIXED_FIRE_3] = SOUND[Effect.FIRE]; SOUND[Effect.FIXED_ICE] = ['065.m4a']; let allSound = new Set(); for (let k in SOUND) { if (!(SOUND[k] instanceof Array)) continue; SOUND[k].forEach(k =&gt; { allSound.add(define.MUSIC_PATH + k); }); } lf2.Effect.sound = SOUND; Object.freeze(allSound); lf2.Effect.allSound = allSound; /** * Get Sound Path by effect code * @param {Number} effectCode effect code * @param {Number} [fall] fall * @returns {String|undefined} return path if effect found */ lf2.Effect.sound.getSoundPath = (effectCode, fall) =&gt; { const ARR = SOUND[effectCode]; if (ARR) { const index = fall &amp;&amp; ARR.length &gt; 1 ? 1 : 0; return (define.MUSIC_PATH + ARR[index]); } return undefined; }; // Object.freeze(SOUND); Object.freeze(lf2.Effect); return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_Egg.js.html":{"id":"lf2_game_Egg.js.html","title":"Source: lf2/game/Egg.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/Egg.js &quot;use strict&quot;; var lf2 = (function (lf2) { const PLAYER = new window.Audio(); const EGG_PATH = define.MUSIC_PATH + 'egg/'; let Egg; let _axysCount = 0; let _axysTimer = -1; let playQueue = []; let isFirstAxysEgg = true; PLAYER.addEventListener('ended', function () { if (playQueue.length) Egg._play(); }); /** * Egg * * @class lf2.Egg */ lf2.Egg = Egg = { EGG_KEYWORD: [ {key: 'eris', sound: 'ERIS_CHEST_PADDED'}, { key: 'friends', sound: () =&gt; { if ((lf2.CurrentLevel instanceof lf2.FightLevel)) { const Players = lf2.CurrentLevel.world.config.players; Players.forEach(p =&gt; { p.team = 5; }); } return Egg['FRIENDS']; } }, { key: 'axys', sound: () =&gt; { if (Egg.AXYS_EGG.length === 0) return Egg.ERIS_CHEST_PADDED; clearTimeout(_axysTimer); if ((lf2.CurrentLevel instanceof lf2.FightLevel)) { const Players = lf2.CurrentLevel.world.config.players; let sp = $(&quot;#statusPanels&quot;); sp.addClass('axys'); Players.forEach(player =&gt; { player.setGodMode(true); }); _axysTimer = setTimeout(() =&gt; { sp.removeClass('axys'); Players.forEach(player =&gt; { player.setGodMode(false); }); }, Egg.AXYS_EGG_TIME[_axysCount]); } if (!isFirstAxysEgg &amp;&amp; _axysCount === 0) { window.open(atob(Egg._EGG_CONTENT._JOIN_APPLICATION_FORM_URL)); } let src = Egg.AXYS_EGG[_axysCount]; _axysCount = (_axysCount + 1) % Egg.AXYS_EGG.length; isFirstAxysEgg = false; return src; } } ], ERIS_CHEST_PADDED: '', FRIENDS: '', AXYS_EGG: [], AXYS_EGG_TIME: [6463, 2180, 6130, 8470, 8150, 3164], AddPlayQueue: (sound) =&gt; { if (!sound) return; playQueue.push(sound); Egg._play(); }, _play: () =&gt; { if (!PLAYER.paused &amp;&amp; PLAYER.duration) return; if (playQueue.length &lt; 1) return; let sound = playQueue.shift(); let s = typeof sound === 'function' ? sound() : Egg[sound]; if (!s) return; PLAYER.pause(); PLAYER.src = s; PLAYER.currentTime = 0; PLAYER.play(); }, stop: () =&gt; { PLAYER.pause(); PLAYER.currentTime = 0; }, //////////////////////////////////////////////////////////////////////////////////// _EGG_CONTENT: { _JOIN_APPLICATION_FORM_URL: 'aHR0cHM6Ly93ZWItcHJvZ3JhbW1pbmctczE3dS5zOTExNDE1LnRrLyNzaWduLWJvYXJk', _ZIP: define.ZIP_PATH + 'egg.zip', }, //////////////////////////////////////////////////////////////////////////////////// }; const ReadZipFromBlob = (blob) =&gt; { JSZip.loadAsync(blob) .then(zip =&gt; zip.files) .then(fs =&gt; { //Add to ERIS CHEST PADDED { fs['エリスの胸はパッド入り.m4a'].async('blob').then(b =&gt; { Egg.ERIS_CHEST_PADDED = URL.createObjectURL(b); }); } //Add to FRIENDS { fs['ようこそジャパリパークへ.m4a'].async('blob').then(b =&gt; { Egg.FRIENDS = URL.createObjectURL(b); }); } //Add to AXYS_EGG { let arr = []; for (let f in fs) { if (fs.hasOwnProperty(f) &amp;&amp; f.toString().match(/axys_(.*?)\\.m4a/g)) { arr.push(fs[f]); } } arr.sort(String.localeCompare); arr.forEach((file, i) =&gt; { file.async('blob').then(b =&gt; { Egg.AXYS_EGG[i] = URL.createObjectURL(b); }); }); } }) .catch(err =&gt; { console.error(err); Egg.ERIS_CHEST_PADDED = EGG_PATH + 'エリスの胸はパッド入り.m4a'; Egg.FRIENDS = EGG_PATH + 'ようこそジャパリパークへ.m4a'; for (let i = 1; i &lt;= 6; i++) { const name = EGG_PATH + `axys_${i.toString().padStart(2, '0')}.m4a`; Egg.AXYS_EGG.push(name); } }); }; window.addEventListener('load', () =&gt; { fetch(Egg._EGG_CONTENT._ZIP, {method: 'GET'}) .then(d =&gt; d.blob()).then(ReadZipFromBlob); }); Egg.EGG_KEYWORD.forEach(v =&gt; { v.key = v.key.toUpperCase().split('').reverse(); Object.freeze(v); }); Object.freeze(Egg.EGG_KEYWORD); return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_FasterTrackerBehavior.js.html":{"id":"lf2_items_behavior_FasterTrackerBehavior.js.html","title":"Source: lf2/items/behavior/FasterTrackerBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/FasterTrackerBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const Utils = lf2.Utils; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const FRICTION = GameItem.FRICTION; /** * FasterTrackerBehavior * * @class {lf2.FasterTrackerBehavior} * @extends {lf2.AbstractBehavior} */ lf2.FasterTrackerBehavior = class FasterTrackerBehavior extends lf2.AbstractBehavior{ /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); this._maxVelocity = new Framework.Point3D(12, 0, 0); /** * * @type {lf2.GameItem} * @private */ this._target = null; } /** * Updates this object. * * @return . */ update() { super.update(); } /** * * @returns {Framework.Point3D} */ getVelocity() { let vx = this._ball._velocity.x; vx += vx * FRICTION; return new Point3D(vx, 0, 0); } /** * * @returns {lf2.GameItem} */ getTarget() { if (this._target &amp;&amp; !this._target.alive) this._target = null; if (this._target !== null) return this._target; this._target = this._world.getEnemy(this.belongTo); this._maxVelocity = this._ball._prevVelocity.clone(); return this._target; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 10; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.FasterTrackerBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_FightLevel.js.html":{"id":"lf2_level_FightLevel.js.html","title":"Source: lf2/level/FightLevel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/FightLevel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const _FIGHT_CONTAINER_ID = &quot;__fight_container&quot;; const SEC_PER_MIN = 60; const PLAYER_TAG = 'data-player'; const Point = Framework.Point; const Game = Framework.Game; const Sprite = Framework.Sprite; const Character = lf2.Character; const Practice = lf2.Practice; const GameMap = lf2.GameMap; const Fighter = lf2.Fighter; const KeyboardConfig = lf2.KeyboardConfig; const Player = lf2.Player; const WorldScene = lf2.WorldScene; const ResourceManager = Framework.ResourceManager; const PlayerStatusPanel = lf2.PlayerStatusPanel; const GAME_STATUS_WIN = 'win'; const GAME_STATUS_LOSE = 'lose'; const GAME_STATUS_DRAW = 'draw'; /** * @class lf2.FightLevel * @extends {Framework.Level} * @implements Framework.MouseEventInterface * @implements Framework.KeyboardEventInterface */ lf2.FightLevel = class FightLevel extends Framework.Level { constructor() { super(); this.html = ''; //Load Setting view this._htmlLoader = ResourceManager.loadResource(define.DATA_PATH + 'FightScreen.html', {method: &quot;GET&quot;}).then((data) =&gt; { return data.text(); }).then((html) =&gt; { this.html = html; }); } /** * 接收傳遞的資料 * * @override * @param extraData */ receiveExtraDataWhenLevelStart(extraData) { this.config = { players: [], mapId: extraData.mapId, }; for (let playerId in extraData.players) { playerId = intval(playerId); if (isNaN(playerId)) continue; const Data = extraData.players[playerId]; this.config.players[playerId] = new Player(playerId, Data.charId, Data.teamId); } } /** * load() * * Loads this object. * * @return . */ load() { super.load(); //Play bgm lf2['!MainGame'].playBgm(); this.world = new WorldScene(this.config); this.rootScene.attach(this.world); //載入要被播放的音樂清單 //資料夾內只提供mp3檔案, 其餘的音樂檔案, 請自行轉檔測試 this.audio = new Framework.Audio({ end: define.MUSIC_PATH + 'm_end.m4a', }); this._statusPanels = new Array(define.SHOW_PLAYER_COUNT); //attach player's character const halfWorldWidth = this.world.map.width &gt;&gt; 1; const worldHeightDiff = (this.world.map.zBoundary.second - this.world.map.zBoundary.first); const halfScreenWidth = Framework.Config.canvasWidth &gt;&gt; 1; this.config.players.forEach((player, i) =&gt; { player.character.position = new Framework.Point3D( (halfWorldWidth - halfScreenWidth) + ((Math.random() * Framework.Config.canvasWidth) | 0), ((Math.random() * worldHeightDiff) | 0) + this.world.map.zBoundary.first, 0 ); // player.status.setElem(this._statusPanels[i]); }); this._funcStatus = { 'F6': 0, 'F7': 0, }; this._anyFuncPressed = false; this._container = undefined; this._htmlLoader.then(() =&gt; { this.showPanel(); }); this._startTime = Date.now(); this._gameOver = false; this._gameOverPanelShown = false; this._teamInfoCache = undefined; } /** * initialize() * * Initializes this object. * * @return . */ initialize() { } /** * update() * * Updates this object. * * @return . */ update() { super.update(); //update each player status this.config.players.forEach((player) =&gt; { player.update(); player.status.update(); }); if (this.checkGameOver()) { this._gameOver = true; this._gameOverTime = Date.now(); setTimeout(() =&gt; this.showGameOverPanel(), 2000); } } /** * draw(ctx) * * Draws the given context. * * @param ctx The context. * * @return . */ draw(ctx) { super.draw(ctx); //Draw each player status this.config.players.forEach((player) =&gt; { player.status.draw(ctx); }); if (this._anyFuncPressed) { let funcStr = 'Function Keys Used:\\x20'; for (let k in this._funcStatus) { if (!this._funcStatus.hasOwnProperty(k)) continue; funcStr += ` ${k}: ${this._funcStatus[k]}\\x20time(s)`; } this._funcBar.textContent = funcStr; // ctx.textAlign = &quot;start&quot;; // ctx.font = &quot;12px Arial&quot;; // ctx.textBaseline = &quot;middle&quot;; // ctx.fillStyle = &quot;#FFF&quot;; // ctx.fillText(funcStr, 3, 120); } } /** * keydown(e, list, oriE) * * Keydowns. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keydown(e, list, oriE) { super.keydown(e, list, oriE); this.config.players.forEach((player) =&gt; { player.keydown(oriE); }); let curCount = (this._funcStatus[e.key] !== undefined) ? ++this._funcStatus[e.key] : 0; //Handle func key switch (e.key) { case 'F4'://Restart Game Framework.Game.goToLevel('selection'); break; case 'F6'://INF MP let infMpStatus = curCount % 2 === 1; this.config.players.forEach((player) =&gt; { player.setInfMp(infMpStatus); }); break; case 'F7'://Recover players this.config.players.forEach((player) =&gt; { player.addHp(500); player.addMp(500); }); break; default: } if (curCount !== 0) this._anyFuncPressed = true; this.world.keydown(oriE); } /** * keyup(e, list, oriE) * * Keyups. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keyup(e, list, oriE) { super.keyup(e, list, oriE); } keypress(e, list, oriE) { } /** * click(e) * * Clicks the given e. * * @param e The unknown to process. * * @return . */ click(e) { } /** * Autodeletes this object. * * @return . */ autodelete() { super.autodelete(); if (this._container) { this._container.remove(); this._container = undefined; } } /** * Shows the panel. * * @return . */ showPanel() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._container) { $(&quot;#&quot; + _FIGHT_CONTAINER_ID).remove(); this._container = $(this.html); this._container.attr(&quot;id&quot;, _FIGHT_CONTAINER_ID); this._funcBar = this._container.find(&quot;#funcKeyStatus&quot;)[0]; const _statusPanelsTarget = this._container.find(&quot;#statusPanels&quot;); let statusPanelTemplate = _statusPanelsTarget.find(&quot;.status&quot;); for (let i = 0; i &lt; define.SHOW_PLAYER_COUNT; i++) { this._statusPanels[i] = statusPanelTemplate.clone()[0]; this._statusPanels[i].setAttribute(PLAYER_TAG, i.toString()); this._statusPanels[i].hp = this._statusPanels[i].querySelector('.hp'); this._statusPanels[i].mp = this._statusPanels[i].querySelector('.mp'); this._statusPanels[i].small = this._statusPanels[i].querySelector('.small'); this._statusPanels[i].flag = this._statusPanels[i].querySelector('.flag'); _statusPanelsTarget.append(this._statusPanels[i]); if (this.config.players[i]) { this.config.players[i].status.setElem(this._statusPanels[i]); } } statusPanelTemplate.remove(); this._gameOverPanel = this._container.find('#gameOverPanel'); this._gameOverTimeVal = this._container.find('.time-value'); this._gameOverPanelPlayerRows = []; const _gameOverPanelPlayerRow = this._gameOverPanel.find('.player-row'); const _gameOverPanelTarget = _gameOverPanelPlayerRow.parent(); this.config.players.forEach((player, i) =&gt; { let panel = _gameOverPanelPlayerRow.clone(); panel.attr(PLAYER_TAG, i); panel.find('img.small').attr('src', player.character.obj.small.src); panel.find('.player-text').text('P' + (i + 1)); panel[0]._attackVal = panel.find('.cell-attack&gt;.value'); panel[0]._hpVal = panel.find('.cell-hp&gt;.value'); panel[0]._mpVal = panel.find('.cell-mp&gt;.value'); panel[0]._status = panel.find('.cell-status'); this._gameOverPanelPlayerRows[i] = panel[0]; _gameOverPanelTarget.append(panel); }); _gameOverPanelPlayerRow.remove(); $(&quot;body&quot;).append(this._container); Game.resizeEvent(); } } /** * Check game over. * * @return . */ checkGameOver() { if (this._gameOver) return true; const TeamInfo = this.getTeamInfo(); let isGameOver = false; TeamInfo.forEach(v =&gt; { if (v.status !== undefined) isGameOver = true; }); return isGameOver; } /** * Gets team information. * * @return The team information. */ getTeamInfo() { // if (this._teamInfoCache !== undefined) return this._teamInfoCache; let teamMap = new Map(); let playerCount = 0; this.config.players.forEach((player, i) =&gt; { const team = player.team; let mapObj = teamMap.get(team); playerCount++; if (mapObj === undefined) { mapObj = { alive: 0, dead: 0, total: 0, status: undefined, }; teamMap.set(team, mapObj); } mapObj.total++; if (player.hp &gt; 0) { mapObj.alive++; } else { mapObj.dead++; } }); let tmpArr = []; teamMap.forEach((obj) =&gt; { tmpArr.push(obj); }); // 依活著人數由大到小排序 tmpArr.sort((x, y) =&gt; y.alive - x.alive); const first = tmpArr[0]; if (first.total === playerCount) { // 沒有其他隊伍所以平手 first.status = GAME_STATUS_DRAW; } else if (first.alive === 0) { //沒有人活著 tmpArr.forEach(v =&gt; v.status = GAME_STATUS_DRAW); } else if (first.alive &gt; 0 &amp;&amp; tmpArr[1].alive === 0) { tmpArr.forEach(v =&gt; v.status = GAME_STATUS_LOSE); first.status = GAME_STATUS_WIN; } // this._teamInfoCache = teamMap; return teamMap; } /** * Clears the team information cache. * * @return . */ clearTeamInfoCache() { this._teamInfoCache = undefined; } /** * Shows the game over panel. * * @return . */ showGameOverPanel() { if (this._gameOverPanelShown) return; const TeamInfo = this.getTeamInfo(); this._gameOverPanel.removeAttr('hidden'); this.config.players.forEach((player, i) =&gt; { const panel = this._gameOverPanelPlayerRows[i]; panel._attackVal.text(player.attackSum); panel._hpVal.text(player.hpLost); panel._mpVal.text(player.mpCost); panel._status.attr('data-game-status', TeamInfo.get(player.team).status); panel._status.attr('data-char-status', player.hp &gt; 0 ? 'alive' : 'dead'); }); const costTime = ((this._gameOverTime - this._startTime) / 1000) | 0; const ss = costTime % SEC_PER_MIN; const mm = (costTime - ss) / SEC_PER_MIN; this._gameOverTimeVal.text(`${mm.toString().padStart(2, '0')}:${ss.toString().padStart(2, '0')}`); this.audio.play('end'); this._gameOverPanelShown = true; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_FirzenDisasterFallDownBeginBehavior.js.html":{"id":"lf2_items_behavior_FirzenDisasterFallDownBeginBehavior.js.html","title":"Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const Point3D = Framework.Point3D; /** * FirzenDisasterFallDownBeginBehavior * * @class lf2.FirzenDisasterFallDownBeginBehavior * @extends lf2.AbstractBehavior */ lf2.FirzenDisasterFallDownBeginBehavior = class FirzenDisasterFallDownBeginBehavior extends lf2.AbstractBehavior { /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); this._attached = false } /** * * @returns {Framework.Point3D} */ getVelocity() { return new Point3D(0, 0, 0); } /** * Updates this object. * * @return . */ update() { if (this._ball &amp;&amp; !this._ball.alive &amp;&amp; this._attached) { //Remove reference of ball this._ball._behavior = null; this._ball = null; } if (this._attached) return; let N = this._world.attachArray.filter(x=&gt;x instanceof lf2.Character).length; let ops = [ new lf2.ObjectPoint(`kind: 1 x: 0 y: 0 action: 0 dvx: 15 dvy: -8 oid: 221 facing: ${N}0`), new lf2.ObjectPoint(`kind: 1 x: 0 y: 0 action: 0 dvx: 13 dvy: -10 oid: 222 facing: ${N}0`), ]; ops.forEach(opoint=&gt;{ let ball = this.belongTo.addBall(opoint, this._ball); }); this._attached = true; } /** * * @returns {lf2.GameItem} */ getTarget() { return null; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 9; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_FirzenDisasterFallDownBehavior.js.html":{"id":"lf2_items_behavior_FirzenDisasterFallDownBehavior.js.html","title":"Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const FRICTION = GameItem.FRICTION; const Utils = lf2.Utils; const MIN_SPEED = 10; /** * FirzenDisasterFallDownBehavior * * @class {lf2.FirzenDisasterFallDownBehavior} * @extends lf2.AbstractBehavior */ lf2.FirzenDisasterFallDownBehavior = class FirzenDisasterFallDownBehavior extends lf2.AbstractBehavior { /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); this._maxVelocity = new Framework.Point3D(MIN_SPEED, 0, 5); this._targetCatched = false; // this._radiusLocked = false; // this._prevRadius = 0; this._radiusX = 0; this._counter = 0; } /** * Updates this object. * * @return . */ update() { super.update(); // if (this._radiusX &gt; this._maxVelocity.x) this._radiusX = this._maxVelocity.x; // if (this._radiusX &lt; 0) this._radiusX += FRICTION; this._counter++; } /** * * @returns {Framework.Point3D} */ getVelocity() { /** * * @type {lf2.GameItem} */ const TARGET = this.getTarget(); let vx, vy, vz; vx = vy = vz = 0; if (TARGET !== null) { const IS_FRONT = this._ball.isFront(TARGET); if (IS_FRONT) { const p1 = new Point(this._ball.position.x, -this._ball.position.z); const p2 = new Point(TARGET.position.x, -TARGET.position.z); // const RAD = this._radiusLocked ? this._prevRadius : Utils.GetRadBasedOnPoints(p1, p2) + (Math.random() - .5); // this._prevRadius = RAD; let _x = this._counter; let eee = Math.exp(-_x * _x / 1e3); vx = this._radiusX * eee vy = this._maxVelocity.y * (1 - Math.exp(-_x * _x / 50)); // if (this._ball._direction === GameItem.DIRECTION.LEFT) vx *= -1; // this._radiusLocked = true; } else { //轉向 // this._radiusLocked = false; this._ball._direction = !this._ball._direction; // this._radiusX = -this._maxVelocity.x; vx = this._radiusX; } const dy = this._ball.position.y - (TARGET.position.y); //dy &gt; 0 ? UP : DOWN ; 5 - 20 const MIN_Y_DIFF = 8; vz = dy === 0 ? 0 : (dy &gt; 0 ? -1 : 1); if (Math.abs(dy) &lt; MIN_Y_DIFF) { } else { vz *= 2; } } // if (Math.abs(vx) &lt; MIN_SPEED) vx = Math.sign(vx) * MIN_SPEED; // if (Math.abs(vz) &lt; MIN_SPEED) vz = Math.sign(vz) * MIN_SPEED; // if (Math.abs(vy) &lt; Math.abs(this._maxVelocity.y)) vy = Math.abs(this._maxVelocity.y); /*vx |= 0; vy |= 0; vz |= 0;*/ return new Point3D(vx, vy, vz); } /** * * @returns {lf2.GameItem} */ getTarget() { if (!this._world) return null; let target = this._world.getEnemy(this.belongTo); if (!this._targetCatched) { this._maxVelocity = this._ball._prevVelocity.clone(); this._maxVelocity.x = Math.abs(this._maxVelocity.x) + (((Math.random() * 4) | 0) - 2); this._maxVelocity.y = Math.abs(this._maxVelocity.y); this._maxVelocity.z = Math.abs(this._maxVelocity.z); this._radiusX = Math.abs(this._maxVelocity.x); this._radiusY = Math.abs(this._maxVelocity.y); } this._targetCatched = true; return target; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 7; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.FirzenDisasterFallDownBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_Frame.js.html":{"id":"lf2_frame_Frame.js.html","title":"Source: lf2/frame/Frame.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/Frame.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const BDY_START_TAG = 'bdy:'; const BDY_END_TAG = 'bdy_end:'; const ITR_START_TAG = 'itr:'; const ITR_END_TAG = 'itr_end:'; const SOUND_TAG = 'sound:'; const OPOINT_START_TAG = 'opoint:'; const OPOINT_END_TAG = 'opoint_end:'; const BPOINT_START_TAG = 'bpoint:'; const BPOINT_END_TAG = 'bpoint_end:'; const Body = lf2.Body; const ObjectPoint = lf2.ObjectPoint; const BloodPoint = lf2.BloodPoint; const Interaction = lf2.Interaction; const Point = Framework.Point; const Point3D = Framework.Point3D; const KeyboardConfig = lf2.KeyboardConfig; /** * Frame * 提供人物、氣功波各種畫格資訊儲存功能 * &lt;frame&gt;=動作開始 72 super_punch=號碼和名 pic: 8 =圖檔位置(從0開始算) &lt;特別說明&gt;18的攻擊會傷及我方。 wait: 2 =停頓時間 next: 73 =下一個動作是 dvx: =向前後行多少 dvy: =向天,地行多少 dvz: =向上下行多少 centerx: 是以哪一點作為人物的中央 centery: 是以哪一點作為人物的底部(腳的位置) hit_a: 按攻擊時,跳到哪一個frame? hit_d: 按防衛時,跳到哪一個frame? hit_j: 按跳時,跳到哪一個frame? hit_Ua: 按&quot;防上攻&quot;時,跳到哪一個frame? hit_Uj: 按&quot;防上跳&quot;時,跳到哪一個frame? hit_Da: 按&quot;防下攻&quot;時,跳到哪一個frame? hit_Dj: 按&quot;防下跳&quot;時,跳到哪一個frame? hit_Fa: 按&quot;防前攻&quot;時,跳到哪一個frame? hit_Fj: 按&quot;防前跳&quot;時,跳到哪一個frame? hit_ja: 按&quot;防跳攻&quot;時,跳到哪一個frame? &lt;特別說明&gt; 1.next:0是不斷重複此動作，hit_???:的0是指沒有設定。 2.next、hit_? :999是指回到隨機動作 3.next、hit_? :1000是消失 4.next: -??? 會反向進行第???個frame 5.next:1200~1299是隱形 * * @type {Frame} * @class lf2.Frame */ lf2.Frame = class Frame { /** * * @param {String} context * @param {lf2.GameObject} gameObj Game Object */ constructor(context, gameObj) { this.sourceCode = context; let lines = context.lines(); let infoArr = lines[0].split(/\\s+/); this._gameObj = gameObj; this.id = intval(infoArr[0]); this.name = infoArr[1]; let picIndex = 1; while (picIndex &lt; lines.length &amp;&amp; lines[picIndex].indexOf('pic') === -1) picIndex++; this.data = Utils.parseDataLine(lines[picIndex]); let opoint = context.getStringBetween(OPOINT_START_TAG, OPOINT_END_TAG); let bpoint = context.getStringBetween(BPOINT_START_TAG, BPOINT_END_TAG); this.opoint = opoint ? new ObjectPoint(opoint) : undefined; this.bpoint = bpoint ? new BloodPoint(bpoint) : undefined; this.mp = intval(this.data.get('mp') || 0); let itr = context.getStringBetweenMulti(ITR_START_TAG, ITR_END_TAG); if (itr.length &gt; 0) { /** * * @type {lf2.Interaction[]} */ this.itr = []; itr.forEach( itrString =&gt; { let iStr = itrString.trim(); if (iStr) { this.itr.push(new Interaction(iStr)); } } ) } else { this.itr = undefined; } // let bdy = context.getStringBetweenMulti(BDY_START_TAG, BDY_END_TAG); // if (bdy.length &gt; 0) { // this.bdy = bdy.map( // bdyString =&gt; // new Body(bdyString.trim()) // ); // } else { // this.bdy = undefined; // } let bdy = context.getStringBetween(BDY_START_TAG, BDY_END_TAG); bdy = bdy ? bdy.trim() : bdy; this.bdy = bdy ? new Body(bdy) : undefined; this.soundPath = (function () { let soundStr = undefined; for (let i = 0; i &lt; lines.length; i++) { const lineStr = lines[i].trim(); if (lineStr.startsWith(SOUND_TAG)) { soundStr = Utils.parseDataLine(lineStr).get('sound'); break; } } if (soundStr !== undefined) { soundStr = define.MUSIC_PATH + soundStr; return soundStr; } return undefined; })(); this.hit = (() =&gt; { let ret = {}; KeyboardConfig.HIT_KEY.HIT_LIST.forEach((k) =&gt; { const val = intval(this.data.get('hit_' + k) || 0); ret[KeyboardConfig.HIT_KEY[k]] = ret[k] = val; }); return ret; })(); this._velocity = new Point3D( intval(this.data.get('dvx') || 0), intval(this.data.get('dvy') || 0), intval(this.data.get('dvz') || 0) ); this._center = new Point( intval(this.data.get('centerx')), intval(this.data.get('centery')) ); } /** * Get picture index * @property pictureIndex * @returns {Number} */ get pictureIndex() { return intval(this.data.get('pic') || 0); } /** * Get current state * * 0=站立(stand) * 1=行走(walk) * 2=跑步(run) * 3=普通拳腳攻擊(punch) * 4=跳(jump) * 5=突進(dash，即跑+跳) * 7=擋(defend) * 8=破擋(broken defend) * 9=捉人(catching) * 10=被捉(picked caught) * 11=被攻擊(injured) * 12=fall大於60才會被打到 * 13=有冰碎效果 * 14=倒在地上(lying，可使com不會追你) * 15=被冰封(ice，可被同盟攻擊) * 16=暈眩(tired)可被敵人捉住 * 17=喝(weapon drink)可以喝的物件被消耗 * 18=燃燒(fire，可攻擊我方同盟) * 19=firen的烈火焚身(burn run) * 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) * 400=woody瞬間轉移(teleport，移往最近的敵人) * 401=woody瞬間轉移(teleport，移往最近的隊友) * 500=rudolf轉換成其他角色(transform) * 501=rudolf轉換回來(transform_b) * 1700=治療自己 * 9995=變身成LouisEX(transform，任何人都可以) * 9996=爆出盔甲(transform，任何人都可以) * 9997=訊息(come,move之類，能在任何地方看見) * 9998=訊息刪除 * 9999=毀壞的武器(broken weapon) * * @returns {Number} */ get state() { return intval(this.data.get('state') || 0); } /** * get wait() * * Gets the wait. * * @return {Number} A get. */ get wait() { return intval(this.data.get('wait') || 0) + 1; } /** * Get Next frame id * @returns {Number} */ get nextFrameId() { return intval(this.data.get('next') || 0); } /** * Get offset of item * @returns {Framework.Point3D} */ get velocity() { return this._velocity; } /** * * @returns {Framework.Point} */ get center() { return this._center; } get size() { if (this._sizeCache === undefined) { /** * @type {lf2.ImageInformation} */ const img = this._gameObj.bmpInfo.imageNormal[this.pic]; this._sizeCache = new Point( img.rect.width, img.rect.height ); } return this._sizeCache; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_enums_FrameStage.js.html":{"id":"lf2_enums_FrameStage.js.html","title":"Source: lf2/enums/FrameStage.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/enums/FrameStage.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * 定義遊戲內Frame狀態的列舉型別 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) * @type { { STAND: number, WALK: number, RUN: number, PUNCH: number, JUMP: number, DASH: number, DEFEND: number, BROKEN_DEFEND: number, CATCHING: number, PICKED_CAUGHT: number, INJURED: number, FALL: number, ICE: number, LYING: number, FROZEN: number, TIRED: number, DRINK: number, FIRE: number, BURN_RUN: number, DASH_SWORD: number, CLOSED_BAD_GUY: number, CLOSED_TEAMMATE: number, CURE_SELF: number, DISAPPEAR_WHEN_HIT: number, HIT_TEAMMATE: number, BALL_FLYING: number, BALL_HITTING: number, BALL_CANCELED: number, BALL_REBOUNDING: number, BALL_DISAPPEAR: number, BALL_WIND_FLYING: number, BALL_HIT_HEART: number, WEAPON_IN_THE_SKY: number, WEAPON_ON_HAND: number, WEAPON_THROWING: number, WEAPON_REBOUNDING: number, WEAPON_ON_GROUND: number, DELETE_MESSAGE: number } } */ lf2.FrameStage = { /** * Character used start */ STAND: 0, WALK: 1, RUN: 2, PUNCH: 3, JUMP: 4, DASH: 5, DEFEND: 7, BROKEN_DEFEND: 8, CATCHING: 9, PICKED_CAUGHT: 10, INJURED: 11, FALL: 12, ICE: 13, LYING: 14, FROZEN: 15, TIRED: 16, DRINK: 17, FIRE: 18, BURN_RUN: 19, DASH_SWORD: 301, CLOSED_BAD_GUY: 400, CLOSED_TEAMMATE: 401, CURE_SELF: 1700, /** * Character used end */ /** * Ball used start */ DISAPPEAR_WHEN_HIT: 15, HIT_TEAMMATE: 18, BALL_FLYING: 3000, BALL_HITTING: 3001, BALL_CANCELED: 3002, BALL_REBOUNDING: 3003, BALL_DISAPPEAR: 3004, BALL_WIND_FLYING: 3005, BALL_HIT_HEART: 3006, /** * Ball used end */ /** * Weapon used start */ WEAPON_IN_THE_SKY: 1000, WEAPON_ON_HAND: 1001, WEAPON_THROWING: 1002, WEAPON_REBOUNDING: 1003, WEAPON_ON_GROUND: 1004, DELETE_MESSAGE: 9998, /** * Weapon used end */ }; Object.freeze(lf2.FrameStage); return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameMap.js.html":{"id":"lf2_objects_GameMap.js.html","title":"Source: lf2/objects/GameMap.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameMap.js &quot;use strict&quot;; var lf2 = (function (lf2) { const LAYER_START_TAG = 'layer:'; const LAYER_END_TAG = 'layer_end'; const Point = Framework.Point; const ResourceManager = Framework.ResourceManager; const GameMapLayer = lf2.GameMapLayer; const Bound = lf2.Bound; /** * GameMap * * @class lf2.GameMap * @implements Framework.AttachableInterface */ lf2.GameMap = class GameMap { /** * * @param {Object} fileInfo * @param {String} context */ constructor(fileInfo, context) { this._promiseList = []; this.fileInfo = fileInfo; this.sourceCode = context; this.id = intval(fileInfo.id); const infoText = context.getStringBetween(&quot;&quot;, LAYER_START_TAG); let info = lf2.Utils.parseDataLine(infoText); this.name = info.get(&quot;name&quot;).replace(/_/g, ' '); this.width = intval(info.get(&quot;width&quot;)); this.zBoundary = lf2.GameMap._parseSizeByKey('zboundary', infoText); this.shadowSize = lf2.GameMap._parseSizeByKey('shadowsize', infoText); this.shadowUrl = info.get(&quot;shadow&quot;); this.shadow; this._promiseList.push( ResourceManager.loadImage({ url: define.IMG_PATH + this.shadowUrl }).then(r =&gt; { this.shadow = r.response; }) ); this.haveCC = false; this.layers = this._parseLayers(context); this.layers.forEach((layer) =&gt; { this._promiseList.push(layer.done()); }); this.canvas = document.createElement('canvas'); this.canvas.width = Framework.Config.canvasWidth; this.canvas.height = Framework.Config.canvasHeight; this.mapCtx = this.canvas.getContext('2d'); this.widthShow = this.canvas.width; this.lastCameraX = -1; this.cameraX = 0; } /** * done() * * Dones this object. * * @return . */ done() { return Promise.all(this._promiseList); } /** * initialize * * Initializes this object. * * @param world */ initialize(world) { if (!world instanceof lf2.WorldScene) return; this._world = world; this.layers.forEach(l =&gt; l.initialize()); } /** * load() * * Loads this object. * * @return . */ load() { } get isCameraChanged() { return this.haveCC || this.cameraX !== this.lastCameraX; } /** * update() * * Updates this object. * * @return . */ update() { this.cameraX = this._world._getCameraPositionAsPoint().x; this.layers.forEach(l =&gt; l.update()); } /** * draw(ctx) * * Draws the given context. * * * @param {CanvasRenderingContext2D} ctx The context. * * @return . */ draw(ctx) { //Align to bottom /*const Y = Framework.Config.canvasHeight - this.simpleMap.height; ctx.drawImage(this.simpleMap, 0, Y); */ if (this.isCameraChanged) { this.mapCtx.clearRect(0, 0, this.canvas.width, this.canvas.height); this.layers.forEach(l =&gt; l.draw(this.mapCtx)); this.lastCameraX = this.cameraX; } ctx.drawImage(this.canvas, 0, 0, this.canvas.width, this.canvas.height); } /** * * @param {Framework.Point} p * @returns {number} */ getBound(p) { let bound = Bound.NONE; if (p.x &lt; 0) bound |= Bound.LEFT; if (p.x &gt; this.width) bound |= Bound.RIGHT; if (p.y &lt; this.zBoundary.first) bound |= Bound.TOP; if (p.y &gt; this.zBoundary.second) bound |= Bound.BOTTOM; return bound; } /** * * @param {String} context * @private */ _parseLayers(context) { let layersIndex = [], layerContent = []; for ( let index = context.indexOf(LAYER_START_TAG); index !== -1; index = context.indexOf(LAYER_START_TAG, index + 1) ) { layersIndex.push(index); } layersIndex.forEach((i) =&gt; { let str = context.getStringBetween(LAYER_START_TAG, LAYER_END_TAG, i).trim(); let layer = new GameMapLayer(str, this); layerContent.push(layer); if (layer.cc) { this.haveCC = true; } }); return layerContent; } /** * * @param key * @param str * @returns {*} * @private */ static _parseSizeByKey(key, str) { let i = str.indexOf(key); if (i === -1) return null; str = str.substr(i + key.length); let m = str.match(/:\\s+?(\\d+)\\s+(\\d+)/); let x = intval(m[1]); let y = intval(m[2]); return new Point(x, y); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameMapLayer.js.html":{"id":"lf2_objects_GameMapLayer.js.html","title":"Source: lf2/objects/GameMapLayer.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameMapLayer.js &quot;use strict&quot;; var lf2 = (function (lf2) { const ResourceManager = Framework.ResourceManager; const Point = Framework.Point; /** * GameMapLayer * * @class lf2.GameMapLayer * @implements Framework.AttachableInterface */ lf2.GameMapLayer = class GameMapLayer { /** * * @param {String} context * @param {lf2.GameMap} bg */ constructor(context, bg) { this.sourceCode = context; this.imgUrl = context.trim().lines()[0].trim(); this.img = null; this._imgLoader = ResourceManager.loadImage({ url: define.IMG_PATH + this.imgUrl }).then((img) =&gt; { this.img = img.response; return img; }); let info = lf2.Utils.parseDataLine(context); this.transparency = info.get(&quot;transparency&quot;) != '0'; this.width = intval(info.get('width')); this.height = intval(info.get('height')); this.position = new Point( intval(info.get('x') || 0), intval(info.get('y') || 0) ); this.loop = intval(info.get('loop') || 0); this.cc = intval(info.get('cc') || 0); this.c1 = intval(info.get('c1') || 0); this.c2 = intval(info.get('c2') || 0); this.rect = intval(info.get('rect') || -1); if (this.rect === -1) { this.rect = undefined; } else { this.rect = GameMapLayer.GetColorFromRect(this.rect); } this._map = bg; this.radio = -1; this.counter = 0; this.startX = 0; } /** * done() * * Dones this object. * * @return . */ done() { return this._imgLoader; } /** * initialize() * * Initializes this object. * * @return . */ initialize() { this.radio = -1; this.counter = 0; } /** * load() * * Loads this object. * * @return . */ load() { } /** * update() * * Updates this object. * * @return . */ update() { if (!isFinite(this.radio) || this.radio &lt; 0) { this.radio = (this.width - this._map.widthShow) / (this._map.width - this._map.widthShow); } if (this.cc) { this.counter++; if (this.counter &gt;= this.cc) this.counter = 0; } const X = this._map.cameraX; if (!this.rect) { this.startX = ((-X * this.radio) | 0) + this.position.x; } } /** * draw(ctx) * * Draws the given context. * * @param {CanvasRenderingContext2D} ctx The context. * */ draw(ctx) { if (!this.img) { console.warn('Image not loaded'); return; } let canDraw = true; if (this.cc) { if (this.counter &gt; this.c2 || this.counter &lt; this.c1) { canDraw = false; } } if (canDraw) { if (this.rect) { ctx.fillStyle = this.rect; ctx.fillRect(this.position.x, this.position.y, this.width, this.height); } else { let drawX = this.startX; const _w = this.img.width, _h = this.img.height; do { ctx.drawImage( this.img, 0, 0, _w, _h, drawX, this.position.y, _w, _h ); drawX += this.loop; } while (this.loop &amp;&amp; drawX &lt; this._map.widthShow); } } } /** * * @param {String} context * @private */ static _parseLayers(context) { } /** * @param {Number} num * @see http://gjp4860sev.myweb.hinet.net/lf2/page16.htm */ static GetColorFromRect(num) { /** * * @param {Number} n */ const ConvertToByte = (n) =&gt; n.toString(16).padStart(2, '0'); num %= 65536; if (num &lt; 0) num += 65536; let r, g, b; b = ( num % 32 + 1 ) * 8 - 1; g = ( Math.floor(num / 32) * 4 + 7 ) % 256; r = ( ( Math.floor(num / 2048) + 1 ) * 7 + Math.floor(( num + 32 ) / 2048) ) % 256; return '#' + ConvertToByte(r) + ConvertToByte(g) + ConvertToByte(b); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameObject.js.html":{"id":"lf2_objects_GameObject.js.html","title":"Source: lf2/objects/GameObject.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameObject.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * @class {lf2.BmpInfo} */ const BmpInfo = lf2.BmpInfo; const ResourceManager = Framework.ResourceManager; const Effect = lf2.Effect; /** * @class {lf2.Frame} */ const Frame = lf2.Frame; /** * GameObject * * @class lf2.GameObject */ lf2.GameObject = class GameObject { /** * * @param {Object} fileInfo information of file * @param {String} context source code of dat fiel */ constructor(fileInfo, context) { this.fileInfo = fileInfo; this.sourceCode = context; this.id = intval(fileInfo.id); this.bmpInfo = new BmpInfo(context); this.frames = lf2.GameObject._parseFrames(context); this._audio = new Framework.Audio(); } /** * Promise when all image loaded * * @returns {Promise.&lt;*&gt;} */ done() { let arr = [].concat(this.bmpInfo._bmpLoad); return Promise.all(arr); } /** * addPreloadResource(url) * * Adds a preload resource. * * @param url URL of the document. * * @return . */ addPreloadResource(url) { return this.bmpInfo.addPreloadResource(url); } /** * Parse frame block * * @param context * @returns {lf2.Frame[]} * @private */ static _parseFrames(context) { const FRAME_START_TAG = '&lt;frame&gt;'; const FRAME_END_TAG = '&lt;frame_end&gt;'; let framesIndex = [], frameContent = []; for ( let index = context.indexOf(FRAME_START_TAG); index !== -1; index = context.indexOf(FRAME_START_TAG, index + 1) ) { framesIndex.push(index); } framesIndex.forEach((i) =&gt; { let str = context.getStringBetween(FRAME_START_TAG, FRAME_END_TAG, i).trim(); let frame = new Frame(str, this); frameContent[frame.id] = frame; }); return frameContent; } /** * getSoundList() * * Gets sound list. * * @return {Set} The sound list. */ getSoundList() { let soundSet = new Set(); Effect.allSound.forEach(effectSoundPath =&gt; { soundSet.add(effectSoundPath); }); this.frames.forEach(frame =&gt; { if (frame.soundPath !== undefined) { soundSet.add(frame.soundPath); } }); return soundSet; } /** * * @private */ _preLoadSound() { let soundPool = {}; this.getSoundList().forEach(soundPath =&gt; { if (typeof soundPool[soundPath] === 'undefined') { soundPool[soundPath] = soundPath; } }); return this.addPreloadResource( this._audio.addSongs(soundPool) ); } /** * Gets play list. * * @return The play list. */ getPlayList(){ return this._audio.playlist; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameObjectBall.js.html":{"id":"lf2_objects_GameObjectBall.js.html","title":"Source: lf2/objects/GameObjectBall.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameObjectBall.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; const SOUND_KEY = &quot;_hitSoundUrl _dropSoundUrl _brokenSoundUrl&quot;.split(' '); /** * Ball * * @type {GameObjectBall} * @class lf2.GameObjectBall * @extends lf2.GameObject */ lf2.GameObjectBall = class GameObjectBall extends lf2.GameObject { /** * * @param {Object} fileInfo * @param {String} context */ constructor(fileInfo, context) { super(fileInfo, context); const headerData = this.bmpInfo._data; this._hitSoundUrl = headerData.get(&quot;weapon_hit_sound&quot;); this._dropSoundUrl = headerData.get(&quot;weapon_drop_sound&quot;); this._brokenSoundUrl = headerData.get(&quot;weapon_broken_sound&quot;); } /** * Play hit sound */ playHitSound() { this._hitSoundUrl &amp;&amp; this._audio.play(define.MUSIC_PATH + this._hitSoundUrl); } /** * Play drop sound */ playDropSound() { this._dropSoundUrl &amp;&amp; this._audio.play(define.MUSIC_PATH + this._dropSoundUrl); } /** * Play borken sound */ playBrokenSound() { this._brokenSoundUrl &amp;&amp; this._audio.play(define.MUSIC_PATH + this._brokenSoundUrl); } /** * getSoundList() * * Gets sound list. * * @return The sound list. */ getSoundList() { let soundSet = super.getSoundList(); SOUND_KEY.forEach((k) =&gt; { if (this[k]) { soundSet.add(define.MUSIC_PATH + this[k]); } }); return soundSet; } } ; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameObjectCharacter.js.html":{"id":"lf2_objects_GameObjectCharacter.js.html","title":"Source: lf2/objects/GameObjectCharacter.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameObjectCharacter.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; const ResourceManager = Framework.ResourceManager; /** * Ball * * @type {GameObjectCharacter} * @class lf2.GameObjectCharacter * @extends {lf2.GameObject} */ lf2.GameObjectCharacter = class GameObjectCharacter extends lf2.GameObject { /** * * @param {Object} fileInfo * @param {String} context */ constructor(fileInfo, context) { super(fileInfo, context); const headerData = this.bmpInfo._data; this.head; this.small; this.addPreloadResource( ResourceManager.loadResource(define.IMG_PATH + headerData.get('head'), { method: 'GET' }) .then(r =&gt; r.blob()) .then((img) =&gt; { this.head = new Image(); this.head.src = URL.createObjectURL(img); }) ); this.addPreloadResource( ResourceManager.loadResource(define.IMG_PATH + headerData.get('small'), { method: 'GET' }) .then(r =&gt; r.blob()) .then((img) =&gt; { this.small = new Image(); this.small.src = URL.createObjectURL(img); }) ); this.name = headerData.get(&quot;name&quot;) || 0; this.walking_frame_rate = headerData.get(&quot;walking_frame_rate&quot;) || 0; this.walking_speed = headerData.get(&quot;walking_speed&quot;) || 0; this.walking_speedz = headerData.get(&quot;walking_speedz&quot;) || 0; this.running_frame_rate = headerData.get(&quot;running_frame_rate&quot;) || 0; this.running_speed = headerData.get(&quot;running_speed&quot;) || 0; this.running_speedz = headerData.get(&quot;running_speedz&quot;) || 0; this.heavy_walking_speed = headerData.get(&quot;heavy_walking_speed&quot;) || 0; this.heavy_walking_speedz = headerData.get(&quot;heavy_walking_speedz&quot;) || 0; this.heavy_running_speed = headerData.get(&quot;heavy_running_speed&quot;) || 0; this.heavy_running_speedz = headerData.get(&quot;heavy_running_speedz&quot;) || 0; this.jump_height = headerData.get(&quot;jump_height&quot;) || 0; this.jump_distance = headerData.get(&quot;jump_distance&quot;) || 0; this.jump_distancez = headerData.get(&quot;jump_distancez&quot;) || 0; this.dash_height = headerData.get(&quot;dash_height&quot;) || 0; this.dash_distance = headerData.get(&quot;dash_distance&quot;) || 0; this.dash_distancez = headerData.get(&quot;dash_distancez&quot;) || 0; this.rowing_height = headerData.get(&quot;rowing_height&quot;) || 0; this.rowing_distance = headerData.get(&quot;rowing_distance&quot;) || 0; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_objects_GameObjectWeapon.js.html":{"id":"lf2_objects_GameObjectWeapon.js.html","title":"Source: lf2/objects/GameObjectWeapon.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/objects/GameObjectWeapon.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; /** * Ball * * @type {GameObjectWeapon} * @class lf2.GameObjectWeapon * @extends lf2.GameObjectBall */ lf2.GameObjectWeapon = class GameObjectWeapon extends lf2.GameObjectBall { /** * * @param {Object} fileInfo * @param {String} context */ constructor(fileInfo, context) { super(fileInfo, context); const headerData = this.bmpInfo._data; this.hp = intval(headerData.get(&quot;weapon_hp&quot;)); this.hurt = intval(headerData.get(&quot;weapon_hp&quot;)); } } ; return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_HelpLevel.js.html":{"id":"lf2_level_HelpLevel.js.html","title":"Source: lf2/level/HelpLevel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/HelpLevel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Game = Framework.Game; const ResourceManager = Framework.ResourceManager; const KeyBoardManager = Framework.KeyBoardManager; const Prefetch = lf2.Prefetch; const _HELP_CONTAINER_ID = &quot;__help_container&quot;; class SimpleCharInfo { constructor(fInfo, skillList) { this.id = fInfo.id; lf2.LoadingLevel.prototype.Instance .loadDataResource(fInfo.file) .then(txt =&gt; { const arr = txt.lines(); let finishCount = 0; const MAX_J = 2; for (let i = 0; i &lt; arr.length &amp;&amp; finishCount &lt; MAX_J; i++) { let txt = arr[i].trim(); if (txt.startsWith('name:')) { this.name = txt.substr(5).trim(); finishCount++; } else if (txt.startsWith('head:')) { this.headPath = txt.substr(5).trim(); finishCount++; } } if (finishCount &lt; MAX_J) { throw &quot;Parser Error&quot;; } }) .catch(e =&gt; { console.error(e); this.name = &quot;???&quot;; this.headPath = &quot;sprite/template1/face.png&quot;; }) .then(() =&gt; { let st = skillList[this.name]; if (!st) { console.warn(`Skill Table Not Found: ${this.name}`); } else { this.skill = st; } }); } } /** * @class lf2.HelpLevel * @extends Framework.Level * @implements Framework.MouseEventInterface * @implements Framework.KeyboardEventInterface */ lf2.HelpLevel = class extends Framework.Level { constructor() { super(); } /** * load() * * Loads this object. * * @return . */ load() { //載入要被播放的音樂清單 //資料夾內只提供mp3檔案, 其餘的音樂檔案, 請自行轉檔測試 //播放時, 需要給name, 其餘參數可參考W3C this.audio = new Framework.Audio({ ok: define.MUSIC_PATH + 'm_ok.m4a', cancel: define.MUSIC_PATH + 'm_cancel.m4a', }); this.html = ''; this._attached = false; this._helpContainer = undefined; //Load data list Promise.all([ ResourceManager.loadResource(define.DATA_PATH + 'HelpScreen.html', {method: &quot;GET&quot;}) .then(d =&gt; d.text()), Prefetch.get('DATA_LIST'), Prefetch.get('SKILL_LIST') ]).then((dList) =&gt; { this.simInfo = dList[1].object.filter(c =&gt; c.type === 0).map(x =&gt; new SimpleCharInfo(x, dList[2])); this.html = dList[0]; }); } /** * initialize() * * Initializes this object. * * @return . */ initialize() { } /** * update() * * Updates this object. * * @return . */ update() { super.update(); if (!this._attached) { this._forceDraw = true; } } /** * draw(parentCtx) * * Draws the given parent context. * * @param parentCtx Context for the parent. */ draw(parentCtx) { super.draw(parentCtx); if (!this._attached) { this._showHelp(); } } /** * _showHelp() * * Shows the setting menu. * * @return . */ _showHelp() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._helpContainer &amp;&amp; this.simInfo.every(x =&gt; x.name !== undefined)) { $(&quot;#&quot; + _HELP_CONTAINER_ID).remove(); this._helpContainer = $(this.html); this._helpContainer.attr(&quot;id&quot;, _HELP_CONTAINER_ID); //console.log(JSON.stringify(this.simInfo)); this._helpContainer.find(&quot;.btn_ok&quot;).click((e) =&gt; { this._backToMenu(); }); this._helpContainer.find('#help-tab').tabs({ //heightStyle: 'fill' }); let videos = this._helpContainer.find('#tabs-1 video'); videos.each(function () { this.loop = true; this.parentNode.parentNode.video = this; }); videos.parent().parent().on('mouseover', function () { const video = this.video; video.play(); }).on('mouseleave', function () { const video = this.video; video.pause(); video.currentTime = 0; }); let charListEle = this._helpContainer.find(&quot;#char-list&quot;); this.simInfo .filter(x =&gt; x.skill !== undefined) .forEach((c) =&gt; { let ele = $(&quot;&lt;div class='cover-s'&gt;&lt;/div&gt;&quot;), img = new Image(); ele.attr('data-id', c.id).attr('title', c.name).data('c', c); ele.append(img); img.src = define.IMG_PATH + c.headPath; charListEle.append(ele); }); let coverS = charListEle.find('.cover-s'); coverS.click((e) =&gt; { coverS.removeClass('active'); const th = $(e.currentTarget); const c = th.data('c'); th.addClass('active'); let info = this._helpContainer.find(&quot;#char-info&quot;).empty(); let h = $(` &lt;div class=&quot;char-info&quot;&gt; &lt;img src=&quot;${define.IMG_PATH + c.headPath}&quot;/&gt; &lt;div class=&quot;char-name&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;ul class=&quot;char-skill&quot;&gt;&lt;/ul&gt; `); info.append(h); h.find('.char-name').text(c.name); let skillEle = info.find('ul.char-skill'); c.skill.forEach(s =&gt; { let sh = $('&lt;li&gt;&lt;/li&gt;'); sh.attr('skillName', s.skillName); sh.attr('keyHint', s.keyHint); skillEle.append(sh); }); }); $(&quot;body&quot;).append(this._helpContainer); this._attached = true; Game.resizeEvent(); } } /** * Back to menu * * @private */ _backToMenu() { this.audio.play('cancel'); Game.goToLevel('menu'); } /** * click(e) * * Clicks the given e. * * @param e The unknown to process. * * @return . */ click(e) { } /** * event when key down * * @param e * @param list * @param oriE */ keydown(e, list, oriE) { super.keydown(e, list, oriE); if (e.key === 'Esc') { this._backToMenu(); } } /** * autodelete() * * Autodeletes this object. * * @return . */ autodelete() { if (this._helpContainer) { this._helpContainer.find('#help-tab').tabs('destroy'); this._helpContainer.remove(); this._helpContainer = undefined; } } /** * Get skill from word * @param str * @private */ static _getFromWord(str) { let obj = {}, tmpArr = [], tmpName = ''; str.trim().split('\\n').map(x =&gt; x.trim()) .forEach((str) =&gt; { if (!str) return; if (str.match(/^\\D+/)) { if (tmpName) { obj[tmpName] = tmpArr; } tmpName = str; tmpArr = []; } else { str = str.replace(/\\d+\\. /g, ''); let fs = str.indexOf(' '); tmpArr.push({ skillName: str.substr(0, fs), keyHint: str.substr(fs + 1) }) } }); return (JSON.stringify(obj)); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_HorizontalTrackerBehavior.js.html":{"id":"lf2_items_behavior_HorizontalTrackerBehavior.js.html","title":"Source: lf2/items/behavior/HorizontalTrackerBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/HorizontalTrackerBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const FRICTION = GameItem.FRICTION; const Utils = lf2.Utils; /** * HorizontalTrackerBehavior * * @class {lf2.HorizontalTrackerBehavior} * @extends {lf2.CenterTrackerBehavior} */ lf2.HorizontalTrackerBehavior = class HorizontalTrackerBehavior extends lf2.CenterTrackerBehavior{ /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); } /** * Gets the velocity. * * @return {Framework.Point3D} The velocity. */ getVelocity() { let v = super.getVelocity(); v.y = 0; return v; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 2; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.HorizontalTrackerBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_ImageInformation.js.html":{"id":"lf2_frame_ImageInformation.js.html","title":"Source: lf2/frame/ImageInformation.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/ImageInformation.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * 提供圖片資料的儲存功能 * * @class lf2.ImageInformation */ lf2.ImageInformation = class ImageInformation { /** * * @param {lf2.Rectangle} rect * @param {Image|HTMLCanvasElement} imgObj */ constructor(rect, imgObj) { this._img = imgObj; this._rect = rect; } /** * Get Image object * @returns {Image} */ get img() { return this._img; } /** * Get Rect Object * @returns {lf2.Rectangle} */ get rect() { return this._rect; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_Interaction.js.html":{"id":"lf2_frame_Interaction.js.html","title":"Source: lf2/frame/Interaction.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/Interaction.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Utils = lf2.Utils; const Rectangle = lf2.Rectangle; /** * Interaction * 提供Frame攻擊範圍及資訊儲存功能 * ◎itr解說◎ itr: =身體攻擊動作開始 kind: 0=特殊特技 1=捉住暈眩(state:16)的人 2=撿武器 3=強迫抓人 6=敵人靠近按A時是重擊 7=撿武器不影響動作 8=injury數值變成治療多少hp，動作跳至dvx:? 9=打中敵人自己hp歸0(如John的防護罩) 10=henry魔王之樂章效果 11=henry魔王之樂章效果 14=阻擋 15=飛起 16=結冰 10??=被你打到會跳到第???個frame(如人質的kind) x: 40 ,w: 35=攻擊前~後的距離 y: 5 ,h: 45 攻擊上~下的距離 dvx:3 =打中會往後彈後多遠 dvy:-10 =打中會彈多高(負值是向天空，正值是向地面) fall: 70 =倒下的機會 fall: 0 是敵人只動一下 fall: 30 是打兩下敵人就暈 fall: 40 是打一下往後退打第二下就倒地 fall: 60 是打一下暈眩打第二下就倒地 fall: 70 是必定倒地 vrest:15 =同一個frame打到人的中間間隔時間(vrest越小，同一個frame就會打 到越多下)。如Davis的昇龍霸，原本vrest只有10，若改的更低，則 會造成如強化網頁的地獄真升龍的連擊效果。 ※注意：vrest值最低只能是4，更低的話打到人會卡住。 (強化網頁的地獄吸星萬印 arest: (vrest無效)一攻擊到一個人，多久後才能再打一個人 bdefend: 60 =破擋的機會(即打破敵人防禦的機會) bdefend: 60打一次就破擋；同fall，如值是16則16+16+16+16大於60所以值是16 時打敵人4下就破擋。 bdefend: 100則完全擋不住，就算按擋也會讓你直接被打到，連破擋的動作都跳 過。且有防禦效果的人物(如Julian.Knight.Louis)也防不住；道具也 會直接被毀掉(不論道具的HP有多少)。 injury: 40 =殺傷力(即損害敵人hp多少；玩家的hp是預設值的500) 在injury後面加上以下effect會有特效(僅限於kind:0時有作用) effect: 0 拳擊 effect: 1 利器攻擊 effect: 2 著火 effect: 3 結冰 effect: 4 穿過敵人(僅能打中type:1.2.3.4.5.6的物件) effect: 5 (或以上)沒效果，也打不中任何東西 effect: 20 定身火 effect: 21 定身火 effect: 22 定身火 effect: 30 定身冰 effect可以加上負號(有效果但無聲音)。 若要加大攻擊的z軸範圍,只要在effect或injury的後面加上zwidth: ??即可 (沒有effect就是加在injury的後面,若有effect則加在effect的後面) itr_end: =身體攻擊動作結束 &lt;特別說明&gt;大範圍攻擊→ itr: kind: 0 x: -x y: -x w: x h: x dvx: ? dvy: ? fall: ? vrest: ? bdefend: ? injury: ? zwidth: x effect: ? itr_end: x數值越高則範圍越大，?數值是看自己高興填寫的。 * * @class lf2.Interaction */ lf2.Interaction = class Interaction { /** * * @param {String} content */ constructor(content) { this.info = Utils.parseDataLine(content.replace(/\\r?\\n/g, &quot;&quot;)); this.kind = intval(this.info.get('kind') || 0); this.rect = new Rectangle( intval(this.info.get('w')), intval(this.info.get('h')), intval(this.info.get('x')), intval(this.info.get('y')) ); this.zwidth = intval(this.info.get('zwidth') || 12); this.dv = new Point( intval(this.info.get('dvx') || 0), intval(this.info.get('dvy') || 0) ); this.fall = intval(this.info.get('fall') || 20); this.vrest = intval(this.info.get('vrest') || 0); this.arest = intval(this.info.get('arest') || 7); this.hasArest = this.info.get('arest') !== undefined; this.hasVrest = this.info.get('vrest') !== undefined; this.injury = intval(this.info.get('injury') || 0); this.bdefend = intval(this.info.get('bdefend') || 0); this.effect = intval(this.info.get('effect') || 0); this._filterFall(); } /** * Filter fall. * * @return {Number} fall filtered */ _filterFall() { switch (this.fall) { case 70: this.fall = 100; break; case 60: this.fall = 70; break; case 40: this.fall = 50; break; case 30: this.fall = 30; break; } } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_enums_ItrKind.js.html":{"id":"lf2_enums_ItrKind.js.html","title":"Source: lf2/enums/ItrKind.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/enums/ItrKind.js &quot;use strict&quot;; var lf2 = (function (lf2) { let ItrKind; /** * Itr Kind * 定義遊戲內攻擊型態的列舉型別，詳情請參閱原始碼 * * @class lf2.ItrKind * @type {{NORMAL_HIT: number, CATCH: number, PICK_WEAPON: number, CATCH_BDY: number, FALLING: number, WEAPON_STRENGTH: number, SUPER_PUNCH: number, PICK_WEAPON_2: number, HEAL_BALL: number, REFLECTIVE_SHIELD: number, SONATA_OF_DEATH_1: number, SONATA_OF_DEATH_2: number, THREE_D_OBJECTS: number, WHIRLWIND_WIND: number, WHIRLWIND_ICE: number}} */ lf2.ItrKind = ItrKind = { NORMAL_HIT: 0, CATCH: 1, PICK_WEAPON: 2, CATCH_BDY: 3, FALLING: 4, WEAPON_STRENGTH: 5, SUPER_PUNCH: 6, PICK_WEAPON_2: 7, HEAL_BALL: 8, REFLECTIVE_SHIELD: 9, SONATA_OF_DEATH_1: 10, SONATA_OF_DEATH_2: 11, THREE_D_OBJECTS: 14, WHIRLWIND_WIND: 15, WHIRLWIND_ICE: 16, }; ItrKind.ITR_ALLOW_FALL = [ ItrKind.NORMAL_HIT, ItrKind.HEAL_BALL, ItrKind.REFLECTIVE_SHIELD, ItrKind.SONATA_OF_DEATH_1, ItrKind.SONATA_OF_DEATH_2, ]; ItrKind.ITR_ALLOW_FALL.sort((a, b) =&gt; a - b); Object.freeze(ItrKind.ITR_ALLOW_FALL); Object.freeze(lf2.ItrKind); return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_JulianBallBeginBehavior.js.html":{"id":"lf2_items_behavior_JulianBallBeginBehavior.js.html","title":"Source: lf2/items/behavior/JulianBallBeginBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/JulianBallBeginBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const Point3D = Framework.Point3D; /** * JulianBallBeginBehavior * * @class lf2.JulianBallBeginBehavior * @extends lf2.AbstractBehavior */ lf2.JulianBallBeginBehavior = class JulianBallBeginBehavior extends lf2.AbstractBehavior { /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); this._attached = false } /** * * @returns {Framework.Point3D} */ getVelocity() { return new Point3D(0, 0, 0); } /** * Updates this object. * * @return . */ update() { super.update(); if (this._attached) return; let opoint = new lf2.ObjectPoint(`kind: 1 x: 0 y: 5 action: 0 dvx: 15 dvy: 0 oid: 228 facing: 0`); this.belongTo.addBall(opoint, this._ball); this._attached = true; } /** * * @returns {lf2.GameItem} */ getTarget() { return null; } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 13; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.JulianBallBeginBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_JulianBallTrackerBehavior.js.html":{"id":"lf2_items_behavior_JulianBallTrackerBehavior.js.html","title":"Source: lf2/items/behavior/JulianBallTrackerBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/JulianBallTrackerBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const Utils = lf2.Utils; const MIN_SPEED = 10; /** * JulianBallTrackerBehavior * * @class {lf2.JulianBallTrackerBehavior} * @extends lf2.AbstractBehavior */ lf2.JulianBallTrackerBehavior = class JulianBallTrackerBehavior extends lf2.CenterTrackerBehavior{ /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 14; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.JulianBallTrackerBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_KeyboardConfig.js.html":{"id":"lf2_game_KeyboardConfig.js.html","title":"Source: lf2/game/KeyboardConfig.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/KeyboardConfig.js &quot;use strict&quot;; var lf2 = (function (lf2) { /** * define KEY MAP */ const KEY_MAP = { UP: 1, DOWN: 2, LEFT: 4 | 16, RIGHT: 8 | 16, FRONT: 16, ATTACK: 256, JUMP: 512, DEFEND: 1024, KEY_LIST: [&quot;UP&quot;, &quot;DOWN&quot;, &quot;LEFT&quot;, &quot;RIGHT&quot;, &quot;ATTACK&quot;, &quot;JUMP&quot;, &quot;DEFEND&quot;], }; KEY_MAP.REVERT_MAP = {}; for (let k in KEY_MAP) { if (isFinite(KEY_MAP[k])) KEY_MAP.REVERT_MAP[KEY_MAP[k]] = k; } Object.freeze(KEY_MAP.REVERT_MAP); Object.freeze(KEY_MAP); const HIT_KEY = { ja: KEY_MAP.DEFEND | KEY_MAP.JUMP | KEY_MAP.ATTACK, // 防跳攻 Fj: KEY_MAP.DEFEND | KEY_MAP.FRONT | KEY_MAP.JUMP, // 防前跳 Fa: KEY_MAP.DEFEND | KEY_MAP.FRONT | KEY_MAP.ATTACK, // 防前攻 Dj: KEY_MAP.DEFEND | KEY_MAP.DOWN | KEY_MAP.JUMP, // 防下跳 Da: KEY_MAP.DEFEND | KEY_MAP.DOWN | KEY_MAP.ATTACK, // 防下攻 Uj: KEY_MAP.DEFEND | KEY_MAP.UP | KEY_MAP.JUMP, // 防上跳 Ua: KEY_MAP.DEFEND | KEY_MAP.UP | KEY_MAP.ATTACK, // 防上攻 j: KEY_MAP.JUMP, d: KEY_MAP.DEFEND, a: KEY_MAP.ATTACK, _up: KEY_MAP.UP, _down: KEY_MAP.DOWN, _left: KEY_MAP.LEFT, _right: KEY_MAP.RIGHT, _ul: KEY_MAP.UP | KEY_MAP.LEFT, _ur: KEY_MAP.UP | KEY_MAP.RIGHT, _dl: KEY_MAP.DOWN | KEY_MAP.LEFT, _dr: KEY_MAP.DOWN | KEY_MAP.RIGHT, //_front: KEY_MAP.FRONT, HIT_LIST: [ &quot;ja&quot;, &quot;Fj&quot;, &quot;Fa&quot;, &quot;Dj&quot;, &quot;Da&quot;, &quot;Uj&quot;, &quot;Ua&quot;, &quot;j&quot;, &quot;d&quot;, &quot;a&quot;, &quot;_ul&quot;, &quot;_ur&quot;, &quot;_dl&quot;, &quot;_dr&quot;, &quot;_up&quot;, &quot;_down&quot;, &quot;_left&quot;, &quot;_right&quot;, ], }; Object.freeze(HIT_KEY); const DEFAULT_CONFIG = [ { &quot;NAME&quot;: &quot;Player1&quot;, &quot;UP&quot;: 38, &quot;DOWN&quot;: 40, &quot;LEFT&quot;: 37, &quot;RIGHT&quot;: 39, &quot;ATTACK&quot;: 67, &quot;JUMP&quot;: 88, &quot;DEFEND&quot;: 90 }, { &quot;NAME&quot;: &quot;Player2&quot;, &quot;UP&quot;: 104, &quot;DOWN&quot;: 98, &quot;LEFT&quot;: 100, &quot;RIGHT&quot;: 102, &quot;ATTACK&quot;: 187, &quot;JUMP&quot;: 189, &quot;DEFEND&quot;: 48 }, /*{ &quot;NAME&quot;: &quot;Player3&quot;, &quot;UP&quot;: 87, &quot;DOWN&quot;: 83, &quot;LEFT&quot;: 65, &quot;RIGHT&quot;: 68, &quot;ATTACK&quot;: 72, &quot;JUMP&quot;: 71, &quot;DEFEND&quot;: 70 }*/ ]; Object.freeze(DEFAULT_CONFIG); let keyConfig = undefined; /** * Custom class * * @type {KeyboardConfig} * @class lf2.KeyboardConfig */ lf2.KeyboardConfig = class KeyboardConfig { /** * * @param {Number} playerId */ constructor(playerId) { if (playerId &lt; 0 || playerId &gt;= define.PLAYER_COUNT) throw new RangeError(`Player Id (${playerId}) Out of range`); this.playerId = playerId; this.config = lf2.KeyboardConfig.getKeyConfig()[playerId] || {}; this.keyMap = new Map(); //{&quot;NAME&quot;:&quot;Player1&quot;,&quot;UP&quot;:38,&quot;DOWN&quot;:40,&quot;LEFT&quot;:37,&quot;RIGHT&quot;:39,&quot;ATTACK&quot;:68,&quot;JUMP&quot;:83,&quot;DEFEND&quot;:65} KEY_MAP.KEY_LIST.forEach((keyName) =&gt; { this.keyMap.set(this.config[keyName], KEY_MAP[keyName]); }); } /** * Get Key config * @returns {Array} */ static getKeyConfig() { if (keyConfig === undefined) { /** * @type {Array} */ keyConfig = JSON.parse(localStorage.getItem(define.KEYBOARD_CONFIG_KEY)); } if (!keyConfig) keyConfig = DEFAULT_CONFIG; return keyConfig; } static clearConfigCache() { keyConfig = undefined; } }; lf2.KeyboardConfig.prototype.KEY_MAP = lf2.KeyboardConfig.KEY_MAP = KEY_MAP; lf2.KeyboardConfig.prototype.HIT_KEY = lf2.KeyboardConfig.HIT_KEY = HIT_KEY; lf2.KeyboardConfig.prototype.DEFAULT_CONFIG = lf2.KeyboardConfig.DEFAULT_CONFIG = DEFAULT_CONFIG; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_KeyEventPool.js.html":{"id":"lf2_game_KeyEventPool.js.html","title":"Source: lf2/game/KeyEventPool.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/KeyEventPool.js &quot;use strict&quot;; var lf2 = (function (lf2) { const KEY_KEEP_COUNT = 5; /** * KeyEvent Pool * * @class lf2.KeyEventPool */ lf2.KeyEventPool = class KeyEventPool extends Array { /** * * @param {Number} [size] */ constructor(size) { if(!size) size = KEY_KEEP_COUNT; super(size); this._size = size; } /** * Shift one. * * @return . */ _shiftOne() { for (let i = this._size - 2; i &gt;= 0; i--) { this[i + 1] = this[i]; } } /** * Pushes an object onto this stack. * * @param value The value to push. * * @return . */ push(value) { this._shiftOne(); this[0] = value; } }; lf2.KeyEventPool.KEY_KEEP_COUNT = KEY_KEEP_COUNT; return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_LoadingLevel.js.html":{"id":"lf2_level_LoadingLevel.js.html","title":"Source: lf2/level/LoadingLevel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/LoadingLevel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const _CONTAINER_ID = &quot;__loading_container&quot;; /** * @type {Framework.Game} */ const Game = Framework.Game; const Effect = lf2.Effect; const ResourceManager = Framework.ResourceManager; /** * @type {Framework.Level} */ const Level = Framework.Level; /** * @type {Framework.AnimationSprite} */ const AnimationSprite = Framework.AnimationSprite; /** * @type {Framework.Point} */ const Point = Framework.Point; /** * @type {GameObjectPool} */ const GameObjectPool = lf2.GameObjectPool; /** * @type {GameMapPool} */ const GameMapPool = lf2.GameMapPool; /** * @type {GameObject} */ const GameObject = lf2.GameObject; const GameObjectCharacter = lf2.GameObjectCharacter; const GameObjectBall = lf2.GameObjectBall; const GameObjectWeapon = lf2.GameObjectWeapon; const GameMap = lf2.GameMap; const Prefetch = lf2.Prefetch; let LoadingVideoSrc = define.IMG_PATH + 'loading_video.mp4'; let LoadingVideoLoadState = 0; /** * Loading Level * * @type {LoadingLevel} * @class lf2.LoadingLevel */ lf2.LoadingLevel = class LoadingLevel extends Framework.Level { constructor() { super(); if (LoadingLevel.prototype.Instance === undefined) { LoadingLevel.prototype.Instance = this; } else { throw 'Only One instance of Loading Level allowed'; } this.html = &quot;&quot;; this._htmlLoader = ResourceManager.loadResource(define.DATA_PATH + 'LoadingScreen.html', {method: &quot;GET&quot;}).then((data) =&gt; { return data.text(); }).then((html) =&gt; { this.html = html; }); this.zip = {}; } /** * initializeProgressResource() * * Initializes the progress resource. * * @return . */ initializeProgressResource() { super.initializeProgressResource(); this._htmlLoader.then(() =&gt; { this.showLoadingVideo(); }); lf2.LoadingLevel.PreloadLoadingVideo(); } /** * loadingProgress(context, requestInfo) * * Loading progress. * * @param context The context. * @param requestInfo Information describing the request. * * @return . */ loadingProgress(context, requestInfo) { } /** * load() * * Loads this object. * * @return . */ load() { this.allDone = false; this._startLoadingTime = Date.now(); this.promiseList = []; this.objInfo = []; this.bgInfo = []; new Promise((_resolve, _reject) =&gt; { return Promise.all([ Prefetch.get('DATA_LIST'), Prefetch.get('DATA') .then(zip =&gt; this.zip = zip) .catch((e) =&gt; { console.error(&quot;Fail to load zip file&quot;, &quot;fallback to txt file&quot;, e); }) , ]).then(r =&gt; { return r[0]; }).then((data) =&gt; { const objs = data.object, $ = this; console.log('Loading GameObject'); return new Promise((res, rej) =&gt; { let loadObjectRes = function*() { let i = 0; while (i &lt; objs.length) { yield objs[i++]; } return null; }; let loadObjGen = loadObjectRes(); let loadObj = function () { let v = loadObjGen.next(); const _o = v.value; if (_o === null) { res(data); } else { $._showLoadFile(_o.file); $.loadDataResource(_o.file).then((datText) =&gt; { const obj = $.parseObj(_o, datText); if (obj instanceof GameObject) { $.objInfo.push(obj); obj.done().then(() =&gt; { console.log(`&quot;${_o.file}&quot; including images Loaded.`); loadObj(); }); } else { loadObj(); } }); } }; loadObj(); }); }).then((data) =&gt; { console.log(&quot;GameObject all loaded&quot;); return data; }).then((data) =&gt; { const bgs = data.background, $ = this; console.log('Loading GameMap'); return new Promise((res, rej) =&gt; { let loadMapRes = function*() { let i = 0; while (i &lt; bgs.length) { yield bgs[i++]; } return null; }; let loadMapGen = loadMapRes(); let loadMap = function () { let v = loadMapGen.next(); const _o = v.value; if (_o === null) { res(data); } else { $._showLoadFile(_o.file); $.loadDataResource(_o.file).then((datText) =&gt; { const map = $.parseMap(_o, datText); if (map instanceof GameMap) { $.bgInfo.push(map); map.done().then(() =&gt; { console.log(`&quot;${_o.file}&quot; including images Loaded.`); loadMap(); }); } else { loadMap(); } }); } }; loadMap(); }); }).then(_resolve); }).then((data) =&gt; { console.log(&quot;GameMap all loaded&quot;); return data; }).then((a, b) =&gt; { console.log(&quot;Preloading extra image resources&quot;); let arrUrl = [ define.IMG_PATH + &quot;player_status_panel.png&quot;, define.IMG_PATH + &quot;countdown_1.png&quot;, define.IMG_PATH + &quot;countdown_2.png&quot;, define.IMG_PATH + &quot;countdown_3.png&quot;, define.IMG_PATH + &quot;countdown_4.png&quot;, define.IMG_PATH + &quot;countdown_5.png&quot;, define.IMG_PATH + &quot;join_char_1.png&quot;, define.IMG_PATH + &quot;join_char_2.png&quot;, define.IMG_PATH + &quot;selection_panel.png&quot;, define.IMG_PATH + &quot;random_char.png&quot;, ]; let arr = []; arrUrl.forEach(u =&gt; { console.log(&quot;Loading &quot; + u); arr.push( ResourceManager.loadImage({ url: u }) ); }); return Promise.all(arr); }).then((a, b) =&gt; { console.log(&quot;Extra image resources all loaded&quot;); return a; }).then((a, b) =&gt; { console.log(&quot;Preloading extra resources&quot;); let arrUrl = [ define.DATA_PATH + 'SelectionScreen.html', define.DATA_PATH + 'FightScreen.html', ]; let arr = []; arrUrl.forEach(u =&gt; { console.log(&quot;Loading &quot; + u); arr.push(ResourceManager.loadResource(u)); }); return Promise.all(arr); }).then((a, b) =&gt; { console.log(&quot;Extra resources all loaded&quot;); return a; }).then((a, b) =&gt; { console.log(&quot;---------------------------&quot;); console.log(&quot;All object loaded.&quot;); console.log(&quot;---------------------------&quot;); this.allDone = true; }); } /** * Loads data resource. * * @param path Full pathname of the file. * * @return The data resource. */ loadDataResource(path) { path = path.replace(/\\\\/g, '/').replace(/\\/\\//, '/'); const ZipFileEntry = this.zip.files ? this.zip.files[path] : undefined; if (!define.DEBUG &amp;&amp; ZipFileEntry) { return ZipFileEntry.async('text'); } else { return ResourceManager.loadResource(define.DATA_PATH + path).then(r =&gt; r.text()); } } /** * update() * * Updates this object. * * @return . */ update() { if (this.allDone &amp;&amp; (Date.now() - this._startLoadingTime) &gt;= define.LOADING_MIN_TIME) { //TODO: NEED CHANGE Game.goToLevel('selection'); /*Game.goToLevel('fight', { players: [ {charId: intval(prompt(&quot;腳色1 ID:&quot;, &quot;51&quot;) || 51)}, {charId: intval(prompt(&quot;腳色2 ID:&quot;, &quot;7&quot;) || 7)}, ], mapId: intval(prompt(&quot;地圖 ID:&quot;, &quot;3&quot;) || 3), });*/ } } draw(ctx) { super.draw(ctx); } /** * Parse LF2 Object * @param {Object} info * @param {String} content * @returns {GameObject|undefined} */ parseObj(info, content) { let obj = undefined; switch (info.type) { case 0: obj = new GameObjectCharacter(info, content); break; case 1: obj = new GameObjectWeapon(info, content); break; case 3: obj = new GameObjectBall(info, content); break; default: obj = new GameObject(info, content); } GameObjectPool.set(info.id, obj); obj._preLoadSound(); return obj; } /** * Parse LF2 Object * @param {Object} info * @param {String} content * @returns {GameMap|undefined} */ parseMap(info, content) { let map = undefined; map = new GameMap(info, content); GameMapPool.set(info.id, map); /* switch (info.type) { case 0: obj = new Character(info, content); GameObjectPool.set(info.id, obj); break; case 3: obj = new Ball(info, content); GameObjectPool.set(info.id, obj); break; } */ return map; } /** * showLoadingVideo() * * Shows the loading video. * * @return . */ showLoadingVideo() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._loadingContainer) { $(&quot;#&quot; + _CONTAINER_ID).remove(); this._loadingContainer = $(this.html); this._loadingContainer.attr(&quot;id&quot;, _CONTAINER_ID); this._loadingContainer.find(&quot;#loadProcess&quot;).attr('src', lf2.LoadingLevel.LOADING_RESOURCE_SRC); this._loadPath = this._loadingContainer.find(&quot;#loadDatPath&quot;); } if (!this._attached &amp;&amp; this._loadingContainer) { $(&quot;body&quot;).append(this._loadingContainer); this._attached = true; this._startLoadingTime = Date.now(); Game.resizeEvent(); } } /** * autodelete() * * Autodeletes this object. * * @return . */ autodelete() { if (this._loadingContainer) { this._loadingContainer.remove(); this._loadingContainer = undefined; } } /** * _showLoadFile(url) * * Shows the load file. * * @param url URL of the document. * * @return . */ _showLoadFile(url) { const showUrl = url.replace(/\\\\/g, '/'); console.log(`Loading &quot;${showUrl}&quot;.`); this._loadPath.text(&quot;正在讀取: &quot; + showUrl); } /** * * @type {string} */ static get LOADING_RESOURCE_SRC() { return LoadingVideoSrc; } static PreloadLoadingVideo() { if (LoadingVideoLoadState &gt; 0) return; LoadingVideoLoadState = 1; Prefetch.get('LOADING_VIDEO') .then(blobUrl =&gt; { LoadingVideoSrc = blobUrl; LoadingVideoLoadState = 4; }); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_MySettingLevel.js.html":{"id":"lf2_level_MySettingLevel.js.html","title":"Source: lf2/level/MySettingLevel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/MySettingLevel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Game = Framework.Game; const ResourceManager = Framework.ResourceManager; const KeyBoardManager = Framework.KeyBoardManager; const _SETTING_CONTAINER_ID = &quot;__setting_container&quot;; const CUR = &quot;cur&quot;; const setCur = (ele) =&gt; { $(`.${CUR}`).removeClass(CUR); if (ele) { ele.classList.add(CUR); } }; const DISALLOW_KEY = [ 'Esc', 'F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9', 'F10', 'F11', 'F12' ]; for (let i = 0; i &lt; DISALLOW_KEY.length; i++) DISALLOW_KEY[i] = KeyBoardManager.getKeyCodeByString(DISALLOW_KEY[i]); DISALLOW_KEY.sort((a, b) =&gt; a - b); /** * @class lf2.MySettingLevel * @extends Framework.Level * @implements Framework.MouseEventInterface * @implements Framework.KeyboardEventInterface */ lf2.MySettingLevel = class extends Framework.Level { constructor() { super(); } /** * load() * * Loads this object. * * @return . */ load() { //載入要被播放的音樂清單 //資料夾內只提供mp3檔案, 其餘的音樂檔案, 請自行轉檔測試 //播放時, 需要給name, 其餘參數可參考W3C this.audio = new Framework.Audio({ ok: define.MUSIC_PATH + 'm_ok.m4a', cancel: define.MUSIC_PATH + 'm_cancel.m4a', }); this.config = JSON.parse(localStorage.getItem(define.KEYBOARD_CONFIG_KEY)) || JSON.parse(JSON.stringify(lf2.KeyboardConfig.DEFAULT_CONFIG)); //Avoid lock this.html = ''; this.players = []; this._attached = false; this._settingContainer = undefined; //Load Setting view ResourceManager.loadResource(define.DATA_PATH + 'SettingScreen.html', {method: &quot;GET&quot;}).then((data) =&gt; { return data.text(); }).then((html) =&gt; { this.html = html; this.showSettingMenu(); }); } /** * Gets configuration by player identifier. * * @param playerId Identifier for the player. * * @return The configuration by player identifier. */ getConfigByPlayerId(playerId) { let conf = this.config[playerId]; if (!conf) { conf = this.config[playerId] = {}; } return conf; } /** * initialize() * * Initializes this object. * * @return . */ initialize() { } /** * update() * * Updates this object. * * @return . */ update() { super.update(); } /** * draw(parentCtx) * * Draws the given parent context. * * @param parentCtx Context for the parent. * * @return . */ draw(parentCtx) { super.draw(parentCtx); const KEY_CLASS = lf2.KeyboardConfig.prototype.KEY_MAP.KEY_LIST; //refresh key for (let i = 0; i &lt; define.PLAYER_COUNT; i++) { const p = this.players[i], c = this.getConfigByPlayerId(i); if (c === undefined) continue; KEY_CLASS.forEach((k) =&gt; { //Convert Keycode to readable text p.find(&quot;.keys.&quot; + k).text(KeyBoardManager.mappingTable()[c[k]]); }); p.find('.name').val(c['NAME']); } } /** * keydown(e, list, oriE) * * Keydowns. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keydown(e, list, oriE) { super.keydown(e, list, oriE); console.log(oriE.keyCode); let curElement = $(&quot;.cur&quot;); let playerId = curElement.parent().data('player'); if (curElement.length &gt; 0) { const ce = curElement[0]; if (ce.classList.contains('keys')) { let key = curElement.data('key'); if (DISALLOW_KEY.binarySearch(oriE.keyCode) !== -1) { this.getConfigByPlayerId(playerId)[key] = undefined; } else { this.getConfigByPlayerId(playerId)[key] = oriE.keyCode; } setCur(null); } } this.forceDraw(); } /** * showSettingMenu() * * Shows the setting menu. * * @return . */ showSettingMenu() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._settingContainer) { $(&quot;#&quot; + _SETTING_CONTAINER_ID).remove(); this._settingContainer = $(this.html); this._settingContainer.attr(&quot;id&quot;, _SETTING_CONTAINER_ID); this._settingContainer.bind('mousedown', function (e) { setCur(null); }); this._settingContainer.find(&quot;.btn_ok&quot;).click((e) =&gt; { this.audio.play('ok'); this.saveConfig(); Game.popLevelHistory(); // Game.goToLevel('menu'); }); this._settingContainer.find(&quot;.btn_cancel&quot;).click((e) =&gt; { this.audio.play('cancel'); Game.popLevelHistory(); // Game.goToLevel('menu'); }); this.forceDraw(); let playerElement = this._settingContainer.find(&quot;.player:first&quot;); let playerContainer = this._settingContainer.find(&quot;.players&quot;); for (let i = 0; i &lt; define.PLAYER_COUNT; i++) { this.players[i] = playerElement.clone(); this.players[i].attr('data-player', i); this.bindPlayerEvent(this.players[i]); playerContainer.append(this.players[i]); } playerElement.remove(); $(&quot;body&quot;).append(this._settingContainer); this._attached = true; Game.resizeEvent(); } } /** * bindPlayerEvent(playerElement) * * Bind player event. * * @param playerElement The player element. * * @return . */ bindPlayerEvent(playerElement) { const _this = this; playerElement.find(&quot;.name&quot;).bind('keydown', function (e) { e.stopImmediatePropagation(); }).bind('mousedown', function (e) { setCur(e.target); e.stopImmediatePropagation(); }).bind('keyup', function (e) { let playerId = $(this.parentNode).data('player'); _this.getConfigByPlayerId(playerId)['NAME'] = this.value; }); playerElement.find(&quot;.keys&quot;).bind('mousedown', function (e) { setCur(e.target); e.stopImmediatePropagation(); }); } /** * click(e) * * Clicks the given e. * * @param e The unknown to process. * * @return . */ click(e) { } /** * autodelete() * * Autodeletes this object. * * @return . */ autodelete() { if (this._settingContainer) { this._settingContainer.remove(); this._settingContainer = undefined; } } /** * Store config into local storage */ saveConfig() { localStorage.setItem(define.KEYBOARD_CONFIG_KEY, JSON.stringify(this.config)); lf2.KeyboardConfig.clearConfigCache(); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_frame_ObjectPoint.js.html":{"id":"lf2_frame_ObjectPoint.js.html","title":"Source: lf2/frame/ObjectPoint.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/frame/ObjectPoint.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Utils = lf2.Utils; /** * Object point * 提供Frame新增氣功波的資訊儲存功能 * ◎opoint解說◎ 若要在某個動作加入發出氣功波類型的絕技，只要在frame裏加入以下即可： opoint: kind: ? x: ? y: ? action: ? dvx: ? dvy: ? oid: ? facing: ? opoint_end: opoint: objectpoint開始 kind: 1=發出氣功波 x:發出的氣功的前後位置 y:發出的氣功的天地位置 action: 招式的第幾個frame dvx:向前後飛行的速度 dvy:向天地飛行的速度 oid:氣功波的id(請參考data/data_list.json) facing:數量及正反 (如數量是1個,正向→facing: 0；2個,正向→facing:20 ； 1個,反向→facing:1 ； 2個,反向→facing: 21) 前面數字是數量，數量若為1則不須填，但2以上就須填了；後面數字為正反向， 偶數是正向，奇數是反向。 opoint_end: objectpoint結束 * * @class lf2.ObjectPoint */ lf2.ObjectPoint = class ObjectPoint { /** * * @param {String} content */ constructor(content) { this.info = Utils.parseDataLine(content.replace(/\\r?\\n/g, &quot;&quot;)); this.kind = intval(this.info.get('kind') || 1); this.appearPoint = new Point( intval(this.info.get('x') || 0), intval(this.info.get('y') || 0) ); this.action = intval(this.info.get('action')); this.dv = new Point( intval(this.info.get('dvx') || 0), intval(this.info.get('dvy') || 0) ); this.objectId = intval(this.info.get('oid') || 0); this.facing = intval(this.info.get('facing') || 0); this.count = (this.facing / 10) | 0; this.dir = this.facing % 2 === 0 ? lf2.GameItem.DIRECTION.RIGHT : lf2.GameItem.DIRECTION.LEFT; if (this.count &lt;= 0) { this.count = 1; } } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_player_Player.js.html":{"id":"lf2_player_Player.js.html","title":"Source: lf2/player/Player.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/player/Player.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; const GameObject = lf2.GameObject; const GameItem = lf2.GameItem; const Team = lf2.Team; const GameObjectPool = lf2.GameObjectPool; const PlayerStatusPanel = lf2.PlayerStatusPanel; const KeyboardConfig = lf2.KeyboardConfig; const Bound = lf2.Bound; const KeyEventPool = lf2.KeyEventPool; const KeyBoardManager = Framework.KeyBoardManager; const Character = lf2.Character; const Ball = lf2.Ball; const Weapon = lf2.Weapon; const DIRECTION = lf2.GameItem.DIRECTION; const DEFAULT_HP = 500; const DEFAULT_MP = 500; const CLEAR_KEY_TIME = 200; //Less than 200 make be make stop run direction wrong const NAME_OFFSET = 0; const NAME_CACHE_WIDTH = 200; const NAME_CACHE_HEIGHT = 20; /** * Player * * @class lf2.Player * @implements Framework.AttachableInterface */ lf2.Player = class Player { /** * * @param {Number} playerId * @param {Number|undefined} [charId] * @param {Number|undefined} [teamId] */ constructor(playerId, charId, teamId) { console.log('Create player', playerId, charId); this.playerId = playerId; this.charId = charId; this.status = new PlayerStatusPanel(this); this.keyboardConfig = new KeyboardConfig(playerId); this.keyEventPool = new KeyEventPool(); this.name = this.keyboardConfig.NAME; this._currentKey = 0; this.mpCost = 0; this.hpLost = 0; this.attackSum = 0; if (this.charId !== undefined) { teamId = teamId || 0; teamId *= 1; /** * * @type {lf2.Character} */ this.character = new Character(charId, this); this.hp = DEFAULT_HP; this.mp = DEFAULT_MP; this._godMode = false; this._infMp = false; this._playerNameCache = undefined; /** * @type {Framework.Scene} */ this.spriteParent = null; this._upKeyTimer = false; this.team = (teamId); } } /** * * @param {KeyboardEvent} oriE * @returns {boolean} return true if key fired */ keydown(oriE) { const funcCode = this._parseKeyDownCode(oriE); const NOW = Date.now(); if (funcCode !== 0) { let addObj = { lf2Key: funcCode, event: oriE, time: NOW, }; if (this.allowCombineKey) { this.keyEventPool.push(addObj); } else { this.keyEventPool[0] = addObj; } } else { return false; } this._updateCurrentKey(NOW); if (this.character) { if (!this.character.world._allowUpdate) return false; const funcKeyWoArrow = this._currentKey &amp; ~((KeyboardConfig.KEY_MAP.LEFT | KeyboardConfig.KEY_MAP.RIGHT) &amp; ~KeyboardConfig.KEY_MAP.FRONT); const hitList = this.character.currentFrame.hit; //Same func key twice let first = this.keyEventPool[0] !== undefined ? this.keyEventPool[0].lf2Key : undefined; let second = this.keyEventPool[1] !== undefined ? this.keyEventPool[1].lf2Key : undefined; if ( this.allowCombineKey &amp;&amp; second !== undefined &amp;&amp; first === second ) { if ((first &amp; KeyboardConfig.KEY_MAP.FRONT) === KeyboardConfig.KEY_MAP.FRONT) { this.character.startRun(); define.DEBUG &amp;&amp; console.log('start run'); } } const hitFid = hitList[funcKeyWoArrow], cFrame = this.character.obj.frames[hitFid]; if (hitFid &amp;&amp; cFrame &amp;&amp; this.requestMp(cFrame.mp)) { if ((this._currentKey &amp; KeyboardConfig.KEY_MAP.LEFT) === KeyboardConfig.KEY_MAP.LEFT) { this.character.setNextDirection(DIRECTION.LEFT); } else if ((this._currentKey &amp; KeyboardConfig.KEY_MAP.RIGHT) === KeyboardConfig.KEY_MAP.RIGHT) { this.character.setNextDirection(DIRECTION.RIGHT); } this.character.setNextFrame(hitFid); } } return true; } /** * * @param e * @param list * @param {KeyboardEvent} oriE */ keyup(e, list, oriE) { //console.log(list); return; const funcCode = this._parseKeyDownCode(oriE); const upKey = this._getFuncKeyCodeByEvent(oriE); this._currentKey = funcCode; if (this.character) { this.character.setUpKey(upKey); this.character.setFuncKey(funcCode); if (this._upKeyTimer) { clearTimeout(this._upKeyTimer); } this._upKeyTimer = setTimeout(() =&gt; { this.character._upKey = -1; }, CLEAR_KEY_TIME); } } /** * * @param {*} teamId */ set team(teamId) { this._team = Team.GetTeamInstance(teamId); this._playerNameCache = undefined; } /** * * @returns {lf2.Team} */ get team() { return this._team; } /** * Parse key down code, {&quot;ja&quot;, &quot;Fj&quot;, &quot;Fa&quot;, &quot;Dj&quot;, &quot;Da&quot;, &quot;Uj&quot;, &quot;Ua&quot;, * &quot;j&quot;, &quot;d&quot;, &quot;a&quot;, * &quot;_up&quot;, &quot;_down&quot;, &quot;_left&quot;, &quot;_right&quot;} * * @param {KeyboardEvent} e * @returns {Number} return hit key code * @private */ _parseKeyDownCode(e) { return this.keyboardConfig.keyMap.get(e.keyCode) || 0; /*for (let i = 0, j = KeyboardConfig.KEY_MAP.KEY_LIST.length; i &lt; j /!*&amp;&amp; currentKey=== 0*!/; i++) { const k = KeyboardConfig.KEY_MAP.KEY_LIST[i]; if (e.keyCode === KEY_CONFIG[k]) currentKey |= KeyboardConfig.KEY_MAP[k]; } let hitFuncCode = this._parseHitKey(currentKey); return hitFuncCode;*/ } /** * * @param {Number} currentKey * @returns {number} * @private */ _parseHitKey(currentKey) { let hitFuncCode = 0; for ( let o = KeyboardConfig.HIT_KEY.HIT_LIST, i = 0, j = o.length; i &lt; j &amp;&amp; hitFuncCode === 0; i++ ) { let hit = o[i]; if ((currentKey &amp; KeyboardConfig.HIT_KEY[hit]) === KeyboardConfig.HIT_KEY[hit]) { hitFuncCode = KeyboardConfig.HIT_KEY[hit]; break; } } //keep arrow key hitFuncCode |= currentKey &amp; (KeyboardConfig.KEY_MAP.LEFT | KeyboardConfig.KEY_MAP.RIGHT); return hitFuncCode; } /** * * * @param {KeyboardEvent} e * @private */ _getFuncKeyCodeByEvent(e) { const KEY_CONFIG = this.keyboardConfig.config; let currentKey = 0; KeyboardConfig.KEY_MAP.KEY_LIST.forEach((k) =&gt; { if (e.keyCode === KEY_CONFIG[k]) currentKey |= KeyboardConfig.KEY_MAP[k]; }); return this._parseHitKey(currentKey); } /** * * @param {Number} NOW current time * @returns {number} * @private */ _updateCurrentKey(NOW) { let cmd = 0; for (let i = KeyEventPool.KEY_KEEP_COUNT; i &gt;= 1 &amp;&amp; cmd === 0; i--) { let num = 0; for (let j = 0; j &lt; i; j++) { if (this.keyEventPool[j] === undefined) break; //Clean up key list if (NOW - this.keyEventPool[j].time &gt; CLEAR_KEY_TIME) { //keep last key if (j !== 0) this.keyEventPool[j] = undefined; continue; } num |= this.keyEventPool[j].lf2Key; } cmd = this._parseHitKey(num); } this._currentKey = cmd; return cmd; } /** * Loads this object. * * @return . */ load() { } /** * Update * * @override */ update() { const NOW = Date.now(); this._updateCurrentKey(NOW); //this.character.update(); } /** * Draw player with camera offset * * @param {CanvasRenderingContext2D} ctx * @override */ draw(ctx) { if (!this.character) return; if (this.character._allowDraw) { const NameImage = this.getPlayerNameImage(); ctx.drawImage( NameImage, 0, 0, NAME_CACHE_WIDTH, NAME_CACHE_HEIGHT, this.character.position.x - (NAME_CACHE_WIDTH &gt;&gt; 1), this.character.position.y, NAME_CACHE_WIDTH, NAME_CACHE_HEIGHT ); } } getPlayerNameImage() { if (this._playerNameCache) return this._playerNameCache; this._playerNameCache = document.createElement('canvas'); this._playerNameCache.width = NAME_CACHE_WIDTH; this._playerNameCache.height = NAME_CACHE_HEIGHT; let ctx = this._playerNameCache.getContext('2d'); const Pos = { x: NAME_CACHE_WIDTH &gt;&gt; 1, y: NAME_OFFSET, }; ctx.font = &quot;12px 'Microsoft YaHei'&quot;; ctx.fillStyle = this.team.getColor(); ctx.strokeStyle = this.team.getDarkColor(); ctx.lineWidth = 2; ctx.textAlign = &quot;center&quot;; ctx.textBaseline = &quot;top&quot;; ctx.strokeText( this.keyboardConfig.config.NAME, Pos.x, Pos.y ); ctx.fillText( this.keyboardConfig.config.NAME, Pos.x, Pos.y ); return this._playerNameCache; } /** * Add hp * @param num */ addHp(num) { const newHP = Utils.returnInRangeValue(this.hp + num, 0, DEFAULT_HP); if (num &lt; 0) { this.hpLost += -num; } this.hp = newHP; } /** * Add mp * @param num */ addMp(num) { const newMP = Utils.returnInRangeValue(this.mp + num, 0, DEFAULT_MP); if (num &lt; 0) { this.mpCost += -num; } this.mp = newMP; } /** * Cost mp if possible, if impossible return false * * @param {Number} num * @returns {boolean} return true if mp is enough */ requestMp(num) { const MP_COST_MAGIC_NUMBER = 1000; if (define.INF_MP || this._infMp || num === 0) return true; let sign = Math.sign(num); num = Math.abs(num); let mpCost = sign * (num % MP_COST_MAGIC_NUMBER); let hpCost = sign * ((num / MP_COST_MAGIC_NUMBER * 10) | 0); if (this.mp &gt;= mpCost &amp;&amp; this.hp &gt;= hpCost) { this.addMp(-mpCost); this.addHp(-hpCost); return true; } return false; } /** * check is key pressed * * @param {Number} keyCode * @returns {boolean} */ isKeyPressed(keyCode) { return (this._currentKey &amp; keyCode) === keyCode; } /** * Hurt player and decrease hp * * @param {Number} num * @returns {boolean} */ hurtPlayer(num) { if (this._godMode || num === 0) return true; num = intval(num); this.addHp(-num); return true; } /** * * @param {Boolean} val */ setGodMode(val) { this._godMode = val; } /** * * @param {Number} amount */ addAttackCount(amount) { this.attackSum += amount; } /** * * @param {boolean} flag */ setInfMp(flag) { this._infMp = flag; } /** * * @param {lf2.ObjectPoint} opoint * @param {lf2.GameItem} caller who added the ball */ addBall(opoint, caller) { if (!(caller instanceof lf2.GameItem)) throw TypeError('caller is not an instance of lf2.GameItem'); /** * * @type {lf2.Ball[]} */ let ballArr = []; for (let i = 0; i &lt; opoint.count; i++) { const obj = GameObjectPool.get(opoint.objectId); if (!obj) { console.error(`Object id :${opoint.objectId} Not found`); continue; } let addBall = null; switch (obj.fileInfo.type) { case 0: addBall = new Character(opoint.objectId, this); console.warn('Summon of character not implement.'); break; case 1: addBall = new Weapon(opoint.objectId, this); break; default: addBall = new Ball(opoint.objectId, this); } if (addBall !== null) { ballArr.push(addBall); } } const R = opoint.appearPoint.x; const DEG = 45; const RAD = Math.toRad(DEG); const DIFF = RAD / ballArr.length; const START_RAD = -(RAD / 2); const getOp = (i) =&gt; { if (ballArr.length === 1) { return {x: opoint.appearPoint.x, y: caller.position.y}; } const RAD = START_RAD + i * DIFF; return { x: R * Math.cos(RAD), y: R * Math.sin(RAD) + caller.position.y } }; ballArr.forEach((ball, i) =&gt; { //Set frame id ball.setFrameById(opoint.action); //Set direction if (opoint.dir !== DIRECTION.RIGHT) { ball._direction = !caller._direction; } else { ball._direction = caller._direction; } const DIR_WEIGHT = caller._direction === DIRECTION.RIGHT ? 1 : -1; let zPos = caller.position.z - caller.currentFrame.center.y + opoint.appearPoint.y; let op = getOp(i); ball.position = new Framework.Point3D( caller.position.x - DIR_WEIGHT * (caller.currentFrame.center.x - op.x), // 前後 op.y, //Y 不變 zPos ); if (ball._getVelocity().isZero &amp;&amp; !opoint.dv.isZero) { ball._velocity.x = opoint.dv.x; ball._velocity.y = opoint.dv.y; } this.spriteParent.addNewItem(ball); }); return ballArr; } /** * * @param {Number} key lf2 key code * @returns {boolean} */ containsKey(key) { const keyName = this.keyboardConfig.KEY_MAP.REVERT_MAP[key]; const keyCode = this.keyboardConfig.config[keyName]; return KeyBoardManager.isKeyDown(keyCode); } /** * Is holding last key. * * @return . */ _isHoldingLastKey() { if (this.keyEventPool[0] === undefined) return false; return KeyBoardManager.isKeyDown(this.keyEventPool[0].event.keyCode); } /** * * @returns {boolean} */ get isObjectChanged() { return true; } get allowCombineKey() { return !!this.character; } /** * * @returns {boolean} */ get isAlive() { return this.hp &gt; 0; } }; lf2.Player.prototype.DEFAULT_HP = DEFAULT_HP; lf2.Player.prototype.DEFAULT_MP = DEFAULT_MP; return lf2; })(lf2 || {}); × Search results Close "},"lf2_player_PlayerStatusPanel.js.html":{"id":"lf2_player_PlayerStatusPanel.js.html","title":"Source: lf2/player/PlayerStatusPanel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/player/PlayerStatusPanel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Sprite = Framework.Sprite; const Point = Framework.Point; const PANEL_SIZE = new Point(198, 53); const PANEL_PER_ROW_COUNT = Math.floor(Framework.Config.canvasWidth / PANEL_SIZE.x); const PANEL_COL_COUNT = 2; const ColorBar = lf2.ColorBar; const Utils = lf2.Utils; const HP_COLOR = &quot;#ff0000&quot;; const HP_DARK_COLOR = &quot;#6f081f&quot;; const MP_COLOR = &quot;#0000ff&quot;; const MP_DARK_COLOR = &quot;#1f086f&quot;; const SMALL_POSITION = new Point(7, 4); const BAR_SIZE = new Point(124, 10); const HP_POSITION = new Point(57, 15); const MP_POSITION = new Point(57, 35); const getEleTransformX = (val) =&gt; { return &quot;translateX(&quot; + (val - 100) + &quot;%)&quot;; }; /** * Player HP Panel * * @type {PlayerStatusPanel} * @class lf2.PlayerStatusPanel * @implements Framework.AttachableInterface */ lf2.PlayerStatusPanel = class PlayerStatusPanel { /** * * @param {lf2.Player} player */ constructor(player) { this._player = player; const playerIndex = this._player.playerId; const _ROW = (playerIndex / PANEL_PER_ROW_COUNT) | 0; const _COL = (playerIndex % PANEL_PER_ROW_COUNT); this.panelPosition = new Point( _COL * PANEL_SIZE.x, _ROW * PANEL_SIZE.y ); //this._realHPPosition = this.getRealPosition(HP_POSITION); //this._realMPPosition = this.getRealPosition(MP_POSITION); //this._darkHPBar = new ColorBar(HP_DARK_COLOR, BAR_SIZE.x, BAR_SIZE.y); //this._darkHPBar.position = this._realHPPosition; //this._darkMPBar = new ColorBar(MP_DARK_COLOR, BAR_SIZE.x, BAR_SIZE.y); //this._darkMPBar.position = this._realMPPosition; //this._hpBar = new ColorBar(HP_COLOR, BAR_SIZE.x, BAR_SIZE.y); //this._hpBar.position = this._realHPPosition; this._hpRatio = 1; //this._mpBar = new ColorBar(MP_COLOR, BAR_SIZE.x, BAR_SIZE.y); //this._mpBar.position = this._realMPPosition; this._mpRatio = 1; this._elem = undefined; this._lastTeam = undefined; } /** * Sets an element. * * @param elem The element. * * @return . */ setElem(elem) { if (elem &amp;&amp; elem.hp &amp;&amp; elem.mp &amp;&amp; elem.small) { this._elem = elem; elem.setAttribute('attached', '1'); this._flagIcon = elem.flag; this._hpValueBar = elem.hp.querySelector('.value'); this._mpValueBar = elem.mp.querySelector('.value'); } } /** * load() * * Loads this object. * * @return . */ load() { } /** * update() * * Updates this object. * * @return . */ update() { this._hpRatio = this._player.hp / lf2.Player.prototype.DEFAULT_HP; this._mpRatio = this._player.mp / lf2.Player.prototype.DEFAULT_HP; this._hpRatio = (Utils.returnInRangeValue(this._hpRatio, 0, 1) * 100) | 0; this._mpRatio = (Utils.returnInRangeValue(this._mpRatio, 0, 1) * 100) | 0; //this._hpBar.width = BAR_SIZE.x * this._hpRatio; //this._mpBar.width = BAR_SIZE.x * this._mpRatio; } /** * * @param {CanvasRenderingContext2D} ctx */ draw(ctx) { if (this._elem) { const elem = this._elem; if (elem.small.src !== this._player.character.small.src) { elem.small.src = this._player.character.small.src; } if (this._lastTeam !== this._player.team) { this._elem.setAttribute('data-team', this._player.team.id); this._elem.setAttribute('data-team-str', this._player.team); this._flagIcon.style.color = this._player.team.getColor(); this._lastTeam = this._player.team; } this._hpValueBar.style.transform = getEleTransformX(this._hpRatio); this._mpValueBar.style.transform = getEleTransformX(this._mpRatio); } // //Draw small people // ctx.drawImage( // this._player.character.small, // SMALL_POSITION.x + this.panelPosition.x, // SMALL_POSITION.y + this.panelPosition.y // ); // // //Draw dark hp and mp bar // this._darkHPBar.draw(ctx); // this._darkMPBar.draw(ctx); // // //Draw hp and mp bar // this._hpBar.draw(ctx); // this._mpBar.draw(ctx); } /** * Gets real position. * * @param {Framework.Point} point The point. * * @return {Framework.Point} The real position. */ getRealPosition(point) { let x = point.x + this.panelPosition.x; let y = point.y + this.panelPosition.y; return new Point(x, y); } /** * Hp radio. * * @return {Number} A get. */ get HPRadio() { return this._hpRatio; } /** * Mp radio. * * @return {Number} A get. */ get MPRadio() { return this._mpRatio; } }; lf2.PlayerStatusPanel.prototype.PANEL_SIZE = lf2.PlayerStatusPanel.PANEL_SIZE = PANEL_SIZE; lf2.PlayerStatusPanel.prototype.PANEL_PER_ROW_COUNT = lf2.PlayerStatusPanel.PANEL_PER_ROW_COUNT = PANEL_PER_ROW_COUNT; lf2.PlayerStatusPanel.prototype.PANEL_COL_COUNT = lf2.PlayerStatusPanel.PANEL_COL_COUNT = PANEL_COL_COUNT; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_Prefetch.js.html":{"id":"lf2_game_Prefetch.js.html","title":"Source: lf2/game/Prefetch.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/Prefetch.js &quot;use strict&quot;; var lf2 = (function (lf2) { const ResourceManager = Framework.ResourceManager; /** * Prefetch * * @class Prefetch */ class Prefetch { /** Default constructor. */ constructor() { this._fetch = {}; } /** * Starts preload resources * * @return . */ start() { this._fetch = { LOADING_VIDEO: ResourceManager.loadResourceAsBlob(lf2.LoadingLevel.LOADING_RESOURCE_SRC), DATA_LIST: ResourceManager.loadResource(define.DATA_PATH + &quot;data_list.json&quot;) .then(d=&gt;d.json()), SKILL_LIST: ResourceManager.loadResource(define.DATA_PATH + &quot;skill.json&quot;) .then(d=&gt;d.json()), DATA: ResourceManager.loadResource(define.ZIP_PATH + 'data.zip') .then(r =&gt; r.blob()) .then(JSZip.loadAsync), RESOURCES: ResourceManager.loadResource(define.ZIP_PATH + 'resources.zip') .then(r =&gt; r.blob()) .then(JSZip.loadAsync) }; ResourceManager.loadZip(); } /** * Gets an Promise using the given key. * * @param {String} key The key to get. * * @return {Promise} */ get(key) { return this._fetch[key]; } } ; /** * * @type {Prefetch} */ lf2.Prefetch = new Prefetch(); return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_Rectangle.js.html":{"id":"lf2_game_Rectangle.js.html","title":"Source: lf2/game/Rectangle.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/Rectangle.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; /** * Rectangle * * @type {Rectangle} * @class lf2.Rectangle */ lf2.Rectangle = class Rectangle { /** * * @param {Number|lf2.Rectangle} widthOrRect * @param {Number} [height] * @param {Number} [px] * @param {Number} [py] */ constructor(widthOrRect, height, px, py) { //Copy constructor if (widthOrRect instanceof lf2.Rectangle) { this.width = widthOrRect.width; this.height = widthOrRect.height; this.position = new Point(widthOrRect.position.x, widthOrRect.position.y); } else { if (py === undefined) throw SyntaxError('Arguments missing'); this.width = intval(widthOrRect); this.height = intval(height); this.position = new Point(px, py); } } /** * get area * * @returns {number} */ get area() { return this.width * this.height; } /** * * @param {CanvasRenderingContext2D} ctx * @param {Number} [z] */ draw(ctx, z) { if (z === undefined) z = 0; ctx.strokeRect( this.position.x, this.position.y + z, this.width, this.height ); } /** * * @param {lf2.Rectangle} rect * @returns {boolean} */ isIntersect(rect) { return this.position.x &lt; rect.position.x + rect.width &amp;&amp; this.position.x + this.width &gt; rect.position.x &amp;&amp; this.position.y &lt; rect.position.y + rect.height &amp;&amp; this.height + this.position.y &gt; rect.position.y; } /** * * @param {lf2.Rectangle} rect1 * @param {lf2.Rectangle} rect2 * @returns {lf2.Rectangle} */ static merge(rect1, rect2) { if (rect1 === null &amp;&amp; rect2 === null) { return null; } if (rect1 === null) { return lf2.Rectangle.merge(rect2, rect1); } if (rect2 === null) { return new lf2.Rectangle(rect1); } const x1 = Math.min(rect1.position.x, rect2.position.x), y1 = Math.min(rect1.position.y, rect2.position.y), x2 = Math.max(rect1.position.x + rect1.width, rect2.position.x + rect2.width), y2 = Math.max(rect1.position.y + rect1.height, rect2.position.y + rect2.height); return new lf2.Rectangle( x2 - x1, y2 - y1, x1, y1 ); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_level_SelectionLevel.js.html":{"id":"lf2_level_SelectionLevel.js.html","title":"Source: lf2/level/SelectionLevel.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/level/SelectionLevel.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Game = Framework.Game; const ResourceManager = Framework.ResourceManager; const KeyBoardManager = Framework.KeyBoardManager; const KeyboardConfig = lf2.KeyboardConfig; const GameObjectPool = lf2.GameObjectPool; const GameMapPool = lf2.GameMapPool; const Team = lf2.Team; const _SELECTION_CONTAINER_ID = &quot;__selection_container&quot;; const PLAYER_TAG = 'data-player'; const STAGE_TAG = 'data-select-stage'; const CHAR_TAG = 'data-char'; const TEAM_TAG = 'data-team'; const COUNTING_DOWN_CLASS = 'counting-down'; const REMINING_TIME_TAG = 'data-rt'; const Player = lf2.Player; const START_GAME_MIN_PLAYER_COUNT = 2; const SELECTION_STAGE = { WAIT_JOIN: 0, SELECT_CHARACTER: 1, SELECT_TEAM: 2, SELECT_DONE: 3, ENTERING: 4, }; const RANDOM_ID = -1; const RAND_CHAR_ID_MIN = 1; const RAND_CHAR_ID_MAX = 24; const FREE_CHAR_MIN = -1; const FREE_CHAR_MAX = RAND_CHAR_ID_MAX; /** * * @param {Number} currentIndex * @param {Number} maxLen * @param {Number} offset * @returns {Number} */ const setOffsetIndex = (currentIndex, maxLen, offset) =&gt; { if (offset === 0) return currentIndex; return (currentIndex + maxLen + offset) % maxLen; }; const countDonePlayer = (previousValue, curPlayer) =&gt; { return previousValue + (curPlayer._selectStage === SELECTION_STAGE.SELECT_DONE ? 1 : 0); }; const countNonDonePlayer = (previousValue, curPlayer) =&gt; { const ss = curPlayer._selectStage; return previousValue + (ss !== SELECTION_STAGE.SELECT_DONE &amp;&amp; ss !== SELECTION_STAGE.WAIT_JOIN ? 1 : 0); }; /** * @class lf2.SelectionLevel * @extends Framework.Level * @implements Framework.KeyboardEventInterface */ lf2.SelectionLevel = class extends Framework.Level { constructor() { super(); this.html = ''; //Load Selection view this._htmlLoader = ResourceManager.loadResource(define.DATA_PATH + 'SelectionScreen.html', {method: &quot;GET&quot;}).then((data) =&gt; { return data.text(); }).then((html) =&gt; { this.html = html; }); this._cheatMusicPlayed = false; } load() { //載入要被播放的音樂清單 //資料夾內只提供mp3檔案, 其餘的音樂檔案, 請自行轉檔測試 //播放時, 需要給name, 其餘參數可參考W3C this.audio = new Framework.Audio({ ok: define.MUSIC_PATH + 'm_ok.m4a', join: define.MUSIC_PATH + 'm_join.m4a', cancel: define.MUSIC_PATH + 'm_cancel.m4a', }); this._chectAudio = new Framework.Audio({ pass: define.MUSIC_PATH + 'm_pass.m4a', }); this.players = []; this.playersEle = []; for (let playerId = 0; playerId &lt; define.PLAYER_COUNT; playerId++) { const p = new Player(playerId); p.setSelectStage = function (val) { val |= 0; this._selectStage = val; if (this.elem) this.elem.attr(STAGE_TAG, this._selectStage); }; p.setSelectStage(SELECTION_STAGE.WAIT_JOIN); p._charIndex = 0; p._teamId = 0; this.players[playerId] = p; } this._attached = false; this._selectionContainer = undefined; this._htmlLoader.then(() =&gt; { this.showSelectionPanel(); }); this._charIdArray = [RANDOM_ID]; this._teamInsArray = new Array(define.TEAM_COUNT + 1); this._mapIdArray = [RANDOM_ID]; this._mapIndex = 0; GameObjectPool.forEach(obj =&gt; { if (obj instanceof lf2.GameObjectCharacter) { this._charIdArray.push(obj.id); } }); GameMapPool.forEach(obj =&gt; { if (obj instanceof lf2.GameMap) { this._mapIdArray.push(obj.id); } }); for (let i = 0; i &lt;= define.TEAM_COUNT; i++) { this._teamInsArray[i] = Team.GetTeamInstance(i); } this._isEnteringPanelShowed = false; this._stopAllMusic(); this.checkCheat(); } /** * initialize() * * Initializes this object. * * @return . */ initialize() { } /** * update() * * Updates this object. * * @return . */ update() { super.update(); } /** * draw(parentCtx) * * Draws the given parent context. * * @param parentCtx Context for the parent. * * @return . */ draw(parentCtx) { if (!this._selectionContainer) { console.warn('html not loaded'); return; } super.draw(parentCtx); console.log('selection draw'); for (let i = 0; i &lt; define.SHOW_PLAYER_COUNT; i++) { const player = this.players[i] || {}; let elem = player.elem || this.playersEle[i]; let stage = intval(player._selectStage || 0); const playerName = elem.find('.player-name'), fighterName = elem.find('.fighter-name'), teamName = elem.find('.team-name'); //Remove all flashing text elem.find('.flashing').removeClass('flashing'); switch (stage) { case SELECTION_STAGE.WAIT_JOIN: playerName.addClass('flashing'); elem.removeAttr(CHAR_TAG); elem.removeAttr(TEAM_TAG); break; case SELECTION_STAGE.SELECT_CHARACTER: fighterName.addClass('flashing'); break; case SELECTION_STAGE.SELECT_TEAM: teamName.addClass('flashing'); teamName.text(this._teamInsArray[player._teamId].toString()); break; case SELECTION_STAGE.SELECT_DONE: if (this._countDownTimer !== undefined) { this._selectionPanel.attr(REMINING_TIME_TAG, this._remainingTime); } break; } } if (this._isEnteringPanelShowed) { this._enteringPanelItems.removeClass('current'); this._enteringPanelItems[this._enteringIndex].classList.add('current'); let mapId = this._mapIdArray[this._mapIndex]; let mapName = &quot;&quot;; if (mapId === RANDOM_ID) { mapName = &quot;Random&quot;; } else { mapName = GameMapPool.get(mapId).name; } $(this._enteringPanelItems[3]).find('.input').text(mapName); } } /** * keypress(e, list, oriE) * * Keypress. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keydown(e, list, oriE) { super.keydown(e, list, oriE); this.players.forEach((player) =&gt; { if (player.keydown(oriE)) { this._handlePlayerKeypress(player); } }); if (!this._isEnteringPanelShowed &amp;&amp; this._isMinPlayerEntered()) { console.log('All player entered'); this._startCountDown(); } this.forceDraw(); } /** * keyup(e, list, oriE) * * Keyups. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keyup(e, list, oriE) { super.keyup(e, list, oriE); this.players.forEach((player) =&gt; { player.keyup(e, list, oriE); }); this.checkCheat(); //this.forceDraw(); } /** * Handle player key press * * @param player * @private */ _handlePlayerKeypress(player) { let elem = player.elem; let stage = intval(player._selectStage || 0); const prevStage = stage; if (this._countDownTimer === undefined &amp;&amp; !this._isEnteringPanelShowed) { if (player.isKeyPressed(KeyboardConfig.KEY_MAP.ATTACK)) { console.log(`Player: ${player.playerId}, Attack pressed`); stage++; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.JUMP)) { console.log(`Player: ${player.playerId}, Jump pressed`); stage--; } } else if (this._countDownTimer !== undefined) { if (player.isKeyPressed(KeyboardConfig.KEY_MAP.ATTACK) &amp;&amp; stage === SELECTION_STAGE.WAIT_JOIN) { this._stopCountDown(); stage++; } } if (stage &lt; SELECTION_STAGE.WAIT_JOIN) stage = SELECTION_STAGE.WAIT_JOIN; if (stage &gt; SELECTION_STAGE.SELECT_DONE) stage = SELECTION_STAGE.SELECT_DONE; if (this._isEnteringPanelShowed) { stage = SELECTION_STAGE.ENTERING; } switch (stage) { case SELECTION_STAGE.SELECT_CHARACTER: { let charIdxOffset = 0; if (player.isKeyPressed(KeyboardConfig.KEY_MAP.LEFT)) { charIdxOffset = -1; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.RIGHT)) { charIdxOffset = 1; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.UP)) { charIdxOffset = -player._charIndex; } if (charIdxOffset !== 0) { //player._charIndex = setOffsetIndex(player._charIndex, this._charIdArray.length, charIdxOffset); player._charIndex = this.getCharIdInRange(player._charIndex, charIdxOffset); } if (this._charIdArray[player._charIndex] === RANDOM_ID) { player._isRandomChar = true; } else { player._isRandomChar = false; } elem.attr(CHAR_TAG, this._charIdArray[player._charIndex]); } break; case SELECTION_STAGE.SELECT_TEAM: { let teamIdxOffset = 0; if (player.isKeyPressed(KeyboardConfig.KEY_MAP.LEFT)) { teamIdxOffset = -1; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.RIGHT)) { teamIdxOffset = 1; } if (teamIdxOffset !== 0) { //player._charIndex = setOffsetIndex(player._charIndex, this._charIdArray.length, charIdxOffset); player._teamId = this.getTeamIdInRange(player._teamId, teamIdxOffset); } elem.attr(TEAM_TAG, player._teamId); } break; case SELECTION_STAGE.SELECT_DONE: { if (this._remainingTime !== undefined) { this._timerTick(); this._selectionPanel.attr(REMINING_TIME_TAG, this._remainingTime); } } break; case SELECTION_STAGE.ENTERING: { let itemOffset = 0; if (player.isKeyPressed(KeyboardConfig.KEY_MAP.UP)) { itemOffset = -1; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.DOWN)) { itemOffset = 1; } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.ATTACK)) { switch (this._enteringIndex) { case 0: //START GAME let _passData = { players: [], mapId: RANDOM_ID, }; this.players.forEach(p =&gt; { if (p._selectStage !== SELECTION_STAGE.ENTERING) return; _passData.players[p.playerId] = { charId: this._charIdArray[p._charIndex], teamId: p._teamId, }; }); _passData.mapId = this._mapIdArray[this._mapIndex]; if (_passData.mapId === RANDOM_ID) { let tmpArr = this._mapIdArray.filter(x =&gt; x !== RANDOM_ID); _passData.mapId = tmpArr[(Math.random() * tmpArr.length) | 0]; } console.log('start fight', _passData); this._stopAllMusic(); Game.goToLevel('fight', _passData); break; case 1: //RESET SELECTION Framework.Game.goToLevel('selection'); break; case 2: //RESET RANDOM this._randomAllSelectChar(); break; case 3://SELECT MAP this._mapIndex = setOffsetIndex(this._mapIndex, this._mapIdArray.length, 1); break; case 4: window.open(atob(lf2.Egg._EGG_CONTENT._JOIN_APPLICATION_FORM_URL)); break; } this.audio.play('ok'); } if (itemOffset !== 0) { this._enteringIndex = setOffsetIndex(this._enteringIndex, this._enteringIndexMax, itemOffset); } } break; } if (prevStage !== stage &amp;&amp; !this._isEnteringPanelShowed) { if (player.isKeyPressed(KeyboardConfig.KEY_MAP.ATTACK)) { this.audio.play('join'); } else if (player.isKeyPressed(KeyboardConfig.KEY_MAP.JUMP)) { this.audio.play('cancel'); } } if (!this._isEnteringPanelShowed) { player.setSelectStage(stage); } } /** * _randomSelectChar(player) * * Random select character. * * @param player The player. * * @return . */ _randomSelectChar(player) { let charId = this._charIdArray[player._charIndex]; if (player._isRandomChar) { let tmpArr = this._charIdArray.filter(x =&gt; x.inRange(RAND_CHAR_ID_MIN, RAND_CHAR_ID_MAX)); let idx = (Math.random() * tmpArr.length) | 0; charId = tmpArr[idx]; player._charIndex = this._charIdArray.indexOf(charId); } player.elem.attr(CHAR_TAG, charId); } /** * _randomAllSelectChar() * * Random all select character. * * @return . */ _randomAllSelectChar() { this.players.forEach(p =&gt; { this._randomSelectChar(p); }); } /** * showSelectionPanel() * * Shows the selection panel. * * @return . */ showSelectionPanel() { if (!this.isCurrentLevel) return; if (this.html !== &quot;&quot; &amp;&amp; !this._selectionContainer) { $(&quot;#&quot; + _SELECTION_CONTAINER_ID).remove(); this._selectionContainer = $(this.html); this._selectionContainer.attr(&quot;id&quot;, _SELECTION_CONTAINER_ID); this.forceDraw(); this._selectionContainer.find(&quot;#selection_ctr_note&quot;).click(() =&gt; { Game.goToLevel('control'); }); let playerElement = this._selectionContainer.find(&quot;.player:first&quot;); let playerContainer = this._selectionContainer.find(&quot;.players&quot;); let appendStyleText = &quot;&quot;; for (let i = 0; i &lt; define.SHOW_PLAYER_COUNT; i++) { this.playersEle[i] = playerElement.clone(); this.playersEle[i].attr(PLAYER_TAG, i); if (this.players[i]) this.players[i].elem = this.playersEle[i]; playerContainer.append(this.playersEle[i]); const playerName = this.players[i] ? this.players[i].keyboardConfig.config.NAME : &quot;&quot;; appendStyleText += `.player[${PLAYER_TAG}=&quot;${i}&quot;]\\x20.player-name:before{content: &quot;${playerName}&quot;;}\\n`; } this._charIdArray.forEach(objId =&gt; { if (objId === RANDOM_ID) return; const obj = GameObjectPool.get(objId); appendStyleText += `.player[${CHAR_TAG}=&quot;${obj.id}&quot;]\\x20.player-cover{background-image: url(${obj.head.src});}\\n`; appendStyleText += `.player[${CHAR_TAG}=&quot;${obj.id}&quot;]\\x20.fighter-name:before{content: &quot;${obj.name}&quot;;}\\n`; }); appendStyleText = '&lt;style type=&quot;text/css&quot;&gt;' + appendStyleText + '&lt;/style&gt;'; this._selectionContainer.append(appendStyleText); playerElement.remove(); $(&quot;body&quot;).append(this._selectionContainer); this._selectionPanel = this._selectionContainer.find(&quot;#selection_panel&quot;); this._enteringPanel = this._selectionContainer.find(&quot;#selection_entering_panel&quot;); this._enteringPanelItems = this._enteringPanel.find(&quot;li.item&quot;); this._attached = true; this._enteringIndexMax = this._enteringPanelItems.length; Game.resizeEvent(); } } /** * _isMinPlayerEntered() * * Is minimum player entered. * * @return . */ _isMinPlayerEntered() { return this.players.reduce(countDonePlayer, 0) &gt;= START_GAME_MIN_PLAYER_COUNT &amp;&amp; this.players.reduce(countNonDonePlayer, 0) === 0; } /** * _isAllPlayerEntered() * * Is all player entered. * * @return . */ _isAllPlayerEntered() { return this.players.reduce(countNonDonePlayer, 0) === 0; } /** * _startCountDown() * * Starts count down. * * @return . */ _startCountDown() { if (this._countDownTimer !== undefined) return; this._remainingTime = 5; this._selectionPanel.attr(REMINING_TIME_TAG, this._remainingTime); this._selectionPanel.addClass(COUNTING_DOWN_CLASS); this._countDownTimer = setInterval(() =&gt; { this._timerTick(); }, 1000); } /** * _stopCountDown() * * Stops count down. * * @return . */ _stopCountDown() { this._selectionPanel.removeClass(COUNTING_DOWN_CLASS); clearInterval(this._countDownTimer); this._countDownTimer = undefined; } /** * _timerTick() * * Timer tick. * * @return . */ _timerTick() { if (this._countDownTimer === undefined) return; if (this._remainingTime &lt;= 1) { this._stopCountDown(); this._showEnteringPanel(); this.forceDraw(); return; } this.forceDraw(); this._remainingTime--; } /** * _showEnteringPanel() * * Shows the entering panel. * * @return . */ _showEnteringPanel() { this._isEnteringPanelShowed = true; this._selectionPanel.addClass('entering-shown'); this._enteringPanel.addClass('show'); this._randomAllSelectChar(); this.players.forEach((p) =&gt; { if (p._selectStage === SELECTION_STAGE.WAIT_JOIN) return; if (p._selectStage === SELECTION_STAGE.SELECT_DONE) { p.setSelectStage(SELECTION_STAGE.ENTERING); } else { console.error(&quot;asdf&quot;, p._selectStage); } }); this._enteringIndex = 0; } /** * autodelete() * * Autodeletes this object. * * @return . */ autodelete() { if (this._selectionContainer) { this._stopCountDown(); this._selectionContainer.remove(); this._selectionContainer = undefined; } } /** * Check cheat. * * @return . */ checkCheat() { if (this._cheatMusicPlayed) return true; if (lf2['!MainGame'].cheat) { this._chectAudio.play('pass'); this._cheatMusicPlayed = true; return true; } return false; } /** * Finds the charidinrange of the given arguments. * * @param currentIndex The current index. * @param offset The offset. * * @return The calculated character identifier in range. */ getCharIdInRange(currentIndex, offset) { if (offset === 0) return currentIndex; const newIndex = setOffsetIndex(currentIndex, this._charIdArray.length, offset); if (lf2['!MainGame'].cheat || this._charIdArray[newIndex].inRange(FREE_CHAR_MIN, FREE_CHAR_MAX)) return newIndex; return this.getCharIdInRange(newIndex, offset); } /** * Finds the teamidinrange of the given arguments. * * @param currentIndex The current index. * @param offset The offset. * * @return The calculated team identifier in range. */ getTeamIdInRange(currentIndex, offset) { if (offset === 0) return currentIndex; return setOffsetIndex(currentIndex, this._teamInsArray.length, offset); } /** * Stops all music. * * @return . */ _stopAllMusic() { lf2.Egg.stop(); // Framework.Audio.stopAll(); } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_behavior_SpeedUpTrackerBehavior.js.html":{"id":"lf2_items_behavior_SpeedUpTrackerBehavior.js.html","title":"Source: lf2/items/behavior/SpeedUpTrackerBehavior.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/behavior/SpeedUpTrackerBehavior.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Point = Framework.Point; const Point3D = Framework.Point3D; const METHOD_NOT_IMPLEMENT = &quot;Method Not Implemented&quot;; const GameItem = lf2.GameItem; const MIN_V = GameItem.MIN_V; const GRAVITY = GameItem.GRAVITY; const FRICTION = GameItem.FRICTION; const Utils = lf2.Utils; /** * SpeedUpTrackerBehavior * * @class {lf2.SpeedUpTrackerBehavior} * @extends {lf2.CenterTrackerBehavior} */ lf2.SpeedUpTrackerBehavior = class SpeedUpTrackerBehavior extends lf2.HorizontalTrackerBehavior{ /** * * @param {lf2.Ball} ball * @param {lf2.WorldScene} world */ constructor(ball, world) { super(ball, world); } /** * Gets the fa. * * @return {Number} A get. */ get FA() { return 3; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { return 'lf2.SpeedUpTrackerBehavior'; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_player_Team.js.html":{"id":"lf2_player_Team.js.html","title":"Source: lf2/player/Team.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/player/Team.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; let TeamInstanceMap = new Map(); let TeamSymbol = new Map(); const TeamColor = { '0': &quot;#fbfbfb&quot;, '1': &quot;#4f9bff&quot;, '2': &quot;#ff4f4f&quot;, '3': &quot;#3cad0f&quot;, '5': &quot;#ffd34c&quot;, '4': &quot;#ff4cec&quot;, }; Object.freeze(TeamColor); const TeamColorDark = { '0': &quot;#444444&quot;, '1': &quot;#001e46&quot;, '2': &quot;#460000&quot;, '3': &quot;#154103&quot;, '4': &quot;#8c009a&quot;, '5': &quot;#9a5700&quot;, }; Object.freeze(TeamColorDark); /** * Team * * @class lf2.Team */ lf2.Team = class Team { /** * * @param {Number} teamId */ constructor(teamId) { teamId *= 1; this._teamId = teamId; if (teamId &gt; 0) { this._teamSymbol = TeamSymbol.get(teamId) || Symbol(`team_${teamId}`); TeamSymbol.set(teamId, this._teamSymbol); } else { this._teamSymbol = Symbol('team_independent'); } } /** * * @param {lf2.Team} otherTeam * @returns {boolean} */ equalsTo(otherTeam) { return this._teamSymbol === otherTeam._teamSymbol; } /** * Convert this object into a string representation. * * @return An unknown that represents this object. */ toString() { if (this._teamId &gt; 0) return `Team ${this._teamId}`; return 'Independent'; } /** * Gets the color. * * @return The color. */ getColor() { if (this._teamId &gt; 0) return TeamColor[`${this._teamId}`]; return TeamColor['0']; } /** * Gets dark color. * * @return The dark color. */ getDarkColor() { if (this._teamId &gt; 0) return TeamColorDark[`${this._teamId}`]; return TeamColorDark['0']; } /** * Gets the identifier. * * @return {Number} A get. */ get id() { if (this._teamId &gt; 0) return this._teamId; return 0; } /** * * @param {lf2.Team} t1 * @param {lf2.Team} t2 * @returns {boolean} */ static EqualsTo(t1, t2) { return t1.equalsTo(t2); } static GetTeamInstance(teamId) { teamId *= 1; let oldInstance = TeamInstanceMap.get(teamId); if (oldInstance) return oldInstance; oldInstance = new Team(teamId); if (teamId &gt; 0) TeamInstanceMap.set(teamId, oldInstance); return oldInstance; } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_items_Weapon.js.html":{"id":"lf2_items_Weapon.js.html","title":"Source: lf2/items/Weapon.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/items/Weapon.js &quot;use strict&quot;; var lf2 = (function (lf2) { const Utils = lf2.Utils; const Body = lf2.Body; const Interaction = lf2.Interaction; const NONE = lf2.GameItem.NONE; const GameObject = lf2.GameObject; const GameObjectPool = lf2.GameObjectPool; const ResourceManager = Framework.ResourceManager; const FrameStage = lf2.FrameStage; const KeyboardConfig = lf2.KeyboardConfig; const Bound = lf2.Bound; const ON_GROUND_ID = 70; /** * Weapon * * @class lf2.Weapon * @extends lf2.Ball * @implements Framework.AttachableInterface */ lf2.Weapon = class Weapon extends lf2.Ball { /** * * @param weaponId ID of character * @param {lf2.Player} player of this ball belong to */ constructor(weaponId, player) { super(weaponId, player); this._affectByFriction = true; } /** * * @returns {Number} * @private * @override */ _getNextFrameId() { if (this._isOut) return lf2.GameItem.DESTROY_ID; if(this._frameForceChangeId!==NONE) return this._frameForceChangeId; const curF = this.currentFrame; let next = curF.nextFrameId; switch (curF.state) { case FrameStage.WEAPON_IN_THE_SKY: case FrameStage.WEAPON_THROWING: if (this.position.z === 0) { next = ON_GROUND_ID; //just on ground } break; } if (next === 0) { switch (curF.state) { case FrameStage.WEAPON_THROWING: if(this.position.z===0){ next = ON_GROUND_ID; //just on ground } break; case FrameStage.DELETE_MESSAGE: next = lf2.GameItem.DESTROY_ID; break; default: next = 0; } } if (next === 999) return 0; return next; } /** * update() * * Updates this object. * * @return . */ update() { super.update(); const curF = this.currentFrame; if(curF.state === FrameStage.DELETE_MESSAGE){ this._allowDraw = false; } } }; return lf2; })(lf2 || {}); × Search results Close "},"lf2_game_scenes_WorldScene.js.html":{"id":"lf2_game_scenes_WorldScene.js.html","title":"Source: lf2/game/scenes/WorldScene.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/scenes/WorldScene.js &quot;use strict&quot;; var lf2 = (function (lf2) { const GameMapPool = lf2.GameMapPool; const GameItem = lf2.GameItem; const Point = Framework.Point; const ResourceManager = Framework.ResourceManager; const FPS = Framework.Config.fps; const Bound = lf2.Bound; const CAMERA_MOVE_SPEED = 500; const PER_FRAME_TIME = CAMERA_MOVE_SPEED / 1000 * FPS; const HALF_SCREEN_WIDTH = Framework.Config.canvasWidth &gt;&gt; 1; /** * Check if object is sortable * @param x * @returns {boolean} */ const isAttachableSortObj = (x) =&gt; { if ( x instanceof lf2.Character || x instanceof lf2.Ball || false ) return true; return false; }; /** * World Scene * * @class {lf2.WorldScene} * @extends {Framework.Scene} * @implements {Framework.AttachableInterface} */ lf2.WorldScene = class WorldScene extends Framework.Scene { constructor(config) { super(); this.config = config; /** * position of camera, from 0 to 1 * @type {Number} */ this.cameraPosition = 0; this.players = this.config.players; this._stepByStep = false; this._allowUpdate = true; this.addPlayers(this.players); this._targetCameraX = 0; this._cameraCounter = 0; this._cameraDiff = 0; this._startMoveCameraPos = 0; this._cameraPositionCache = new Point(0, 0); this._cameraChanged = false; this._waitForAdd = []; this.setMapById(this.config.mapId); } /** * * @param {lf2.Player[]} playerArray */ addPlayers(playerArray) { playerArray.forEach((player) =&gt; { this.attach(player); this.attach(player.character); }); } /** * update() * * Updates this object. * * @return . */ update() { let sumPlayerX = 0, count = 0; this.config.players.forEach((p) =&gt; { sumPlayerX += p.character.position.x; count++; }); this._setCameraPositionByX(sumPlayerX / count); if (define.MAP_SMOOTHLY &amp;&amp; this._cameraCounter &lt; PER_FRAME_TIME) { this._cameraCounter++; this.cameraPosition = this._startMoveCameraPos + this._cameraDiff * (this._cameraCounter / PER_FRAME_TIME); } else { this.cameraPosition = this._targetCameraX; } this._cameraChanged = true; this.map.update(); if (!this._allowUpdate) return; if (this._waitForAdd.length &gt; 0) { this._waitForAdd.forEach(item =&gt; this.attach(item)); this._waitForAdd.length = 0; } let bdyItems = this._getAllBdyItem(); this.attachArray.forEach((item) =&gt; { if (item instanceof lf2.GameItem) { item.setBdyItems(bdyItems); } }); this.attachArray.forEach((item) =&gt; { if (item instanceof lf2.GameItem) { let attackedItems = item.getAttackItems(); /** * @type {lf2.GameItem[]} */ let actualAttackedItems = []; attackedItems.forEach(bdyItem =&gt; { const r = bdyItem.item.notifyDamageBy(item, bdyItem.itr); if (r) { define.DEBUG &amp;&amp; console.log(bdyItem); actualAttackedItems.push(bdyItem); } }); item.postDamageItems(actualAttackedItems.map(x =&gt; x.item)); let bound = this.map.getBound(item.position); if (bound !== Bound.NONE) { item.onOutOfBound(bound, this.map); } } }); this.attachArray.forEach((ele) =&gt; { ele.update(); }); this.attachArray.forEach((ele) =&gt; { if (ele instanceof lf2.GameItem) { ele.cleanUpItr(); } }); if (this._stepByStep) { this._allowUpdate = false; } } /** * Add new item into world * @param {lf2.GameItem} item */ addNewItem(item) { if (this.attachArray.length - define.PLAYER_COUNT &gt; define.MAX_ITEM_COUNT) return; this._waitForAdd.push(item); } /** * Get all items with body * @returns {lf2.GameItem[]} * @private */ _getAllBdyItem() { let bdyItems = []; this.attachArray.forEach((item) =&gt; { if (item instanceof lf2.GameItem) { if (item.currentFrame.bdy &amp;&amp; item._allowDraw) { bdyItems.push(item); } } }); // bdyItems.sort((x, y) =&gt; x.position.x - y.position.x); return bdyItems; } /** * Attaches the given object. * * @param obj The object. * */ attach(obj) { super.attach(obj); if (obj.world !== undefined) { obj.world = this; } } /** * _setCameraPositionByX(x) * * Sets camera position by x coordinate. * * @param x The unknown to process. * * @return . */ _setCameraPositionByX(x) { const WIDTH = this.map.width - Framework.Config.canvasWidth; const HW = HALF_SCREEN_WIDTH; let pos = 0; if (x &lt;= HW) { pos = 0; } else if (x &gt;= this.map.width - HW) { pos = 1; } else { pos = (x - HW) / WIDTH; } if (pos === this._targetCameraX) { } else { this._startMoveCameraPos = this.cameraPosition; this._cameraCounter = 0; } this._targetCameraX = pos; this._cameraDiff = pos - this._startMoveCameraPos; } /** * _getCameraPositionAsPoint() * * Gets camera position as point. * * @return The camera position as point. */ _getCameraPositionAsPoint() { if (!this._cameraChanged) return this._cameraPositionCache; let x = this.map.width - Framework.Config.canvasWidth; x *= this.cameraPosition; this._cameraPositionCache.x = x | 0; this._cameraChanged = false; return this._cameraPositionCache; } /** * Gets distance between camera and item. * * @param {GameItem} item * * @return {number} The distance between camera and item. */ getDistanceBetweenCameraAndItem(item) { const pos = this._getCameraPositionAsPoint(); return item.position.x - (pos.x + HALF_SCREEN_WIDTH); } /** * * @param {CanvasRenderingContext2D} ctx The painter. * @override */ draw(ctx) { //Reset translate ctx.setTransform(1, 0, 0, 1, 0, 0); this.map.draw(ctx); ctx.save(); let canvasTranslate = this._getCameraPositionAsPoint(); ctx.translate(-canvasTranslate.x, -canvasTranslate.y); this.attachArray.sort((e1, e2) =&gt; { if (!isAttachableSortObj(e1)) return -1; if (!isAttachableSortObj(e2)) return 1; const p1 = (e1.position); const p2 = (e2.position); const yd = p1.y - p2.y; if (yd === 0) { return e1._createTime - e2._createTime; } else { return yd; } }); this.attachArray.forEach(function (ele) { ele.draw(ctx); }, this); ctx.restore(); if (!this._allowUpdate) { const __x = (ctx.canvas.width &gt;&gt; 1), __y = ((ctx.canvas.height - 120) &gt;&gt; 1 ) + 60; ctx.fillStyle = '#FFF'; ctx.strokeStyle = '#09123b'; ctx.lineWidth = 5; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.font = '32px bold Arial'; ctx.strokeText('PAUSE', __x, __y); ctx.fillText('PAUSE', __x, __y); } } /** * Gets an enemy. * * @param {lf2.Player} player The player. * * @return {lf2.Character|null} The enemy. */ getEnemy(player) { let target = null; this.players.forEach(p =&gt; { if (target !== null) return; if (!player.team.equalsTo(p.team)) { target = p.character; if (!target._allowDraw || p.hp &lt;= 0) target = null; } }); return target; } /** * Gets a friend. * * @param {lf2.Player} player The player. * * @return {lf2.Character|null} The friend. */ getFriend(player) { let target = null; this.players.forEach(p =&gt; { if (target !== null) return; if (player.team.equalsTo(p.team) &amp;&amp; p !== player) { target = p.character; } }); if (target === null) target = player.character; return target; } /** * * @param {lf2.GameItem} gameItem */ detach(gameItem) { super.detach(gameItem); gameItem.alive = false; } /** * * Keydowns. * * @param e The unknown to process. * @param list The list. * @param oriE The ori e. * * @return . */ keydown(oriE) { if (oriE.keyCode === Framework.KeyBoardManager.getKeyCodeByString('F2')) { this._stepByStep = true; this._allowUpdate = true; } else if (oriE.keyCode === Framework.KeyBoardManager.getKeyCodeByString('F1')) { this._stepByStep = false; this._allowUpdate = !this._allowUpdate; } } /** * Sets map by identifier. * * @param {Number} id The identifier. * * @return . */ setMapById(id) { this.map = GameMapPool.get(id); this.map.initialize(this); } }; return lf2; })(lf2 || {}); × Search results Close "},"Framework_MouseManager.js.html":{"id":"Framework_MouseManager.js.html","title":"Source: Framework/MouseManager.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/MouseManager.js 'use strict'; var Framework = (function (Framework) { (function () { var MouseManagerInstance = {}, userClickEvent = function () { }, userMousedownEvent = function () { }, userMouseUpEvent = function () { }, userMouseMoveEvent = function () { }, userContextmenuEvent = function () { }, _subject; var setSubject = function (subject) { _subject = subject; }; var setUserClickEvent = function (userEvent) { userClickEvent = userEvent; }; var setUserMousedownEvent = function (userEvent) { userMousedownEvent = userEvent; }; var setUserMouseUpEvent = function (userEvent) { userMouseUpEvent = userEvent; }; var setUserMouseMoveEvent = function (userEvent) { userMouseMoveEvent = userEvent; }; var setUserContextmenuEvent = function (userEvent) { userContextmenuEvent = userEvent; }; var countCanvasOffset = function (e) { var pos = {}, totalOffsetX = 0, totalOffsetY = 0, ele = Framework.Game._canvas; do { totalOffsetX += ele.offsetLeft; totalOffsetY += ele.offsetTop; ele = ele.offsetParent; } while (ele); pos.x = e.x || e.clientX; pos.y = e.y || e.clientY; pos.x = Math.floor((pos.x - totalOffsetX) / Framework.Game._widthRatio); pos.y = Math.floor((pos.y - totalOffsetY) / Framework.Game._heightRatio); return pos; }; var clickEvent = function (e) { e.preventDefault(); var e = countCanvasOffset(e); userClickEvent.call(_subject, e); }; var mousedownEvent = function (e) { e.preventDefault(); var e = countCanvasOffset(e); userMousedownEvent.call(_subject, e); }; var mouseupEvent = function (e) { e.preventDefault(); var e = countCanvasOffset(e); userMouseUpEvent.call(_subject, e); }; var mousemoveEvent = function (e) { e.preventDefault(); var e = countCanvasOffset(e); userMouseMoveEvent.call(_subject, e); if (Framework.Game._isRecording &amp;&amp; Framework.Game._config.isMouseMoveRecorded) { Framework.Game._record.mousemove(e); } }; var contextmenuEvent = function (e) { e.preventDefault(); var e = countCanvasOffset(e); userContextmenuEvent.call(_subject, e); }; /** * 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 * 而會在Level進行設定, 請參照 * {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, * * @class MouseManager */ class MouseManager { /** Default constructor. */ constructor() { Framework.Game._canvas.addEventListener('click', clickEvent, false); Framework.Game._canvas.addEventListener('mousedown', mousedownEvent, false); Framework.Game._canvas.addEventListener('mouseup', mouseupEvent, false); Framework.Game._canvas.addEventListener('mousemove', mousemoveEvent, false); Framework.Game._canvas.addEventListener('contextmenu', contextmenuEvent, false); } /** * Sets the subject. * * @return . */ setSubject() { return setSubject.apply(this, arguments); } /** * Sets click event. * * @return . */ setClickEvent() { return setUserClickEvent.apply(this, arguments); } /** * Sets mousedown event. * * @return . */ setMousedownEvent() { return setUserMousedownEvent.apply(this, arguments); } /** * Sets mouse up event. * * @return . */ setMouseUpEvent() { return setUserMouseUpEvent.apply(this, arguments); } /** * Sets mouse move event. * * @return . */ setMouseMoveEvent() { return setUserMouseMoveEvent.apply(this, arguments); } /** * Sets contextmenu event. * * @return . */ setContextmenuEvent() { return setUserContextmenuEvent.apply(this, arguments); } // // /** // * Sets the subject. // * // * @return . // */ // static setSubject() { // return setSubject.apply(MouseManagerInstance, arguments); // } // // /** // * Sets click event. // * // * @return . // */ // static setClickEvent() { // return setUserClickEvent.apply(MouseManagerInstance, arguments); // } // // /** // * Sets mousedown event. // * // * @return . // */ // static setMousedownEvent() { // return setUserMousedownEvent.apply(MouseManagerInstance, arguments); // } // // /** // * Sets mouse up event. // * // * @return . // */ // static setMouseUpEvent() { // return setUserMouseUpEvent.apply(MouseManagerInstance, arguments); // } // // /** // * Sets mouse move event. // * // * @return . // */ // static setMouseMoveEvent() { // return setUserMouseMoveEvent.apply(MouseManagerInstance, arguments); // } // // /** // * Sets contextmenu event. // * // * @return . // */ // static setContextmenuEvent() { // return setUserContextmenuEvent.apply(MouseManagerInstance, arguments); // } }; MouseManagerInstance = Framework.MouseManager = new MouseManager(); return MouseManagerInstance; })(); return Framework; })(Framework || {}); × Search results Close "},"Framework_TouchManager.js.html":{"id":"Framework_TouchManager.js.html","title":"Source: Framework/TouchManager.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/TouchManager.js 'use strict'; var Framework = (function (Framework) { Framework.TouchManager = (function () { var TouchManagerClass = {}, TouchManagerInstance = {}, userTouchstartEvent = function () { }, userTouchendEvent = function () { }, userTouchcancelEvent = function () { }, userTouchleaveEvent = function () { }, userTouchmoveEvent = function () { }, _subject; var setSubject = function (subject) { _subject = subject; }; var setUserTouchstartEvent = function (userEvent) { userTouchstartEvent = userEvent; }; var setUserTouchendEvent = function (userEvent) { userTouchendEvent = userEvent; }; var setUserTouchcancelEvent = function (userEvent) { userTouchcancelEvent = userEvent; }; var setUserTouchleaveEvent = function (userEvent) { userTouchleaveEvent = userEvent; }; var setUserTouchmoveEvent = function (userEvent) { userTouchmoveEvent = userEvent; }; var countCanvasOffset = function (e) { var touches = e.changedTouches, pos = {}, totalOffsetX = 0, totalOffsetY = 0, ele = Framework.Game._canvas, i = 0, newE = {}; do { totalOffsetX += ele.offsetLeft; totalOffsetY += ele.offsetTop; ele = ele.offsetParent; } while (ele); for (i = 0; i &lt; touches.length; i++) { newE[i] = {}; newE[i].x = Math.floor((touches[i].pageX - totalOffsetX) / Framework.Game._widthRatio); newE[i].y = Math.floor((touches[i].pageY - totalOffsetY) / Framework.Game._heightRatio); } /*pos.x = Math.floor((pos.x - totalOffsetX) / Framework.Game._widthRatio); pos.y = Math.floor((pos.y - totalOffsetY) / Framework.Game._heightRatio);*/ return newE; }; var touchstartEvent = function (e) { e.preventDefault(); var newE = countCanvasOffset(e); userTouchstartEvent.call(_subject, newE, e); }; var touchendEvent = function (e) { e.preventDefault(); var newE = countCanvasOffset(e); userTouchendEvent.call(_subject, newE, e); }; var touchcancelEvent = function (e) { e.preventDefault(); var newE = countCanvasOffset(e); userTouchcancelEvent.call(_subject, newE, e); }; var touchleaveEvent = function (e) { e.preventDefault(); var newE = countCanvasOffset(e); userTouchleaveEvent.call(_subject, newE, e); }; var touchmoveEvent = function (e) { e.preventDefault(); var newE = countCanvasOffset(e); userTouchmoveEvent.call(_subject, newE, e); }; /** * 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 * 而會在Level進行設定, 請參照 * {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, * {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, * * @class TouchManager */ TouchManagerClass = function () { Framework.Game._canvas.addEventListener('touchstart', touchstartEvent, false); Framework.Game._canvas.addEventListener('touchend', touchendEvent, false); //Framework.Game._canvas.addEventListener('touchcancel', touchcancelEvent, false); //Framework.Game._canvas.addEventListener('touchleave', touchleaveEvent, false); Framework.Game._canvas.addEventListener('touchmove', touchmoveEvent, false); }; TouchManagerClass.prototype = { setSubject: setSubject, setTouchstartEvent: setUserTouchstartEvent, setTouchendEvent: setUserTouchendEvent, //setTouchcancelEvent: setUserTouchcancelEvent, //setTouchleaveEvent: setUserTouchleaveEvent, setTouchmoveEvent: setUserTouchmoveEvent }; TouchManagerInstance = new TouchManagerClass(); return TouchManagerInstance; })(); return Framework; })(Framework || {}); × Search results Close "},"Framework_blanket.js.html":{"id":"Framework_blanket.js.html","title":"Source: Framework/blanket.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/blanket.js /*! blanket - v1.1.5 */ if (typeof QUnit !== 'undefined') { QUnit.config.autostart = false; } (function (define) { /* Copyright (C) 2012 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt; Copyright (C) 2012 Mathias Bynens &lt;mathias@qiwi.be&gt; Copyright (C) 2012 Joost-Wim Boekesteijn &lt;joost-wim@boekesteijn.nl&gt; Copyright (C) 2012 Kris Kowal &lt;kris.kowal@cixar.com&gt; Copyright (C) 2012 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt; Copyright (C) 2012 Arpad Borsos &lt;arpad.borsos@googlemail.com&gt; Copyright (C) 2011 Ariya Hidayat &lt;ariya.hidayat@gmail.com&gt; Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. */ /*jslint bitwise:true plusplus:true */ /*global esprima:true, define:true, exports:true, window: true, throwError: true, createLiteral: true, generateStatement: true, parseAssignmentExpression: true, parseBlock: true, parseExpression: true, parseFunctionDeclaration: true, parseFunctionExpression: true, parseFunctionSourceElements: true, parseVariableIdentifier: true, parseLeftHandSideExpression: true, parseStatement: true, parseSourceElement: true */ (function (root, factory) { 'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, // Rhino, and plain browser loading. if (typeof define === 'function' &amp;&amp; define.amd) { define(['exports'], factory); } else if (typeof exports !== 'undefined') { factory(exports); } else { factory((root.esprima = {})); } }(this, function (exports) { 'use strict'; var Token, TokenName, Syntax, PropertyKind, Messages, Regex, source, strict, index, lineNumber, lineStart, length, buffer, state, extra; Token = { BooleanLiteral: 1, EOF: 2, Identifier: 3, Keyword: 4, NullLiteral: 5, NumericLiteral: 6, Punctuator: 7, StringLiteral: 8 }; TokenName = {}; TokenName[Token.BooleanLiteral] = 'Boolean'; TokenName[Token.EOF] = '&lt;end&gt;'; TokenName[Token.Identifier] = 'Identifier'; TokenName[Token.Keyword] = 'Keyword'; TokenName[Token.NullLiteral] = 'Null'; TokenName[Token.NumericLiteral] = 'Numeric'; TokenName[Token.Punctuator] = 'Punctuator'; TokenName[Token.StringLiteral] = 'String'; Syntax = { AssignmentExpression: 'AssignmentExpression', ArrayExpression: 'ArrayExpression', BlockStatement: 'BlockStatement', BinaryExpression: 'BinaryExpression', BreakStatement: 'BreakStatement', CallExpression: 'CallExpression', CatchClause: 'CatchClause', ConditionalExpression: 'ConditionalExpression', ContinueStatement: 'ContinueStatement', DoWhileStatement: 'DoWhileStatement', DebuggerStatement: 'DebuggerStatement', EmptyStatement: 'EmptyStatement', ExpressionStatement: 'ExpressionStatement', ForStatement: 'ForStatement', ForInStatement: 'ForInStatement', FunctionDeclaration: 'FunctionDeclaration', FunctionExpression: 'FunctionExpression', Identifier: 'Identifier', IfStatement: 'IfStatement', Literal: 'Literal', LabeledStatement: 'LabeledStatement', LogicalExpression: 'LogicalExpression', MemberExpression: 'MemberExpression', NewExpression: 'NewExpression', ObjectExpression: 'ObjectExpression', Program: 'Program', Property: 'Property', ReturnStatement: 'ReturnStatement', SequenceExpression: 'SequenceExpression', SwitchStatement: 'SwitchStatement', SwitchCase: 'SwitchCase', ThisExpression: 'ThisExpression', ThrowStatement: 'ThrowStatement', TryStatement: 'TryStatement', UnaryExpression: 'UnaryExpression', UpdateExpression: 'UpdateExpression', VariableDeclaration: 'VariableDeclaration', VariableDeclarator: 'VariableDeclarator', WhileStatement: 'WhileStatement', WithStatement: 'WithStatement' }; PropertyKind = { Data: 1, Get: 2, Set: 4 }; // Error messages should be identical to V8. Messages = { UnexpectedToken: 'Unexpected token %0', UnexpectedNumber: 'Unexpected number', UnexpectedString: 'Unexpected string', UnexpectedIdentifier: 'Unexpected identifier', UnexpectedReserved: 'Unexpected reserved word', UnexpectedEOS: 'Unexpected end of input', NewlineAfterThrow: 'Illegal newline after throw', InvalidRegExp: 'Invalid regular expression', UnterminatedRegExp: 'Invalid regular expression: missing /', InvalidLHSInAssignment: 'Invalid left-hand side in assignment', InvalidLHSInForIn: 'Invalid left-hand side in for-in', MultipleDefaultsInSwitch: 'More than one default clause in switch statement', NoCatchOrFinally: 'Missing catch or finally after try', UnknownLabel: 'Undefined label \\'%0\\'', Redeclaration: '%0 \\'%1\\' has already been declared', IllegalContinue: 'Illegal continue statement', IllegalBreak: 'Illegal break statement', IllegalReturn: 'Illegal return statement', StrictModeWith: 'Strict mode code may not include a with statement', StrictCatchVariable: 'Catch variable may not be eval or arguments in strict mode', StrictVarName: 'Variable name may not be eval or arguments in strict mode', StrictParamName: 'Parameter name eval or arguments is not allowed in strict mode', StrictParamDupe: 'Strict mode function may not have duplicate parameter names', StrictFunctionName: 'Function name may not be eval or arguments in strict mode', StrictOctalLiteral: 'Octal literals are not allowed in strict mode.', StrictDelete: 'Delete of an unqualified identifier in strict mode.', StrictDuplicateProperty: 'Duplicate data property in object literal not allowed in strict mode', AccessorDataProperty: 'Object literal may not have data and accessor property with the same name', AccessorGetSet: 'Object literal may not have multiple get/set accessors with the same name', StrictLHSAssignment: 'Assignment to eval or arguments is not allowed in strict mode', StrictLHSPostfix: 'Postfix increment/decrement may not have eval or arguments operand in strict mode', StrictLHSPrefix: 'Prefix increment/decrement may not have eval or arguments operand in strict mode', StrictReservedWord: 'Use of future reserved word in strict mode' }; // See also tools/generate-unicode-regex.py. Regex = { NonAsciiIdentifierStart: new RegExp('[\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]'), NonAsciiIdentifierPart: new RegExp('[\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0300-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u0483-\\u0487\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0610-\\u061a\\u0620-\\u0669\\u066e-\\u06d3\\u06d5-\\u06dc\\u06df-\\u06e8\\u06ea-\\u06fc\\u06ff\\u0710-\\u074a\\u074d-\\u07b1\\u07c0-\\u07f5\\u07fa\\u0800-\\u082d\\u0840-\\u085b\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\u0900-\\u0963\\u0966-\\u096f\\u0971-\\u0977\\u0979-\\u097f\\u0981-\\u0983\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bc-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09ce\\u09d7\\u09dc\\u09dd\\u09df-\\u09e3\\u09e6-\\u09f1\\u0a01-\\u0a03\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a59-\\u0a5c\\u0a5e\\u0a66-\\u0a75\\u0a81-\\u0a83\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abc-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ad0\\u0ae0-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3c-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5c\\u0b5d\\u0b5f-\\u0b63\\u0b66-\\u0b6f\\u0b71\\u0b82\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd0\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c58\\u0c59\\u0c60-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbc-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0cde\\u0ce0-\\u0ce3\\u0ce6-\\u0cef\\u0cf1\\u0cf2\\u0d02\\u0d03\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4e\\u0d57\\u0d60-\\u0d63\\u0d66-\\u0d6f\\u0d7a-\\u0d7f\\u0d82\\u0d83\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u0e50-\\u0e59\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb9\\u0ebb-\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0edc-\\u0edf\\u0f00\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e-\\u0f47\\u0f49-\\u0f6c\\u0f71-\\u0f84\\u0f86-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1049\\u1050-\\u109d\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u135d-\\u135f\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176c\\u176e-\\u1770\\u1772\\u1773\\u1780-\\u17d3\\u17d7\\u17dc\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a1b\\u1a20-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1aa7\\u1b00-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1bf3\\u1c00-\\u1c37\\u1c40-\\u1c49\\u1c4d-\\u1c7d\\u1cd0-\\u1cd2\\u1cd4-\\u1cf6\\u1d00-\\u1de6\\u1dfc-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u200c\\u200d\\u203f\\u2040\\u2054\\u2071\\u207f\\u2090-\\u209c\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d7f-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2de0-\\u2dff\\u2e2f\\u3005-\\u3007\\u3021-\\u302f\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u3099\\u309a\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua62b\\ua640-\\ua66f\\ua674-\\ua67d\\ua67f-\\ua697\\ua69f-\\ua6f1\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua827\\ua840-\\ua873\\ua880-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f7\\ua8fb\\ua900-\\ua92d\\ua930-\\ua953\\ua960-\\ua97c\\ua980-\\ua9c0\\ua9cf-\\ua9d9\\uaa00-\\uaa36\\uaa40-\\uaa4d\\uaa50-\\uaa59\\uaa60-\\uaa76\\uaa7a\\uaa7b\\uaa80-\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaef\\uaaf2-\\uaaf6\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff10-\\uff19\\uff21-\\uff3a\\uff3f\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]') }; // Ensure the condition is true, otherwise throw an error. // This is only to have a better contract semantic, i.e. another safety net // to catch a logic error. The condition shall be fulfilled in normal case. // Do NOT use this to enforce a certain condition on any user input. function assert(condition, message) { if (!condition) { throw new Error('ASSERT: ' + message); } } function sliceSource(from, to) { return source.slice(from, to); } if (typeof 'esprima'[0] === 'undefined') { sliceSource = function sliceArraySource(from, to) { return source.slice(from, to).join(''); }; } function isDecimalDigit(ch) { return '0123456789'.indexOf(ch) &gt;= 0; } function isHexDigit(ch) { return '0123456789abcdefABCDEF'.indexOf(ch) &gt;= 0; } function isOctalDigit(ch) { return '01234567'.indexOf(ch) &gt;= 0; } // 7.2 White Space function isWhiteSpace(ch) { return (ch === ' ') || (ch === '\\u0009') || (ch === '\\u000B') || (ch === '\\u000C') || (ch === '\\u00A0') || (ch.charCodeAt(0) &gt;= 0x1680 &amp;&amp; '\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\uFEFF'.indexOf(ch) &gt;= 0); } // 7.3 Line Terminators function isLineTerminator(ch) { return (ch === '\\n' || ch === '\\r' || ch === '\\u2028' || ch === '\\u2029'); } // 7.6 Identifier Names and Identifiers function isIdentifierStart(ch) { return (ch === '$') || (ch === '_') || (ch === '\\\\') || (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') || (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') || ((ch.charCodeAt(0) &gt;= 0x80) &amp;&amp; Regex.NonAsciiIdentifierStart.test(ch)); } function isIdentifierPart(ch) { return (ch === '$') || (ch === '_') || (ch === '\\\\') || (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') || (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') || ((ch &gt;= '0') &amp;&amp; (ch &lt;= '9')) || ((ch.charCodeAt(0) &gt;= 0x80) &amp;&amp; Regex.NonAsciiIdentifierPart.test(ch)); } // 7.6.1.2 Future Reserved Words function isFutureReservedWord(id) { switch (id) { // Future reserved words. case 'class': case 'enum': case 'export': case 'extends': case 'import': case 'super': return true; } return false; } function isStrictModeReservedWord(id) { switch (id) { // Strict Mode reserved words. case 'implements': case 'interface': case 'package': case 'private': case 'protected': case 'public': case 'static': case 'yield': case 'let': return true; } return false; } function isRestrictedWord(id) { return id === 'eval' || id === 'arguments'; } // 7.6.1.1 Keywords function isKeyword(id) { var keyword = false; switch (id.length) { case 2: keyword = (id === 'if') || (id === 'in') || (id === 'do'); break; case 3: keyword = (id === 'var') || (id === 'for') || (id === 'new') || (id === 'try'); break; case 4: keyword = (id === 'this') || (id === 'else') || (id === 'case') || (id === 'void') || (id === 'with'); break; case 5: keyword = (id === 'while') || (id === 'break') || (id === 'catch') || (id === 'throw'); break; case 6: keyword = (id === 'return') || (id === 'typeof') || (id === 'delete') || (id === 'switch'); break; case 7: keyword = (id === 'default') || (id === 'finally'); break; case 8: keyword = (id === 'function') || (id === 'continue') || (id === 'debugger'); break; case 10: keyword = (id === 'instanceof'); break; } if (keyword) { return true; } switch (id) { // Future reserved words. // 'const' is specialized as Keyword in V8. case 'const': return true; // For compatiblity to SpiderMonkey and ES.next case 'yield': case 'let': return true; } if (strict &amp;&amp; isStrictModeReservedWord(id)) { return true; } return isFutureReservedWord(id); } // 7.4 Comments function skipComment() { var ch, blockComment, lineComment; blockComment = false; lineComment = false; while (index &lt; length) { ch = source[index]; if (lineComment) { ch = source[index++]; if (isLineTerminator(ch)) { lineComment = false; if (ch === '\\r' &amp;&amp; source[index] === '\\n') { ++index; } ++lineNumber; lineStart = index; } } else if (blockComment) { if (isLineTerminator(ch)) { if (ch === '\\r' &amp;&amp; source[index + 1] === '\\n') { ++index; } ++lineNumber; ++index; lineStart = index; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } else { ch = source[index++]; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } if (ch === '*') { ch = source[index]; if (ch === '/') { ++index; blockComment = false; } } } } else if (ch === '/') { ch = source[index + 1]; if (ch === '/') { index += 2; lineComment = true; } else if (ch === '*') { index += 2; blockComment = true; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } else { break; } } else if (isWhiteSpace(ch)) { ++index; } else if (isLineTerminator(ch)) { ++index; if (ch === '\\r' &amp;&amp; source[index] === '\\n') { ++index; } ++lineNumber; lineStart = index; } else { break; } } } function scanHexEscape(prefix) { var i, len, ch, code = 0; len = (prefix === 'u') ? 4 : 2; for (i = 0; i &lt; len; ++i) { if (index &lt; length &amp;&amp; isHexDigit(source[index])) { ch = source[index++]; code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase()); } else { return ''; } } return String.fromCharCode(code); } function scanIdentifier() { var ch, start, id, restore; ch = source[index]; if (!isIdentifierStart(ch)) { return; } start = index; if (ch === '\\\\') { ++index; if (source[index] !== 'u') { return; } ++index; restore = index; ch = scanHexEscape('u'); if (ch) { if (ch === '\\\\' || !isIdentifierStart(ch)) { return; } id = ch; } else { index = restore; id = 'u'; } } else { id = source[index++]; } while (index &lt; length) { ch = source[index]; if (!isIdentifierPart(ch)) { break; } if (ch === '\\\\') { ++index; if (source[index] !== 'u') { return; } ++index; restore = index; ch = scanHexEscape('u'); if (ch) { if (ch === '\\\\' || !isIdentifierPart(ch)) { return; } id += ch; } else { index = restore; id += 'u'; } } else { id += source[index++]; } } // There is no keyword or literal with only one character. // Thus, it must be an identifier. if (id.length === 1) { return { type: Token.Identifier, value: id, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (isKeyword(id)) { return { type: Token.Keyword, value: id, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // 7.8.1 Null Literals if (id === 'null') { return { type: Token.NullLiteral, value: id, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // 7.8.2 Boolean Literals if (id === 'true' || id === 'false') { return { type: Token.BooleanLiteral, value: id, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } return { type: Token.Identifier, value: id, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // 7.7 Punctuators function scanPunctuator() { var start = index, ch1 = source[index], ch2, ch3, ch4; // Check for most common single-character punctuators. if (ch1 === ';' || ch1 === '{' || ch1 === '}') { ++index; return { type: Token.Punctuator, value: ch1, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (ch1 === ',' || ch1 === '(' || ch1 === ')') { ++index; return { type: Token.Punctuator, value: ch1, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // Dot (.) can also start a floating-point number, hence the need // to check the next character. ch2 = source[index + 1]; if (ch1 === '.' &amp;&amp; !isDecimalDigit(ch2)) { return { type: Token.Punctuator, value: source[index++], lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // Peek more characters. ch3 = source[index + 2]; ch4 = source[index + 3]; // 4-character punctuator: &gt;&gt;&gt;= if (ch1 === '&gt;' &amp;&amp; ch2 === '&gt;' &amp;&amp; ch3 === '&gt;') { if (ch4 === '=') { index += 4; return { type: Token.Punctuator, value: '&gt;&gt;&gt;=', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } } // 3-character punctuators: === !== &gt;&gt;&gt; &lt;&lt;= &gt;&gt;= if (ch1 === '=' &amp;&amp; ch2 === '=' &amp;&amp; ch3 === '=') { index += 3; return { type: Token.Punctuator, value: '===', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (ch1 === '!' &amp;&amp; ch2 === '=' &amp;&amp; ch3 === '=') { index += 3; return { type: Token.Punctuator, value: '!==', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (ch1 === '&gt;' &amp;&amp; ch2 === '&gt;' &amp;&amp; ch3 === '&gt;') { index += 3; return { type: Token.Punctuator, value: '&gt;&gt;&gt;', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (ch1 === '&lt;' &amp;&amp; ch2 === '&lt;' &amp;&amp; ch3 === '=') { index += 3; return { type: Token.Punctuator, value: '&lt;&lt;=', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } if (ch1 === '&gt;' &amp;&amp; ch2 === '&gt;' &amp;&amp; ch3 === '=') { index += 3; return { type: Token.Punctuator, value: '&gt;&gt;=', lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // 2-character punctuators: &lt;= &gt;= == != ++ -- &lt;&lt; &gt;&gt; &amp;&amp; || // += -= *= %= &amp;= |= ^= /= if (ch2 === '=') { if ('&lt;&gt;=!+-*%&amp;|^/'.indexOf(ch1) &gt;= 0) { index += 2; return { type: Token.Punctuator, value: ch1 + ch2, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } } if (ch1 === ch2 &amp;&amp; ('+-&lt;&gt;&amp;|'.indexOf(ch1) &gt;= 0)) { if ('+-&lt;&gt;&amp;|'.indexOf(ch2) &gt;= 0) { index += 2; return { type: Token.Punctuator, value: ch1 + ch2, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } } // The remaining 1-character punctuators. if ('[]&lt;&gt;+-*%&amp;|^!~?:=/'.indexOf(ch1) &gt;= 0) { return { type: Token.Punctuator, value: source[index++], lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } } // 7.8.3 Numeric Literals function scanNumericLiteral() { var number, start, ch; ch = source[index]; assert(isDecimalDigit(ch) || (ch === '.'), 'Numeric literal must start with a decimal digit or a decimal point'); start = index; number = ''; if (ch !== '.') { number = source[index++]; ch = source[index]; // Hex number starts with '0x'. // Octal number starts with '0'. if (number === '0') { if (ch === 'x' || ch === 'X') { number += source[index++]; while (index &lt; length) { ch = source[index]; if (!isHexDigit(ch)) { break; } number += source[index++]; } if (number.length &lt;= 2) { // only 0x throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } if (index &lt; length) { ch = source[index]; if (isIdentifierStart(ch)) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } return { type: Token.NumericLiteral, value: parseInt(number, 16), lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } else if (isOctalDigit(ch)) { number += source[index++]; while (index &lt; length) { ch = source[index]; if (!isOctalDigit(ch)) { break; } number += source[index++]; } if (index &lt; length) { ch = source[index]; if (isIdentifierStart(ch) || isDecimalDigit(ch)) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } return { type: Token.NumericLiteral, value: parseInt(number, 8), octal: true, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // decimal number starts with '0' such as '09' is illegal. if (isDecimalDigit(ch)) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } while (index &lt; length) { ch = source[index]; if (!isDecimalDigit(ch)) { break; } number += source[index++]; } } if (ch === '.') { number += source[index++]; while (index &lt; length) { ch = source[index]; if (!isDecimalDigit(ch)) { break; } number += source[index++]; } } if (ch === 'e' || ch === 'E') { number += source[index++]; ch = source[index]; if (ch === '+' || ch === '-') { number += source[index++]; } ch = source[index]; if (isDecimalDigit(ch)) { number += source[index++]; while (index &lt; length) { ch = source[index]; if (!isDecimalDigit(ch)) { break; } number += source[index++]; } } else { ch = 'character ' + ch; if (index &gt;= length) { ch = '&lt;end&gt;'; } throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } if (index &lt; length) { ch = source[index]; if (isIdentifierStart(ch)) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } return { type: Token.NumericLiteral, value: parseFloat(number), lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } // 7.8.4 String Literals function scanStringLiteral() { var str = '', quote, start, ch, code, unescaped, restore, octal = false; quote = source[index]; assert((quote === '\\'' || quote === '&quot;'), 'String literal must starts with a quote'); start = index; ++index; while (index &lt; length) { ch = source[index++]; if (ch === quote) { quote = ''; break; } else if (ch === '\\\\') { ch = source[index++]; if (!isLineTerminator(ch)) { switch (ch) { case 'n': str += '\\n'; break; case 'r': str += '\\r'; break; case 't': str += '\\t'; break; case 'u': case 'x': restore = index; unescaped = scanHexEscape(ch); if (unescaped) { str += unescaped; } else { index = restore; str += ch; } break; case 'b': str += '\\b'; break; case 'f': str += '\\f'; break; case 'v': str += '\\v'; break; default: if (isOctalDigit(ch)) { code = '01234567'.indexOf(ch); // \\0 is not octal escape sequence if (code !== 0) { octal = true; } if (index &lt; length &amp;&amp; isOctalDigit(source[index])) { octal = true; code = code * 8 + '01234567'.indexOf(source[index++]); // 3 digits are only allowed when string starts // with 0, 1, 2, 3 if ('0123'.indexOf(ch) &gt;= 0 &amp;&amp; index &lt; length &amp;&amp; isOctalDigit(source[index])) { code = code * 8 + '01234567'.indexOf(source[index++]); } } str += String.fromCharCode(code); } else { str += ch; } break; } } else { ++lineNumber; if (ch === '\\r' &amp;&amp; source[index] === '\\n') { ++index; } } } else if (isLineTerminator(ch)) { break; } else { str += ch; } } if (quote !== '') { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } return { type: Token.StringLiteral, value: str, octal: octal, lineNumber: lineNumber, lineStart: lineStart, range: [start, index] }; } function scanRegExp() { var str, ch, start, pattern, flags, value, classMarker = false, restore, terminated = false; buffer = null; skipComment(); start = index; ch = source[index]; assert(ch === '/', 'Regular expression literal must start with a slash'); str = source[index++]; while (index &lt; length) { ch = source[index++]; str += ch; if (classMarker) { if (ch === ']') { classMarker = false; } } else { if (ch === '\\\\') { ch = source[index++]; // ECMA-262 7.8.5 if (isLineTerminator(ch)) { throwError({}, Messages.UnterminatedRegExp); } str += ch; } else if (ch === '/') { terminated = true; break; } else if (ch === '[') { classMarker = true; } else if (isLineTerminator(ch)) { throwError({}, Messages.UnterminatedRegExp); } } } if (!terminated) { throwError({}, Messages.UnterminatedRegExp); } // Exclude leading and trailing slash. pattern = str.substr(1, str.length - 2); flags = ''; while (index &lt; length) { ch = source[index]; if (!isIdentifierPart(ch)) { break; } ++index; if (ch === '\\\\' &amp;&amp; index &lt; length) { ch = source[index]; if (ch === 'u') { ++index; restore = index; ch = scanHexEscape('u'); if (ch) { flags += ch; str += '\\\\u'; for (; restore &lt; index; ++restore) { str += source[restore]; } } else { index = restore; flags += 'u'; str += '\\\\u'; } } else { str += '\\\\'; } } else { flags += ch; str += ch; } } try { value = new RegExp(pattern, flags); } catch (e) { throwError({}, Messages.InvalidRegExp); } return { literal: str, value: value, range: [start, index] }; } function isIdentifierName(token) { return token.type === Token.Identifier || token.type === Token.Keyword || token.type === Token.BooleanLiteral || token.type === Token.NullLiteral; } function advance() { var ch, token; skipComment(); if (index &gt;= length) { return { type: Token.EOF, lineNumber: lineNumber, lineStart: lineStart, range: [index, index] }; } token = scanPunctuator(); if (typeof token !== 'undefined') { return token; } ch = source[index]; if (ch === '\\'' || ch === '&quot;') { return scanStringLiteral(); } if (ch === '.' || isDecimalDigit(ch)) { return scanNumericLiteral(); } token = scanIdentifier(); if (typeof token !== 'undefined') { return token; } throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } function lex() { var token; if (buffer) { index = buffer.range[1]; lineNumber = buffer.lineNumber; lineStart = buffer.lineStart; token = buffer; buffer = null; return token; } buffer = null; return advance(); } function lookahead() { var pos, line, start; if (buffer !== null) { return buffer; } pos = index; line = lineNumber; start = lineStart; buffer = advance(); index = pos; lineNumber = line; lineStart = start; return buffer; } // Return true if there is a line terminator before the next token. function peekLineTerminator() { var pos, line, start, found; pos = index; line = lineNumber; start = lineStart; skipComment(); found = lineNumber !== line; index = pos; lineNumber = line; lineStart = start; return found; } // Throw an exception function throwError(token, messageFormat) { var error, args = Array.prototype.slice.call(arguments, 2), msg = messageFormat.replace( /%(\\d)/g, function (whole, index) { return args[index] || ''; } ); if (typeof token.lineNumber === 'number') { error = new Error('Line ' + token.lineNumber + ': ' + msg); error.index = token.range[0]; error.lineNumber = token.lineNumber; error.column = token.range[0] - lineStart + 1; } else { error = new Error('Line ' + lineNumber + ': ' + msg); error.index = index; error.lineNumber = lineNumber; error.column = index - lineStart + 1; } throw error; } function throwErrorTolerant() { try { throwError.apply(null, arguments); } catch (e) { if (extra.errors) { extra.errors.push(e); } else { throw e; } } } // Throw an exception because of the token. function throwUnexpected(token) { if (token.type === Token.EOF) { throwError(token, Messages.UnexpectedEOS); } if (token.type === Token.NumericLiteral) { throwError(token, Messages.UnexpectedNumber); } if (token.type === Token.StringLiteral) { throwError(token, Messages.UnexpectedString); } if (token.type === Token.Identifier) { throwError(token, Messages.UnexpectedIdentifier); } if (token.type === Token.Keyword) { if (isFutureReservedWord(token.value)) { throwError(token, Messages.UnexpectedReserved); } else if (strict &amp;&amp; isStrictModeReservedWord(token.value)) { throwErrorTolerant(token, Messages.StrictReservedWord); return; } throwError(token, Messages.UnexpectedToken, token.value); } // BooleanLiteral, NullLiteral, or Punctuator. throwError(token, Messages.UnexpectedToken, token.value); } // Expect the next token to match the specified punctuator. // If not, an exception will be thrown. function expect(value) { var token = lex(); if (token.type !== Token.Punctuator || token.value !== value) { throwUnexpected(token); } } // Expect the next token to match the specified keyword. // If not, an exception will be thrown. function expectKeyword(keyword) { var token = lex(); if (token.type !== Token.Keyword || token.value !== keyword) { throwUnexpected(token); } } // Return true if the next token matches the specified punctuator. function match(value) { var token = lookahead(); return token.type === Token.Punctuator &amp;&amp; token.value === value; } // Return true if the next token matches the specified keyword function matchKeyword(keyword) { var token = lookahead(); return token.type === Token.Keyword &amp;&amp; token.value === keyword; } // Return true if the next token is an assignment operator function matchAssign() { var token = lookahead(), op = token.value; if (token.type !== Token.Punctuator) { return false; } return op === '=' || op === '*=' || op === '/=' || op === '%=' || op === '+=' || op === '-=' || op === '&lt;&lt;=' || op === '&gt;&gt;=' || op === '&gt;&gt;&gt;=' || op === '&amp;=' || op === '^=' || op === '|='; } function consumeSemicolon() { var token, line; // Catch the very common case first. if (source[index] === ';') { lex(); return; } line = lineNumber; skipComment(); if (lineNumber !== line) { return; } if (match(';')) { lex(); return; } token = lookahead(); if (token.type !== Token.EOF &amp;&amp; !match('}')) { throwUnexpected(token); } } // Return true if provided expression is LeftHandSideExpression function isLeftHandSide(expr) { return expr.type === Syntax.Identifier || expr.type === Syntax.MemberExpression; } // 11.1.4 Array Initialiser function parseArrayInitialiser() { var elements = []; expect('['); while (!match(']')) { if (match(',')) { lex(); elements.push(null); } else { elements.push(parseAssignmentExpression()); if (!match(']')) { expect(','); } } } expect(']'); return { type: Syntax.ArrayExpression, elements: elements }; } // 11.1.5 Object Initialiser function parsePropertyFunction(param, first) { var previousStrict, body; previousStrict = strict; body = parseFunctionSourceElements(); if (first &amp;&amp; strict &amp;&amp; isRestrictedWord(param[0].name)) { throwErrorTolerant(first, Messages.StrictParamName); } strict = previousStrict; return { type: Syntax.FunctionExpression, id: null, params: param, defaults: [], body: body, rest: null, generator: false, expression: false }; } function parseObjectPropertyKey() { var token = lex(); // Note: This function is called only from parseObjectProperty(), where // EOF and Punctuator tokens are already filtered out. if (token.type === Token.StringLiteral || token.type === Token.NumericLiteral) { if (strict &amp;&amp; token.octal) { throwErrorTolerant(token, Messages.StrictOctalLiteral); } return createLiteral(token); } return { type: Syntax.Identifier, name: token.value }; } function parseObjectProperty() { var token, key, id, param; token = lookahead(); if (token.type === Token.Identifier) { id = parseObjectPropertyKey(); // Property Assignment: Getter and Setter. if (token.value === 'get' &amp;&amp; !match(':')) { key = parseObjectPropertyKey(); expect('('); expect(')'); return { type: Syntax.Property, key: key, value: parsePropertyFunction([]), kind: 'get' }; } else if (token.value === 'set' &amp;&amp; !match(':')) { key = parseObjectPropertyKey(); expect('('); token = lookahead(); if (token.type !== Token.Identifier) { throwUnexpected(lex()); } param = [parseVariableIdentifier()]; expect(')'); return { type: Syntax.Property, key: key, value: parsePropertyFunction(param, token), kind: 'set' }; } else { expect(':'); return { type: Syntax.Property, key: id, value: parseAssignmentExpression(), kind: 'init' }; } } else if (token.type === Token.EOF || token.type === Token.Punctuator) { throwUnexpected(token); } else { key = parseObjectPropertyKey(); expect(':'); return { type: Syntax.Property, key: key, value: parseAssignmentExpression(), kind: 'init' }; } } function parseObjectInitialiser() { var properties = [], property, name, kind, map = {}, toString = String; expect('{'); while (!match('}')) { property = parseObjectProperty(); if (property.key.type === Syntax.Identifier) { name = property.key.name; } else { name = toString(property.key.value); } kind = (property.kind === 'init') ? PropertyKind.Data : (property.kind === 'get') ? PropertyKind.Get : PropertyKind.Set; if (Object.prototype.hasOwnProperty.call(map, name)) { if (map[name] === PropertyKind.Data) { if (strict &amp;&amp; kind === PropertyKind.Data) { throwErrorTolerant({}, Messages.StrictDuplicateProperty); } else if (kind !== PropertyKind.Data) { throwErrorTolerant({}, Messages.AccessorDataProperty); } } else { if (kind === PropertyKind.Data) { throwErrorTolerant({}, Messages.AccessorDataProperty); } else if (map[name] &amp; kind) { throwErrorTolerant({}, Messages.AccessorGetSet); } } map[name] |= kind; } else { map[name] = kind; } properties.push(property); if (!match('}')) { expect(','); } } expect('}'); return { type: Syntax.ObjectExpression, properties: properties }; } // 11.1.6 The Grouping Operator function parseGroupExpression() { var expr; expect('('); expr = parseExpression(); expect(')'); return expr; } // 11.1 Primary Expressions function parsePrimaryExpression() { var token = lookahead(), type = token.type; if (type === Token.Identifier) { return { type: Syntax.Identifier, name: lex().value }; } if (type === Token.StringLiteral || type === Token.NumericLiteral) { if (strict &amp;&amp; token.octal) { throwErrorTolerant(token, Messages.StrictOctalLiteral); } return createLiteral(lex()); } if (type === Token.Keyword) { if (matchKeyword('this')) { lex(); return { type: Syntax.ThisExpression }; } if (matchKeyword('function')) { return parseFunctionExpression(); } } if (type === Token.BooleanLiteral) { lex(); token.value = (token.value === 'true'); return createLiteral(token); } if (type === Token.NullLiteral) { lex(); token.value = null; return createLiteral(token); } if (match('[')) { return parseArrayInitialiser(); } if (match('{')) { return parseObjectInitialiser(); } if (match('(')) { return parseGroupExpression(); } if (match('/') || match('/=')) { return createLiteral(scanRegExp()); } return throwUnexpected(lex()); } // 11.2 Left-Hand-Side Expressions function parseArguments() { var args = []; expect('('); if (!match(')')) { while (index &lt; length) { args.push(parseAssignmentExpression()); if (match(')')) { break; } expect(','); } } expect(')'); return args; } function parseNonComputedProperty() { var token = lex(); if (!isIdentifierName(token)) { throwUnexpected(token); } return { type: Syntax.Identifier, name: token.value }; } function parseNonComputedMember() { expect('.'); return parseNonComputedProperty(); } function parseComputedMember() { var expr; expect('['); expr = parseExpression(); expect(']'); return expr; } function parseNewExpression() { var expr; expectKeyword('new'); expr = { type: Syntax.NewExpression, callee: parseLeftHandSideExpression(), 'arguments': [] }; if (match('(')) { expr['arguments'] = parseArguments(); } return expr; } function parseLeftHandSideExpressionAllowCall() { var expr; expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression(); while (match('.') || match('[') || match('(')) { if (match('(')) { expr = { type: Syntax.CallExpression, callee: expr, 'arguments': parseArguments() }; } else if (match('[')) { expr = { type: Syntax.MemberExpression, computed: true, object: expr, property: parseComputedMember() }; } else { expr = { type: Syntax.MemberExpression, computed: false, object: expr, property: parseNonComputedMember() }; } } return expr; } function parseLeftHandSideExpression() { var expr; expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression(); while (match('.') || match('[')) { if (match('[')) { expr = { type: Syntax.MemberExpression, computed: true, object: expr, property: parseComputedMember() }; } else { expr = { type: Syntax.MemberExpression, computed: false, object: expr, property: parseNonComputedMember() }; } } return expr; } // 11.3 Postfix Expressions function parsePostfixExpression() { var expr = parseLeftHandSideExpressionAllowCall(), token; token = lookahead(); if (token.type !== Token.Punctuator) { return expr; } if ((match('++') || match('--')) &amp;&amp; !peekLineTerminator()) { // 11.3.1, 11.3.2 if (strict &amp;&amp; expr.type === Syntax.Identifier &amp;&amp; isRestrictedWord(expr.name)) { throwErrorTolerant({}, Messages.StrictLHSPostfix); } if (!isLeftHandSide(expr)) { throwError({}, Messages.InvalidLHSInAssignment); } expr = { type: Syntax.UpdateExpression, operator: lex().value, argument: expr, prefix: false }; } return expr; } // 11.4 Unary Operators function parseUnaryExpression() { var token, expr; token = lookahead(); if (token.type !== Token.Punctuator &amp;&amp; token.type !== Token.Keyword) { return parsePostfixExpression(); } if (match('++') || match('--')) { token = lex(); expr = parseUnaryExpression(); // 11.4.4, 11.4.5 if (strict &amp;&amp; expr.type === Syntax.Identifier &amp;&amp; isRestrictedWord(expr.name)) { throwErrorTolerant({}, Messages.StrictLHSPrefix); } if (!isLeftHandSide(expr)) { throwError({}, Messages.InvalidLHSInAssignment); } expr = { type: Syntax.UpdateExpression, operator: token.value, argument: expr, prefix: true }; return expr; } if (match('+') || match('-') || match('~') || match('!')) { expr = { type: Syntax.UnaryExpression, operator: lex().value, argument: parseUnaryExpression() }; return expr; } if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) { expr = { type: Syntax.UnaryExpression, operator: lex().value, argument: parseUnaryExpression() }; if (strict &amp;&amp; expr.operator === 'delete' &amp;&amp; expr.argument.type === Syntax.Identifier) { throwErrorTolerant({}, Messages.StrictDelete); } return expr; } return parsePostfixExpression(); } // 11.5 Multiplicative Operators function parseMultiplicativeExpression() { var expr = parseUnaryExpression(); while (match('*') || match('/') || match('%')) { expr = { type: Syntax.BinaryExpression, operator: lex().value, left: expr, right: parseUnaryExpression() }; } return expr; } // 11.6 Additive Operators function parseAdditiveExpression() { var expr = parseMultiplicativeExpression(); while (match('+') || match('-')) { expr = { type: Syntax.BinaryExpression, operator: lex().value, left: expr, right: parseMultiplicativeExpression() }; } return expr; } // 11.7 Bitwise Shift Operators function parseShiftExpression() { var expr = parseAdditiveExpression(); while (match('&lt;&lt;') || match('&gt;&gt;') || match('&gt;&gt;&gt;')) { expr = { type: Syntax.BinaryExpression, operator: lex().value, left: expr, right: parseAdditiveExpression() }; } return expr; } // 11.8 Relational Operators function parseRelationalExpression() { var expr, previousAllowIn; previousAllowIn = state.allowIn; state.allowIn = true; expr = parseShiftExpression(); while (match('&lt;') || match('&gt;') || match('&lt;=') || match('&gt;=') || (previousAllowIn &amp;&amp; matchKeyword('in')) || matchKeyword('instanceof')) { expr = { type: Syntax.BinaryExpression, operator: lex().value, left: expr, right: parseShiftExpression() }; } state.allowIn = previousAllowIn; return expr; } // 11.9 Equality Operators function parseEqualityExpression() { var expr = parseRelationalExpression(); while (match('==') || match('!=') || match('===') || match('!==')) { expr = { type: Syntax.BinaryExpression, operator: lex().value, left: expr, right: parseRelationalExpression() }; } return expr; } // 11.10 Binary Bitwise Operators function parseBitwiseANDExpression() { var expr = parseEqualityExpression(); while (match('&amp;')) { lex(); expr = { type: Syntax.BinaryExpression, operator: '&amp;', left: expr, right: parseEqualityExpression() }; } return expr; } function parseBitwiseXORExpression() { var expr = parseBitwiseANDExpression(); while (match('^')) { lex(); expr = { type: Syntax.BinaryExpression, operator: '^', left: expr, right: parseBitwiseANDExpression() }; } return expr; } function parseBitwiseORExpression() { var expr = parseBitwiseXORExpression(); while (match('|')) { lex(); expr = { type: Syntax.BinaryExpression, operator: '|', left: expr, right: parseBitwiseXORExpression() }; } return expr; } // 11.11 Binary Logical Operators function parseLogicalANDExpression() { var expr = parseBitwiseORExpression(); while (match('&amp;&amp;')) { lex(); expr = { type: Syntax.LogicalExpression, operator: '&amp;&amp;', left: expr, right: parseBitwiseORExpression() }; } return expr; } function parseLogicalORExpression() { var expr = parseLogicalANDExpression(); while (match('||')) { lex(); expr = { type: Syntax.LogicalExpression, operator: '||', left: expr, right: parseLogicalANDExpression() }; } return expr; } // 11.12 Conditional Operator function parseConditionalExpression() { var expr, previousAllowIn, consequent; expr = parseLogicalORExpression(); if (match('?')) { lex(); previousAllowIn = state.allowIn; state.allowIn = true; consequent = parseAssignmentExpression(); state.allowIn = previousAllowIn; expect(':'); expr = { type: Syntax.ConditionalExpression, test: expr, consequent: consequent, alternate: parseAssignmentExpression() }; } return expr; } // 11.13 Assignment Operators function parseAssignmentExpression() { var token, expr; token = lookahead(); expr = parseConditionalExpression(); if (matchAssign()) { // LeftHandSideExpression if (!isLeftHandSide(expr)) { throwError({}, Messages.InvalidLHSInAssignment); } // 11.13.1 if (strict &amp;&amp; expr.type === Syntax.Identifier &amp;&amp; isRestrictedWord(expr.name)) { throwErrorTolerant(token, Messages.StrictLHSAssignment); } expr = { type: Syntax.AssignmentExpression, operator: lex().value, left: expr, right: parseAssignmentExpression() }; } return expr; } // 11.14 Comma Operator function parseExpression() { var expr = parseAssignmentExpression(); if (match(',')) { expr = { type: Syntax.SequenceExpression, expressions: [expr] }; while (index &lt; length) { if (!match(',')) { break; } lex(); expr.expressions.push(parseAssignmentExpression()); } } return expr; } // 12.1 Block function parseStatementList() { var list = [], statement; while (index &lt; length) { if (match('}')) { break; } statement = parseSourceElement(); if (typeof statement === 'undefined') { break; } list.push(statement); } return list; } function parseBlock() { var block; expect('{'); block = parseStatementList(); expect('}'); return { type: Syntax.BlockStatement, body: block }; } // 12.2 Variable Statement function parseVariableIdentifier() { var token = lex(); if (token.type !== Token.Identifier) { throwUnexpected(token); } return { type: Syntax.Identifier, name: token.value }; } function parseVariableDeclaration(kind) { var id = parseVariableIdentifier(), init = null; // 12.2.1 if (strict &amp;&amp; isRestrictedWord(id.name)) { throwErrorTolerant({}, Messages.StrictVarName); } if (kind === 'const') { expect('='); init = parseAssignmentExpression(); } else if (match('=')) { lex(); init = parseAssignmentExpression(); } return { type: Syntax.VariableDeclarator, id: id, init: init }; } function parseVariableDeclarationList(kind) { var list = []; while (index &lt; length) { list.push(parseVariableDeclaration(kind)); if (!match(',')) { break; } lex(); } return list; } function parseVariableStatement() { var declarations; expectKeyword('var'); declarations = parseVariableDeclarationList(); consumeSemicolon(); return { type: Syntax.VariableDeclaration, declarations: declarations, kind: 'var' }; } // kind may be `const` or `let` // Both are experimental and not in the specification yet. // see http://wiki.ecmascript.org/doku.php?id=harmony:const // and http://wiki.ecmascript.org/doku.php?id=harmony:let function parseConstLetDeclaration(kind) { var declarations; expectKeyword(kind); declarations = parseVariableDeclarationList(kind); consumeSemicolon(); return { type: Syntax.VariableDeclaration, declarations: declarations, kind: kind }; } // 12.3 Empty Statement function parseEmptyStatement() { expect(';'); return { type: Syntax.EmptyStatement }; } // 12.4 Expression Statement function parseExpressionStatement() { var expr = parseExpression(); consumeSemicolon(); return { type: Syntax.ExpressionStatement, expression: expr }; } // 12.5 If statement function parseIfStatement() { var test, consequent, alternate; expectKeyword('if'); expect('('); test = parseExpression(); expect(')'); consequent = parseStatement(); if (matchKeyword('else')) { lex(); alternate = parseStatement(); } else { alternate = null; } return { type: Syntax.IfStatement, test: test, consequent: consequent, alternate: alternate }; } // 12.6 Iteration Statements function parseDoWhileStatement() { var body, test, oldInIteration; expectKeyword('do'); oldInIteration = state.inIteration; state.inIteration = true; body = parseStatement(); state.inIteration = oldInIteration; expectKeyword('while'); expect('('); test = parseExpression(); expect(')'); if (match(';')) { lex(); } return { type: Syntax.DoWhileStatement, body: body, test: test }; } function parseWhileStatement() { var test, body, oldInIteration; expectKeyword('while'); expect('('); test = parseExpression(); expect(')'); oldInIteration = state.inIteration; state.inIteration = true; body = parseStatement(); state.inIteration = oldInIteration; return { type: Syntax.WhileStatement, test: test, body: body }; } function parseForVariableDeclaration() { var token = lex(); return { type: Syntax.VariableDeclaration, declarations: parseVariableDeclarationList(), kind: token.value }; } function parseForStatement() { var init, test, update, left, right, body, oldInIteration; init = test = update = null; expectKeyword('for'); expect('('); if (match(';')) { lex(); } else { if (matchKeyword('var') || matchKeyword('let')) { state.allowIn = false; init = parseForVariableDeclaration(); state.allowIn = true; if (init.declarations.length === 1 &amp;&amp; matchKeyword('in')) { lex(); left = init; right = parseExpression(); init = null; } } else { state.allowIn = false; init = parseExpression(); state.allowIn = true; if (matchKeyword('in')) { // LeftHandSideExpression if (!isLeftHandSide(init)) { throwError({}, Messages.InvalidLHSInForIn); } lex(); left = init; right = parseExpression(); init = null; } } if (typeof left === 'undefined') { expect(';'); } } if (typeof left === 'undefined') { if (!match(';')) { test = parseExpression(); } expect(';'); if (!match(')')) { update = parseExpression(); } } expect(')'); oldInIteration = state.inIteration; state.inIteration = true; body = parseStatement(); state.inIteration = oldInIteration; if (typeof left === 'undefined') { return { type: Syntax.ForStatement, init: init, test: test, update: update, body: body }; } return { type: Syntax.ForInStatement, left: left, right: right, body: body, each: false }; } // 12.7 The continue statement function parseContinueStatement() { var token, label = null; expectKeyword('continue'); // Optimize the most common form: 'continue;'. if (source[index] === ';') { lex(); if (!state.inIteration) { throwError({}, Messages.IllegalContinue); } return { type: Syntax.ContinueStatement, label: null }; } if (peekLineTerminator()) { if (!state.inIteration) { throwError({}, Messages.IllegalContinue); } return { type: Syntax.ContinueStatement, label: null }; } token = lookahead(); if (token.type === Token.Identifier) { label = parseVariableIdentifier(); if (!Object.prototype.hasOwnProperty.call(state.labelSet, label.name)) { throwError({}, Messages.UnknownLabel, label.name); } } consumeSemicolon(); if (label === null &amp;&amp; !state.inIteration) { throwError({}, Messages.IllegalContinue); } return { type: Syntax.ContinueStatement, label: label }; } // 12.8 The break statement function parseBreakStatement() { var token, label = null; expectKeyword('break'); // Optimize the most common form: 'break;'. if (source[index] === ';') { lex(); if (!(state.inIteration || state.inSwitch)) { throwError({}, Messages.IllegalBreak); } return { type: Syntax.BreakStatement, label: null }; } if (peekLineTerminator()) { if (!(state.inIteration || state.inSwitch)) { throwError({}, Messages.IllegalBreak); } return { type: Syntax.BreakStatement, label: null }; } token = lookahead(); if (token.type === Token.Identifier) { label = parseVariableIdentifier(); if (!Object.prototype.hasOwnProperty.call(state.labelSet, label.name)) { throwError({}, Messages.UnknownLabel, label.name); } } consumeSemicolon(); if (label === null &amp;&amp; !(state.inIteration || state.inSwitch)) { throwError({}, Messages.IllegalBreak); } return { type: Syntax.BreakStatement, label: label }; } // 12.9 The return statement function parseReturnStatement() { var token, argument = null; expectKeyword('return'); if (!state.inFunctionBody) { throwErrorTolerant({}, Messages.IllegalReturn); } // 'return' followed by a space and an identifier is very common. if (source[index] === ' ') { if (isIdentifierStart(source[index + 1])) { argument = parseExpression(); consumeSemicolon(); return { type: Syntax.ReturnStatement, argument: argument }; } } if (peekLineTerminator()) { return { type: Syntax.ReturnStatement, argument: null }; } if (!match(';')) { token = lookahead(); if (!match('}') &amp;&amp; token.type !== Token.EOF) { argument = parseExpression(); } } consumeSemicolon(); return { type: Syntax.ReturnStatement, argument: argument }; } // 12.10 The with statement function parseWithStatement() { var object, body; if (strict) { throwErrorTolerant({}, Messages.StrictModeWith); } expectKeyword('with'); expect('('); object = parseExpression(); expect(')'); body = parseStatement(); return { type: Syntax.WithStatement, object: object, body: body }; } // 12.10 The swith statement function parseSwitchCase() { var test, consequent = [], statement; if (matchKeyword('default')) { lex(); test = null; } else { expectKeyword('case'); test = parseExpression(); } expect(':'); while (index &lt; length) { if (match('}') || matchKeyword('default') || matchKeyword('case')) { break; } statement = parseStatement(); if (typeof statement === 'undefined') { break; } consequent.push(statement); } return { type: Syntax.SwitchCase, test: test, consequent: consequent }; } function parseSwitchStatement() { var discriminant, cases, clause, oldInSwitch, defaultFound; expectKeyword('switch'); expect('('); discriminant = parseExpression(); expect(')'); expect('{'); if (match('}')) { lex(); return { type: Syntax.SwitchStatement, discriminant: discriminant }; } cases = []; oldInSwitch = state.inSwitch; state.inSwitch = true; defaultFound = false; while (index &lt; length) { if (match('}')) { break; } clause = parseSwitchCase(); if (clause.test === null) { if (defaultFound) { throwError({}, Messages.MultipleDefaultsInSwitch); } defaultFound = true; } cases.push(clause); } state.inSwitch = oldInSwitch; expect('}'); return { type: Syntax.SwitchStatement, discriminant: discriminant, cases: cases }; } // 12.13 The throw statement function parseThrowStatement() { var argument; expectKeyword('throw'); if (peekLineTerminator()) { throwError({}, Messages.NewlineAfterThrow); } argument = parseExpression(); consumeSemicolon(); return { type: Syntax.ThrowStatement, argument: argument }; } // 12.14 The try statement function parseCatchClause() { var param; expectKeyword('catch'); expect('('); if (!match(')')) { param = parseExpression(); // 12.14.1 if (strict &amp;&amp; param.type === Syntax.Identifier &amp;&amp; isRestrictedWord(param.name)) { throwErrorTolerant({}, Messages.StrictCatchVariable); } } expect(')'); return { type: Syntax.CatchClause, param: param, body: parseBlock() }; } function parseTryStatement() { var block, handlers = [], finalizer = null; expectKeyword('try'); block = parseBlock(); if (matchKeyword('catch')) { handlers.push(parseCatchClause()); } if (matchKeyword('finally')) { lex(); finalizer = parseBlock(); } if (handlers.length === 0 &amp;&amp; !finalizer) { throwError({}, Messages.NoCatchOrFinally); } return { type: Syntax.TryStatement, block: block, guardedHandlers: [], handlers: handlers, finalizer: finalizer }; } // 12.15 The debugger statement function parseDebuggerStatement() { expectKeyword('debugger'); consumeSemicolon(); return { type: Syntax.DebuggerStatement }; } // 12 Statements function parseStatement() { var token = lookahead(), expr, labeledBody; if (token.type === Token.EOF) { throwUnexpected(token); } if (token.type === Token.Punctuator) { switch (token.value) { case ';': return parseEmptyStatement(); case '{': return parseBlock(); case '(': return parseExpressionStatement(); default: break; } } if (token.type === Token.Keyword) { switch (token.value) { case 'break': return parseBreakStatement(); case 'continue': return parseContinueStatement(); case 'debugger': return parseDebuggerStatement(); case 'do': return parseDoWhileStatement(); case 'for': return parseForStatement(); case 'function': return parseFunctionDeclaration(); case 'if': return parseIfStatement(); case 'return': return parseReturnStatement(); case 'switch': return parseSwitchStatement(); case 'throw': return parseThrowStatement(); case 'try': return parseTryStatement(); case 'var': return parseVariableStatement(); case 'while': return parseWhileStatement(); case 'with': return parseWithStatement(); default: break; } } expr = parseExpression(); // 12.12 Labelled Statements if ((expr.type === Syntax.Identifier) &amp;&amp; match(':')) { lex(); if (Object.prototype.hasOwnProperty.call(state.labelSet, expr.name)) { throwError({}, Messages.Redeclaration, 'Label', expr.name); } state.labelSet[expr.name] = true; labeledBody = parseStatement(); delete state.labelSet[expr.name]; return { type: Syntax.LabeledStatement, label: expr, body: labeledBody }; } consumeSemicolon(); return { type: Syntax.ExpressionStatement, expression: expr }; } // 13 Function Definition function parseFunctionSourceElements() { var sourceElement, sourceElements = [], token, directive, firstRestricted, oldLabelSet, oldInIteration, oldInSwitch, oldInFunctionBody; expect('{'); while (index &lt; length) { token = lookahead(); if (token.type !== Token.StringLiteral) { break; } sourceElement = parseSourceElement(); sourceElements.push(sourceElement); if (sourceElement.expression.type !== Syntax.Literal) { // this is not directive break; } directive = sliceSource(token.range[0] + 1, token.range[1] - 1); if (directive === 'use strict') { strict = true; if (firstRestricted) { throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral); } } else { if (!firstRestricted &amp;&amp; token.octal) { firstRestricted = token; } } } oldLabelSet = state.labelSet; oldInIteration = state.inIteration; oldInSwitch = state.inSwitch; oldInFunctionBody = state.inFunctionBody; state.labelSet = {}; state.inIteration = false; state.inSwitch = false; state.inFunctionBody = true; while (index &lt; length) { if (match('}')) { break; } sourceElement = parseSourceElement(); if (typeof sourceElement === 'undefined') { break; } sourceElements.push(sourceElement); } expect('}'); state.labelSet = oldLabelSet; state.inIteration = oldInIteration; state.inSwitch = oldInSwitch; state.inFunctionBody = oldInFunctionBody; return { type: Syntax.BlockStatement, body: sourceElements }; } function parseFunctionDeclaration() { var id, param, params = [], body, token, stricted, firstRestricted, message, previousStrict, paramSet; expectKeyword('function'); token = lookahead(); id = parseVariableIdentifier(); if (strict) { if (isRestrictedWord(token.value)) { throwErrorTolerant(token, Messages.StrictFunctionName); } } else { if (isRestrictedWord(token.value)) { firstRestricted = token; message = Messages.StrictFunctionName; } else if (isStrictModeReservedWord(token.value)) { firstRestricted = token; message = Messages.StrictReservedWord; } } expect('('); if (!match(')')) { paramSet = {}; while (index &lt; length) { token = lookahead(); param = parseVariableIdentifier(); if (strict) { if (isRestrictedWord(token.value)) { stricted = token; message = Messages.StrictParamName; } if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) { stricted = token; message = Messages.StrictParamDupe; } } else if (!firstRestricted) { if (isRestrictedWord(token.value)) { firstRestricted = token; message = Messages.StrictParamName; } else if (isStrictModeReservedWord(token.value)) { firstRestricted = token; message = Messages.StrictReservedWord; } else if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) { firstRestricted = token; message = Messages.StrictParamDupe; } } params.push(param); paramSet[param.name] = true; if (match(')')) { break; } expect(','); } } expect(')'); previousStrict = strict; body = parseFunctionSourceElements(); if (strict &amp;&amp; firstRestricted) { throwError(firstRestricted, message); } if (strict &amp;&amp; stricted) { throwErrorTolerant(stricted, message); } strict = previousStrict; return { type: Syntax.FunctionDeclaration, id: id, params: params, defaults: [], body: body, rest: null, generator: false, expression: false }; } function parseFunctionExpression() { var token, id = null, stricted, firstRestricted, message, param, params = [], body, previousStrict, paramSet; expectKeyword('function'); if (!match('(')) { token = lookahead(); id = parseVariableIdentifier(); if (strict) { if (isRestrictedWord(token.value)) { throwErrorTolerant(token, Messages.StrictFunctionName); } } else { if (isRestrictedWord(token.value)) { firstRestricted = token; message = Messages.StrictFunctionName; } else if (isStrictModeReservedWord(token.value)) { firstRestricted = token; message = Messages.StrictReservedWord; } } } expect('('); if (!match(')')) { paramSet = {}; while (index &lt; length) { token = lookahead(); param = parseVariableIdentifier(); if (strict) { if (isRestrictedWord(token.value)) { stricted = token; message = Messages.StrictParamName; } if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) { stricted = token; message = Messages.StrictParamDupe; } } else if (!firstRestricted) { if (isRestrictedWord(token.value)) { firstRestricted = token; message = Messages.StrictParamName; } else if (isStrictModeReservedWord(token.value)) { firstRestricted = token; message = Messages.StrictReservedWord; } else if (Object.prototype.hasOwnProperty.call(paramSet, token.value)) { firstRestricted = token; message = Messages.StrictParamDupe; } } params.push(param); paramSet[param.name] = true; if (match(')')) { break; } expect(','); } } expect(')'); previousStrict = strict; body = parseFunctionSourceElements(); if (strict &amp;&amp; firstRestricted) { throwError(firstRestricted, message); } if (strict &amp;&amp; stricted) { throwErrorTolerant(stricted, message); } strict = previousStrict; return { type: Syntax.FunctionExpression, id: id, params: params, defaults: [], body: body, rest: null, generator: false, expression: false }; } // 14 Program function parseSourceElement() { var token = lookahead(); if (token.type === Token.Keyword) { switch (token.value) { case 'const': case 'let': return parseConstLetDeclaration(token.value); case 'function': return parseFunctionDeclaration(); default: return parseStatement(); } } if (token.type !== Token.EOF) { return parseStatement(); } } function parseSourceElements() { var sourceElement, sourceElements = [], token, directive, firstRestricted; while (index &lt; length) { token = lookahead(); if (token.type !== Token.StringLiteral) { break; } sourceElement = parseSourceElement(); sourceElements.push(sourceElement); if (sourceElement.expression.type !== Syntax.Literal) { // this is not directive break; } directive = sliceSource(token.range[0] + 1, token.range[1] - 1); if (directive === 'use strict') { strict = true; if (firstRestricted) { throwErrorTolerant(firstRestricted, Messages.StrictOctalLiteral); } } else { if (!firstRestricted &amp;&amp; token.octal) { firstRestricted = token; } } } while (index &lt; length) { sourceElement = parseSourceElement(); if (typeof sourceElement === 'undefined') { break; } sourceElements.push(sourceElement); } return sourceElements; } function parseProgram() { var program; strict = false; program = { type: Syntax.Program, body: parseSourceElements() }; return program; } // The following functions are needed only when the option to preserve // the comments is active. function addComment(type, value, start, end, loc) { assert(typeof start === 'number', 'Comment must have valid position'); // Because the way the actual token is scanned, often the comments // (if any) are skipped twice during the lexical analysis. // Thus, we need to skip adding a comment if the comment array already // handled it. if (extra.comments.length &gt; 0) { if (extra.comments[extra.comments.length - 1].range[1] &gt; start) { return; } } extra.comments.push({ type: type, value: value, range: [start, end], loc: loc }); } function scanComment() { var comment, ch, loc, start, blockComment, lineComment; comment = ''; blockComment = false; lineComment = false; while (index &lt; length) { ch = source[index]; if (lineComment) { ch = source[index++]; if (isLineTerminator(ch)) { loc.end = { line: lineNumber, column: index - lineStart - 1 }; lineComment = false; addComment('Line', comment, start, index - 1, loc); if (ch === '\\r' &amp;&amp; source[index] === '\\n') { ++index; } ++lineNumber; lineStart = index; comment = ''; } else if (index &gt;= length) { lineComment = false; comment += ch; loc.end = { line: lineNumber, column: length - lineStart }; addComment('Line', comment, start, length, loc); } else { comment += ch; } } else if (blockComment) { if (isLineTerminator(ch)) { if (ch === '\\r' &amp;&amp; source[index + 1] === '\\n') { ++index; comment += '\\r\\n'; } else { comment += ch; } ++lineNumber; ++index; lineStart = index; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } else { ch = source[index++]; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } comment += ch; if (ch === '*') { ch = source[index]; if (ch === '/') { comment = comment.substr(0, comment.length - 1); blockComment = false; ++index; loc.end = { line: lineNumber, column: index - lineStart }; addComment('Block', comment, start, index, loc); comment = ''; } } } } else if (ch === '/') { ch = source[index + 1]; if (ch === '/') { loc = { start: { line: lineNumber, column: index - lineStart } }; start = index; index += 2; lineComment = true; if (index &gt;= length) { loc.end = { line: lineNumber, column: index - lineStart }; lineComment = false; addComment('Line', comment, start, index, loc); } } else if (ch === '*') { start = index; index += 2; blockComment = true; loc = { start: { line: lineNumber, column: index - lineStart - 2 } }; if (index &gt;= length) { throwError({}, Messages.UnexpectedToken, 'ILLEGAL'); } } else { break; } } else if (isWhiteSpace(ch)) { ++index; } else if (isLineTerminator(ch)) { ++index; if (ch === '\\r' &amp;&amp; source[index] === '\\n') { ++index; } ++lineNumber; lineStart = index; } else { break; } } } function filterCommentLocation() { var i, entry, comment, comments = []; for (i = 0; i &lt; extra.comments.length; ++i) { entry = extra.comments[i]; comment = { type: entry.type, value: entry.value }; if (extra.range) { comment.range = entry.range; } if (extra.loc) { comment.loc = entry.loc; } comments.push(comment); } extra.comments = comments; } function collectToken() { var start, loc, token, range, value; skipComment(); start = index; loc = { start: { line: lineNumber, column: index - lineStart } }; token = extra.advance(); loc.end = { line: lineNumber, column: index - lineStart }; if (token.type !== Token.EOF) { range = [token.range[0], token.range[1]]; value = sliceSource(token.range[0], token.range[1]); extra.tokens.push({ type: TokenName[token.type], value: value, range: range, loc: loc }); } return token; } function collectRegex() { var pos, loc, regex, token; skipComment(); pos = index; loc = { start: { line: lineNumber, column: index - lineStart } }; regex = extra.scanRegExp(); loc.end = { line: lineNumber, column: index - lineStart }; // Pop the previous token, which is likely '/' or '/=' if (extra.tokens.length &gt; 0) { token = extra.tokens[extra.tokens.length - 1]; if (token.range[0] === pos &amp;&amp; token.type === 'Punctuator') { if (token.value === '/' || token.value === '/=') { extra.tokens.pop(); } } } extra.tokens.push({ type: 'RegularExpression', value: regex.literal, range: [pos, index], loc: loc }); return regex; } function filterTokenLocation() { var i, entry, token, tokens = []; for (i = 0; i &lt; extra.tokens.length; ++i) { entry = extra.tokens[i]; token = { type: entry.type, value: entry.value }; if (extra.range) { token.range = entry.range; } if (extra.loc) { token.loc = entry.loc; } tokens.push(token); } extra.tokens = tokens; } function createLiteral(token) { return { type: Syntax.Literal, value: token.value }; } function createRawLiteral(token) { return { type: Syntax.Literal, value: token.value, raw: sliceSource(token.range[0], token.range[1]) }; } function createLocationMarker() { var marker = {}; marker.range = [index, index]; marker.loc = { start: { line: lineNumber, column: index - lineStart }, end: { line: lineNumber, column: index - lineStart } }; marker.end = function () { this.range[1] = index; this.loc.end.line = lineNumber; this.loc.end.column = index - lineStart; }; marker.applyGroup = function (node) { if (extra.range) { node.groupRange = [this.range[0], this.range[1]]; } if (extra.loc) { node.groupLoc = { start: { line: this.loc.start.line, column: this.loc.start.column }, end: { line: this.loc.end.line, column: this.loc.end.column } }; } }; marker.apply = function (node) { if (extra.range) { node.range = [this.range[0], this.range[1]]; } if (extra.loc) { node.loc = { start: { line: this.loc.start.line, column: this.loc.start.column }, end: { line: this.loc.end.line, column: this.loc.end.column } }; } }; return marker; } function trackGroupExpression() { var marker, expr; skipComment(); marker = createLocationMarker(); expect('('); expr = parseExpression(); expect(')'); marker.end(); marker.applyGroup(expr); return expr; } function trackLeftHandSideExpression() { var marker, expr; skipComment(); marker = createLocationMarker(); expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression(); while (match('.') || match('[')) { if (match('[')) { expr = { type: Syntax.MemberExpression, computed: true, object: expr, property: parseComputedMember() }; marker.end(); marker.apply(expr); } else { expr = { type: Syntax.MemberExpression, computed: false, object: expr, property: parseNonComputedMember() }; marker.end(); marker.apply(expr); } } return expr; } function trackLeftHandSideExpressionAllowCall() { var marker, expr; skipComment(); marker = createLocationMarker(); expr = matchKeyword('new') ? parseNewExpression() : parsePrimaryExpression(); while (match('.') || match('[') || match('(')) { if (match('(')) { expr = { type: Syntax.CallExpression, callee: expr, 'arguments': parseArguments() }; marker.end(); marker.apply(expr); } else if (match('[')) { expr = { type: Syntax.MemberExpression, computed: true, object: expr, property: parseComputedMember() }; marker.end(); marker.apply(expr); } else { expr = { type: Syntax.MemberExpression, computed: false, object: expr, property: parseNonComputedMember() }; marker.end(); marker.apply(expr); } } return expr; } function filterGroup(node) { var n, i, entry; n = (Object.prototype.toString.apply(node) === '[object Array]') ? [] : {}; for (i in node) { if (node.hasOwnProperty(i) &amp;&amp; i !== 'groupRange' &amp;&amp; i !== 'groupLoc') { entry = node[i]; if (entry === null || typeof entry !== 'object' || entry instanceof RegExp) { n[i] = entry; } else { n[i] = filterGroup(entry); } } } return n; } function wrapTrackingFunction(range, loc) { return function (parseFunction) { function isBinary(node) { return node.type === Syntax.LogicalExpression || node.type === Syntax.BinaryExpression; } function visit(node) { var start, end; if (isBinary(node.left)) { visit(node.left); } if (isBinary(node.right)) { visit(node.right); } if (range) { if (node.left.groupRange || node.right.groupRange) { start = node.left.groupRange ? node.left.groupRange[0] : node.left.range[0]; end = node.right.groupRange ? node.right.groupRange[1] : node.right.range[1]; node.range = [start, end]; } else if (typeof node.range === 'undefined') { start = node.left.range[0]; end = node.right.range[1]; node.range = [start, end]; } } if (loc) { if (node.left.groupLoc || node.right.groupLoc) { start = node.left.groupLoc ? node.left.groupLoc.start : node.left.loc.start; end = node.right.groupLoc ? node.right.groupLoc.end : node.right.loc.end; node.loc = { start: start, end: end }; } else if (typeof node.loc === 'undefined') { node.loc = { start: node.left.loc.start, end: node.right.loc.end }; } } } return function () { var marker, node; skipComment(); marker = createLocationMarker(); node = parseFunction.apply(null, arguments); marker.end(); if (range &amp;&amp; typeof node.range === 'undefined') { marker.apply(node); } if (loc &amp;&amp; typeof node.loc === 'undefined') { marker.apply(node); } if (isBinary(node)) { visit(node); } return node; }; }; } function patch() { var wrapTracking; if (extra.comments) { extra.skipComment = skipComment; skipComment = scanComment; } if (extra.raw) { extra.createLiteral = createLiteral; createLiteral = createRawLiteral; } if (extra.range || extra.loc) { extra.parseGroupExpression = parseGroupExpression; extra.parseLeftHandSideExpression = parseLeftHandSideExpression; extra.parseLeftHandSideExpressionAllowCall = parseLeftHandSideExpressionAllowCall; parseGroupExpression = trackGroupExpression; parseLeftHandSideExpression = trackLeftHandSideExpression; parseLeftHandSideExpressionAllowCall = trackLeftHandSideExpressionAllowCall; wrapTracking = wrapTrackingFunction(extra.range, extra.loc); extra.parseAdditiveExpression = parseAdditiveExpression; extra.parseAssignmentExpression = parseAssignmentExpression; extra.parseBitwiseANDExpression = parseBitwiseANDExpression; extra.parseBitwiseORExpression = parseBitwiseORExpression; extra.parseBitwiseXORExpression = parseBitwiseXORExpression; extra.parseBlock = parseBlock; extra.parseFunctionSourceElements = parseFunctionSourceElements; extra.parseCatchClause = parseCatchClause; extra.parseComputedMember = parseComputedMember; extra.parseConditionalExpression = parseConditionalExpression; extra.parseConstLetDeclaration = parseConstLetDeclaration; extra.parseEqualityExpression = parseEqualityExpression; extra.parseExpression = parseExpression; extra.parseForVariableDeclaration = parseForVariableDeclaration; extra.parseFunctionDeclaration = parseFunctionDeclaration; extra.parseFunctionExpression = parseFunctionExpression; extra.parseLogicalANDExpression = parseLogicalANDExpression; extra.parseLogicalORExpression = parseLogicalORExpression; extra.parseMultiplicativeExpression = parseMultiplicativeExpression; extra.parseNewExpression = parseNewExpression; extra.parseNonComputedProperty = parseNonComputedProperty; extra.parseObjectProperty = parseObjectProperty; extra.parseObjectPropertyKey = parseObjectPropertyKey; extra.parsePostfixExpression = parsePostfixExpression; extra.parsePrimaryExpression = parsePrimaryExpression; extra.parseProgram = parseProgram; extra.parsePropertyFunction = parsePropertyFunction; extra.parseRelationalExpression = parseRelationalExpression; extra.parseStatement = parseStatement; extra.parseShiftExpression = parseShiftExpression; extra.parseSwitchCase = parseSwitchCase; extra.parseUnaryExpression = parseUnaryExpression; extra.parseVariableDeclaration = parseVariableDeclaration; extra.parseVariableIdentifier = parseVariableIdentifier; parseAdditiveExpression = wrapTracking(extra.parseAdditiveExpression); parseAssignmentExpression = wrapTracking(extra.parseAssignmentExpression); parseBitwiseANDExpression = wrapTracking(extra.parseBitwiseANDExpression); parseBitwiseORExpression = wrapTracking(extra.parseBitwiseORExpression); parseBitwiseXORExpression = wrapTracking(extra.parseBitwiseXORExpression); parseBlock = wrapTracking(extra.parseBlock); parseFunctionSourceElements = wrapTracking(extra.parseFunctionSourceElements); parseCatchClause = wrapTracking(extra.parseCatchClause); parseComputedMember = wrapTracking(extra.parseComputedMember); parseConditionalExpression = wrapTracking(extra.parseConditionalExpression); parseConstLetDeclaration = wrapTracking(extra.parseConstLetDeclaration); parseEqualityExpression = wrapTracking(extra.parseEqualityExpression); parseExpression = wrapTracking(extra.parseExpression); parseForVariableDeclaration = wrapTracking(extra.parseForVariableDeclaration); parseFunctionDeclaration = wrapTracking(extra.parseFunctionDeclaration); parseFunctionExpression = wrapTracking(extra.parseFunctionExpression); parseLeftHandSideExpression = wrapTracking(parseLeftHandSideExpression); parseLogicalANDExpression = wrapTracking(extra.parseLogicalANDExpression); parseLogicalORExpression = wrapTracking(extra.parseLogicalORExpression); parseMultiplicativeExpression = wrapTracking(extra.parseMultiplicativeExpression); parseNewExpression = wrapTracking(extra.parseNewExpression); parseNonComputedProperty = wrapTracking(extra.parseNonComputedProperty); parseObjectProperty = wrapTracking(extra.parseObjectProperty); parseObjectPropertyKey = wrapTracking(extra.parseObjectPropertyKey); parsePostfixExpression = wrapTracking(extra.parsePostfixExpression); parsePrimaryExpression = wrapTracking(extra.parsePrimaryExpression); parseProgram = wrapTracking(extra.parseProgram); parsePropertyFunction = wrapTracking(extra.parsePropertyFunction); parseRelationalExpression = wrapTracking(extra.parseRelationalExpression); parseStatement = wrapTracking(extra.parseStatement); parseShiftExpression = wrapTracking(extra.parseShiftExpression); parseSwitchCase = wrapTracking(extra.parseSwitchCase); parseUnaryExpression = wrapTracking(extra.parseUnaryExpression); parseVariableDeclaration = wrapTracking(extra.parseVariableDeclaration); parseVariableIdentifier = wrapTracking(extra.parseVariableIdentifier); } if (typeof extra.tokens !== 'undefined') { extra.advance = advance; extra.scanRegExp = scanRegExp; advance = collectToken; scanRegExp = collectRegex; } } function unpatch() { if (typeof extra.skipComment === 'function') { skipComment = extra.skipComment; } if (extra.raw) { createLiteral = extra.createLiteral; } if (extra.range || extra.loc) { parseAdditiveExpression = extra.parseAdditiveExpression; parseAssignmentExpression = extra.parseAssignmentExpression; parseBitwiseANDExpression = extra.parseBitwiseANDExpression; parseBitwiseORExpression = extra.parseBitwiseORExpression; parseBitwiseXORExpression = extra.parseBitwiseXORExpression; parseBlock = extra.parseBlock; parseFunctionSourceElements = extra.parseFunctionSourceElements; parseCatchClause = extra.parseCatchClause; parseComputedMember = extra.parseComputedMember; parseConditionalExpression = extra.parseConditionalExpression; parseConstLetDeclaration = extra.parseConstLetDeclaration; parseEqualityExpression = extra.parseEqualityExpression; parseExpression = extra.parseExpression; parseForVariableDeclaration = extra.parseForVariableDeclaration; parseFunctionDeclaration = extra.parseFunctionDeclaration; parseFunctionExpression = extra.parseFunctionExpression; parseGroupExpression = extra.parseGroupExpression; parseLeftHandSideExpression = extra.parseLeftHandSideExpression; parseLeftHandSideExpressionAllowCall = extra.parseLeftHandSideExpressionAllowCall; parseLogicalANDExpression = extra.parseLogicalANDExpression; parseLogicalORExpression = extra.parseLogicalORExpression; parseMultiplicativeExpression = extra.parseMultiplicativeExpression; parseNewExpression = extra.parseNewExpression; parseNonComputedProperty = extra.parseNonComputedProperty; parseObjectProperty = extra.parseObjectProperty; parseObjectPropertyKey = extra.parseObjectPropertyKey; parsePrimaryExpression = extra.parsePrimaryExpression; parsePostfixExpression = extra.parsePostfixExpression; parseProgram = extra.parseProgram; parsePropertyFunction = extra.parsePropertyFunction; parseRelationalExpression = extra.parseRelationalExpression; parseStatement = extra.parseStatement; parseShiftExpression = extra.parseShiftExpression; parseSwitchCase = extra.parseSwitchCase; parseUnaryExpression = extra.parseUnaryExpression; parseVariableDeclaration = extra.parseVariableDeclaration; parseVariableIdentifier = extra.parseVariableIdentifier; } if (typeof extra.scanRegExp === 'function') { advance = extra.advance; scanRegExp = extra.scanRegExp; } } function stringToArray(str) { var length = str.length, result = [], i; for (i = 0; i &lt; length; ++i) { result[i] = str.charAt(i); } return result; } function parse(code, options) { var program, toString; toString = String; if (typeof code !== 'string' &amp;&amp; !(code instanceof String)) { code = toString(code); } source = code; index = 0; lineNumber = (source.length &gt; 0) ? 1 : 0; lineStart = 0; length = source.length; buffer = null; state = { allowIn: true, labelSet: {}, inFunctionBody: false, inIteration: false, inSwitch: false }; extra = {}; if (typeof options !== 'undefined') { extra.range = (typeof options.range === 'boolean') &amp;&amp; options.range; extra.loc = (typeof options.loc === 'boolean') &amp;&amp; options.loc; extra.raw = (typeof options.raw === 'boolean') &amp;&amp; options.raw; if (typeof options.tokens === 'boolean' &amp;&amp; options.tokens) { extra.tokens = []; } if (typeof options.comment === 'boolean' &amp;&amp; options.comment) { extra.comments = []; } if (typeof options.tolerant === 'boolean' &amp;&amp; options.tolerant) { extra.errors = []; } } if (length &gt; 0) { if (typeof source[0] === 'undefined') { // Try first to convert to a string. This is good as fast path // for old IE which understands string indexing for string // literals only and not for string object. if (code instanceof String) { source = code.valueOf(); } // Force accessing the characters via an array. if (typeof source[0] === 'undefined') { source = stringToArray(code); } } } patch(); try { program = parseProgram(); if (typeof extra.comments !== 'undefined') { filterCommentLocation(); program.comments = extra.comments; } if (typeof extra.tokens !== 'undefined') { filterTokenLocation(); program.tokens = extra.tokens; } if (typeof extra.errors !== 'undefined') { program.errors = extra.errors; } if (extra.range || extra.loc) { program.body = filterGroup(program.body); } } catch (e) { throw e; } finally { unpatch(); extra = {}; } return program; } // Sync with package.json. exports.version = '1.0.2'; exports.parse = parse; // Deep copy. exports.Syntax = (function () { var name, types = {}; if (typeof Object.create === 'function') { types = Object.create(null); } for (name in Syntax) { if (Syntax.hasOwnProperty(name)) { types[name] = Syntax[name]; } } if (typeof Object.freeze === 'function') { Object.freeze(types); } return types; }()); })); /* vim: set sw=4 ts=4 et tw=80 : */ })(null); (function (require, module) { var parse = require('esprima').parse; var objectKeys = Object.keys || function (obj) { var keys = []; for (var key in obj) keys.push(key); return keys; }; var forEach = function (xs, fn) { if (xs.forEach) return xs.forEach(fn); for (var i = 0; i &lt; xs.length; i++) { fn.call(xs, xs[i], i, xs); } }; var isArray = Array.isArray || function (xs) { return Object.prototype.toString.call(xs) === '[object Array]'; }; module.exports = function (src, opts, fn) { if (typeof opts === 'function') { fn = opts; opts = {}; } if (typeof src === 'object') { opts = src; src = opts.source; delete opts.source; } src = src === undefined ? opts.source : src; opts.range = true; if (typeof src !== 'string') src = String(src); var ast = parse(src, opts); var result = { chunks: src.split(''), toString: function () { return result.chunks.join('') }, inspect: function () { return result.toString() } }; var index = 0; (function walk(node, parent) { insertHelpers(node, parent, result.chunks); forEach(objectKeys(node), function (key) { if (key === 'parent') return; var child = node[key]; if (isArray(child)) { forEach(child, function (c) { if (c &amp;&amp; typeof c.type === 'string') { walk(c, node); } }); } else if (child &amp;&amp; typeof child.type === 'string') { insertHelpers(child, node, result.chunks); walk(child, node); } }); fn(node); })(ast, undefined); return result; }; function insertHelpers(node, parent, chunks) { if (!node.range) return; node.parent = parent; node.source = function () { return chunks.slice( node.range[0], node.range[1] ).join(''); }; if (node.update &amp;&amp; typeof node.update === 'object') { var prev = node.update; forEach(objectKeys(prev), function (key) { update[key] = prev[key]; }); node.update = update; } else { node.update = update; } function update(s) { chunks[node.range[0]] = s; for (var i = node.range[0] + 1; i &lt; node.range[1]; i++) { chunks[i] = ''; } }; } window.falafel = module.exports; })(function () { return {parse: esprima.parse}; }, {exports: {}}); var inBrowser = typeof window !== 'undefined' &amp;&amp; this === window; var parseAndModify = (inBrowser ? window.falafel : require(&quot;falafel&quot;)); (inBrowser ? window : exports).blanket = (function () { var linesToAddTracking = [ &quot;ExpressionStatement&quot;, &quot;BreakStatement&quot;, &quot;ContinueStatement&quot;, &quot;VariableDeclaration&quot;, &quot;ReturnStatement&quot;, &quot;ThrowStatement&quot;, &quot;TryStatement&quot;, &quot;FunctionDeclaration&quot;, &quot;IfStatement&quot;, &quot;WhileStatement&quot;, &quot;DoWhileStatement&quot;, &quot;ForStatement&quot;, &quot;ForInStatement&quot;, &quot;SwitchStatement&quot;, &quot;WithStatement&quot; ], linesToAddBrackets = [ &quot;IfStatement&quot;, &quot;WhileStatement&quot;, &quot;DoWhileStatement&quot;, &quot;ForStatement&quot;, &quot;ForInStatement&quot;, &quot;WithStatement&quot; ], __blanket, copynumber = Math.floor(Math.random() * 1000), coverageInfo = {}, options = { reporter: null, adapter: null, filter: null, customVariable: null, loader: null, ignoreScriptError: false, existingRequireJS: false, autoStart: false, timeout: 180, ignoreCors: false, branchTracking: false, sourceURL: false, debug: false, engineOnly: false, testReadyCallback: null, commonJS: false, instrumentCache: false, modulePattern: null }; if (inBrowser &amp;&amp; typeof window.blanket !== 'undefined') { __blanket = window.blanket.noConflict(); } _blanket = { noConflict: function () { if (__blanket) { return __blanket; } return _blanket; }, _getCopyNumber: function () { //internal method //for differentiating between instances return copynumber; }, extend: function (obj) { //borrowed from underscore _blanket._extend(_blanket, obj); }, _extend: function (dest, source) { if (source) { for (var prop in source) { if (dest[prop] instanceof Object &amp;&amp; typeof dest[prop] !== &quot;function&quot;) { _blanket._extend(dest[prop], source[prop]); } else { dest[prop] = source[prop]; } } } }, getCovVar: function () { var opt = _blanket.options(&quot;customVariable&quot;); if (opt) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Using custom tracking variable:&quot;, opt); } return inBrowser ? &quot;window.&quot; + opt : opt; } return inBrowser ? &quot;window._$blanket&quot; : &quot;_$jscoverage&quot;; }, options: function (key, value) { if (typeof key !== &quot;string&quot;) { _blanket._extend(options, key); } else if (typeof value === 'undefined') { return options[key]; } else { options[key] = value; } }, instrument: function (config, next) { //check instrumented hash table, //return instrumented code if available. var inFile = config.inputFile, inFileName = config.inputFileName; //check instrument cache if (_blanket.options(&quot;instrumentCache&quot;) &amp;&amp; sessionStorage &amp;&amp; sessionStorage.getItem(&quot;blanket_instrument_store-&quot; + inFileName)) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Reading instrumentation from cache: &quot;, inFileName); } next(sessionStorage.getItem(&quot;blanket_instrument_store-&quot; + inFileName)); } else { var sourceArray = _blanket._prepareSource(inFile); _blanket._trackingArraySetup = []; var instrumented = parseAndModify(inFile, { loc: true, comment: true }, _blanket._addTracking(inFileName)); instrumented = _blanket._trackingSetup(inFileName, sourceArray) + instrumented; if (_blanket.options(&quot;sourceURL&quot;)) { instrumented += &quot;\\n//@ sourceURL=&quot; + inFileName.replace(&quot;http://&quot;, &quot;&quot;); } if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Instrumented file: &quot;, inFileName); } if (_blanket.options(&quot;instrumentCache&quot;) &amp;&amp; sessionStorage) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Saving instrumentation to cache: &quot;, inFileName); } sessionStorage.setItem(&quot;blanket_instrument_store-&quot; + inFileName, instrumented); } next(instrumented); } }, _trackingArraySetup: [], _branchingArraySetup: [], _prepareSource: function (source) { return source.replace(/\\\\/g, &quot;\\\\\\\\&quot;).replace(/'/g, &quot;\\\\'&quot;).replace(/(\\r\\n|\\n|\\r)/gm, &quot;\\n&quot;).split('\\n'); }, _trackingSetup: function (filename, sourceArray) { var branches = _blanket.options(&quot;branchTracking&quot;); var sourceString = sourceArray.join(&quot;',\\n'&quot;); var intro = &quot;&quot;; var covVar = _blanket.getCovVar(); intro += &quot;if (typeof &quot; + covVar + &quot; === 'undefined') &quot; + covVar + &quot; = {};\\n&quot;; if (branches) { intro += &quot;var _$branchFcn=function(f,l,c,r){ &quot;; intro += &quot;if (!!r) { &quot;; intro += covVar + &quot;[f].branchData[l][c][0] = &quot; + covVar + &quot;[f].branchData[l][c][0] || [];&quot;; intro += covVar + &quot;[f].branchData[l][c][0].push(r); }&quot;; intro += &quot;else { &quot;; intro += covVar + &quot;[f].branchData[l][c][1] = &quot; + covVar + &quot;[f].branchData[l][c][1] || [];&quot;; intro += covVar + &quot;[f].branchData[l][c][1].push(r); }&quot;; intro += &quot;return r;};\\n&quot;; } intro += &quot;if (typeof &quot; + covVar + &quot;['&quot; + filename + &quot;'] === 'undefined'){&quot;; intro += covVar + &quot;['&quot; + filename + &quot;']=[];\\n&quot;; if (branches) { intro += covVar + &quot;['&quot; + filename + &quot;'].branchData=[];\\n&quot;; } intro += covVar + &quot;['&quot; + filename + &quot;'].source=['&quot; + sourceString + &quot;'];\\n&quot;; //initialize array values _blanket._trackingArraySetup.sort(function (a, b) { return parseInt(a, 10) &gt; parseInt(b, 10); }).forEach(function (item) { intro += covVar + &quot;['&quot; + filename + &quot;'][&quot; + item + &quot;]=0;\\n&quot;; }); if (branches) { _blanket._branchingArraySetup.sort(function (a, b) { return a.line &gt; b.line; }).sort(function (a, b) { return a.column &gt; b.column; }).forEach(function (item) { if (item.file === filename) { intro += &quot;if (typeof &quot; + covVar + &quot;['&quot; + filename + &quot;'].branchData[&quot; + item.line + &quot;] === 'undefined'){\\n&quot;; intro += covVar + &quot;['&quot; + filename + &quot;'].branchData[&quot; + item.line + &quot;]=[];\\n&quot;; intro += &quot;}&quot;; intro += covVar + &quot;['&quot; + filename + &quot;'].branchData[&quot; + item.line + &quot;][&quot; + item.column + &quot;] = [];\\n&quot;; intro += covVar + &quot;['&quot; + filename + &quot;'].branchData[&quot; + item.line + &quot;][&quot; + item.column + &quot;].consequent = &quot; + JSON.stringify(item.consequent) + &quot;;\\n&quot;; intro += covVar + &quot;['&quot; + filename + &quot;'].branchData[&quot; + item.line + &quot;][&quot; + item.column + &quot;].alternate = &quot; + JSON.stringify(item.alternate) + &quot;;\\n&quot;; } }); } intro += &quot;}&quot;; return intro; }, _blockifyIf: function (node) { if (linesToAddBrackets.indexOf(node.type) &gt; -1) { var bracketsExistObject = node.consequent || node.body; var bracketsExistAlt = node.alternate; if (bracketsExistAlt &amp;&amp; bracketsExistAlt.type !== &quot;BlockStatement&quot;) { bracketsExistAlt.update(&quot;{\\n&quot; + bracketsExistAlt.source() + &quot;}\\n&quot;); } if (bracketsExistObject &amp;&amp; bracketsExistObject.type !== &quot;BlockStatement&quot;) { bracketsExistObject.update(&quot;{\\n&quot; + bracketsExistObject.source() + &quot;}\\n&quot;); } } }, _trackBranch: function (node, filename) { //recursive on consequent and alternative var line = node.loc.start.line; var col = node.loc.start.column; _blanket._branchingArraySetup.push({ line: line, column: col, file: filename, consequent: node.consequent.loc, alternate: node.alternate.loc }); var source = node.source(); var updated = &quot;_$branchFcn&quot; + &quot;('&quot; + filename + &quot;',&quot; + line + &quot;,&quot; + col + &quot;,&quot; + source.slice(0, source.indexOf(&quot;?&quot;)) + &quot;)&quot; + source.slice(source.indexOf(&quot;?&quot;)); node.update(updated); }, _addTracking: function (filename) { //falafel doesn't take a file name //so we include the filename in a closure //and return the function to falafel var covVar = _blanket.getCovVar(); return function (node) { _blanket._blockifyIf(node); if (linesToAddTracking.indexOf(node.type) &gt; -1 &amp;&amp; node.parent.type !== &quot;LabeledStatement&quot;) { _blanket._checkDefs(node, filename); if (node.type === &quot;VariableDeclaration&quot; &amp;&amp; (node.parent.type === &quot;ForStatement&quot; || node.parent.type === &quot;ForInStatement&quot;)) { return; } if (node.loc &amp;&amp; node.loc.start) { node.update(covVar + &quot;['&quot; + filename + &quot;'][&quot; + node.loc.start.line + &quot;]++;\\n&quot; + node.source()); _blanket._trackingArraySetup.push(node.loc.start.line); } else { //I don't think we can handle a node with no location throw new Error(&quot;The instrumenter encountered a node with no location: &quot; + Object.keys(node)); } } else if (_blanket.options(&quot;branchTracking&quot;) &amp;&amp; node.type === &quot;ConditionalExpression&quot;) { _blanket._trackBranch(node, filename); } }; }, _checkDefs: function (node, filename) { // Make sure developers don't redefine window. if they do, inform them it is wrong. if (inBrowser) { if (node.type === &quot;VariableDeclaration&quot; &amp;&amp; node.declarations) { node.declarations.forEach(function (declaration) { if (declaration.id.name === &quot;window&quot;) { throw new Error(&quot;Instrumentation error, you cannot redefine the 'window' variable in &quot; + filename + &quot;:&quot; + node.loc.start.line); } }); } if (node.type === &quot;FunctionDeclaration&quot; &amp;&amp; node.params) { node.params.forEach(function (param) { if (param.name === &quot;window&quot;) { throw new Error(&quot;Instrumentation error, you cannot redefine the 'window' variable in &quot; + filename + &quot;:&quot; + node.loc.start.line); } }); } //Make sure developers don't redefine the coverage variable if (node.type === &quot;ExpressionStatement&quot; &amp;&amp; node.expression &amp;&amp; node.expression.left &amp;&amp; node.expression.left.object &amp;&amp; node.expression.left.property &amp;&amp; node.expression.left.object.name + &quot;.&quot; + node.expression.left.property.name === _blanket.getCovVar()) { throw new Error(&quot;Instrumentation error, you cannot redefine the coverage variable in &quot; + filename + &quot;:&quot; + node.loc.start.line); } } else { //Make sure developers don't redefine the coverage variable in node if (node.type === &quot;ExpressionStatement&quot; &amp;&amp; node.expression &amp;&amp; node.expression.left &amp;&amp; !node.expression.left.object &amp;&amp; !node.expression.left.property &amp;&amp; node.expression.left.name === _blanket.getCovVar()) { throw new Error(&quot;Instrumentation error, you cannot redefine the coverage variable in &quot; + filename + &quot;:&quot; + node.loc.start.line); } } }, setupCoverage: function () { coverageInfo.instrumentation = &quot;blanket&quot;; coverageInfo.stats = { &quot;suites&quot;: 0, &quot;tests&quot;: 0, &quot;passes&quot;: 0, &quot;pending&quot;: 0, &quot;failures&quot;: 0, &quot;start&quot;: new Date() }; }, _checkIfSetup: function () { if (!coverageInfo.stats) { throw new Error(&quot;You must call blanket.setupCoverage() first.&quot;); } }, onTestStart: function () { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Test event started&quot;); } this._checkIfSetup(); coverageInfo.stats.tests++; coverageInfo.stats.pending++; }, onTestDone: function (total, passed) { this._checkIfSetup(); if (passed === total) { coverageInfo.stats.passes++; } else { coverageInfo.stats.failures++; } coverageInfo.stats.pending--; }, onModuleStart: function () { this._checkIfSetup(); coverageInfo.stats.suites++; }, onTestsDone: function () { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Test event done&quot;); } this._checkIfSetup(); coverageInfo.stats.end = new Date(); if (inBrowser) { this.report(coverageInfo); } else { if (!_blanket.options(&quot;branchTracking&quot;)) { delete (inBrowser ? window : global)[_blanket.getCovVar()].branchFcn; } this.options(&quot;reporter&quot;).call(this, coverageInfo); } } }; return _blanket; })(); (function (_blanket) { var oldOptions = _blanket.options; _blanket.extend({ outstandingRequireFiles: [], options: function (key, value) { var newVal = {}; if (typeof key !== &quot;string&quot;) { //key is key/value map oldOptions(key); newVal = key; } else if (typeof value === 'undefined') { //accessor return oldOptions(key); } else { //setter oldOptions(key, value); newVal[key] = value; } if (newVal.adapter) { _blanket._loadFile(newVal.adapter); } if (newVal.loader) { _blanket._loadFile(newVal.loader); } }, requiringFile: function (filename, done) { if (typeof filename === &quot;undefined&quot;) { _blanket.outstandingRequireFiles = []; } else if (typeof done === &quot;undefined&quot;) { _blanket.outstandingRequireFiles.push(filename); } else { _blanket.outstandingRequireFiles.splice(_blanket.outstandingRequireFiles.indexOf(filename), 1); } }, requireFilesLoaded: function () { return _blanket.outstandingRequireFiles.length === 0; }, showManualLoader: function () { if (document.getElementById(&quot;blanketLoaderDialog&quot;)) { return; } //copied from http://blog.avtex.com/2012/01/26/cross-browser-css-only-modal-box/ var loader = &quot;&lt;div class='blanketDialogOverlay'&gt;&quot;; loader += &quot;&amp;nbsp;&lt;/div&gt;&quot;; loader += &quot;&lt;div class='blanketDialogVerticalOffset'&gt;&quot;; loader += &quot;&lt;div class='blanketDialogBox'&gt;&quot;; loader += &quot;&lt;b&gt;Error:&lt;/b&gt; Blanket.js encountered a cross origin request error while instrumenting the source files. &quot;; loader += &quot;&lt;br&gt;&lt;br&gt;This is likely caused by the source files being referenced locally (using the file:// protocol). &quot;; loader += &quot;&lt;br&gt;&lt;br&gt;Some solutions include &lt;a href='http://askubuntu.com/questions/160245/making-google-chrome-option-allow-file-access-from-files-permanent' target='_blank'&gt;starting Chrome with special flags&lt;/a&gt;, &lt;a target='_blank' href='https://github.com/remy/servedir'&gt;running a server locally&lt;/a&gt;, or using a browser without these CORS restrictions (Safari).&quot;; loader += &quot;&lt;br&gt;&quot;; if (typeof FileReader !== &quot;undefined&quot;) { loader += &quot;&lt;br&gt;Or, try the experimental loader. When prompted, simply click on the directory containing all the source files you want covered.&quot;; loader += &quot;&lt;a href='javascript:document.getElementById(\\&quot;fileInput\\&quot;).click();'&gt;Start Loader&lt;/a&gt;&quot;; loader += &quot;&lt;input type='file' type='application/x-javascript' accept='application/x-javascript' webkitdirectory id='fileInput' multiple onchange='window.blanket.manualFileLoader(this.files)' style='visibility:hidden;position:absolute;top:-50;left:-50'/&gt;&quot;; } loader += &quot;&lt;br&gt;&lt;span style='float:right;cursor:pointer;' onclick=document.getElementById('blanketLoaderDialog').style.display='none';&gt;Close&lt;/span&gt;&quot;; loader += &quot;&lt;div style='clear:both'&gt;&lt;/div&gt;&quot;; loader += &quot;&lt;/div&gt;&lt;/div&gt;&quot;; var css = &quot;.blanketDialogWrapper {&quot;; css += &quot;display:block;&quot;; css += &quot;position:fixed;&quot;; css += &quot;z-index:40001; }&quot;; css += &quot;.blanketDialogOverlay {&quot;; css += &quot;position:fixed;&quot;; css += &quot;width:100%;&quot;; css += &quot;height:100%;&quot;; css += &quot;background-color:black;&quot;; css += &quot;opacity:.5; &quot;; css += &quot;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)'; &quot;; css += &quot;filter:alpha(opacity=50); &quot;; css += &quot;z-index:40001; }&quot;; css += &quot;.blanketDialogVerticalOffset { &quot;; css += &quot;position:fixed;&quot;; css += &quot;top:30%;&quot;; css += &quot;width:100%;&quot;; css += &quot;z-index:40002; }&quot;; css += &quot;.blanketDialogBox { &quot;; css += &quot;width:405px; &quot;; css += &quot;position:relative;&quot;; css += &quot;margin:0 auto;&quot;; css += &quot;background-color:white;&quot;; css += &quot;padding:10px;&quot;; css += &quot;border:1px solid black; }&quot;; var dom = document.createElement(&quot;style&quot;); dom.innerHTML = css; document.head.appendChild(dom); var div = document.createElement(&quot;div&quot;); div.id = &quot;blanketLoaderDialog&quot;; div.className = &quot;blanketDialogWrapper&quot;; div.innerHTML = loader; document.body.insertBefore(div, document.body.firstChild); }, manualFileLoader: function (files) { var toArray = Array.prototype.slice; files = toArray.call(files).filter(function (item) { return item.type !== &quot;&quot;; }); var sessionLength = files.length - 1; var sessionIndx = 0; var sessionArray = {}; if (sessionStorage[&quot;blanketSessionLoader&quot;]) { sessionArray = JSON.parse(sessionStorage[&quot;blanketSessionLoader&quot;]); } var fileLoader = function (event) { var fileContent = event.currentTarget.result; var file = files[sessionIndx]; var filename = file.webkitRelativePath &amp;&amp; file.webkitRelativePath !== '' ? file.webkitRelativePath : file.name; sessionArray[filename] = fileContent; sessionIndx++; if (sessionIndx === sessionLength) { sessionStorage.setItem(&quot;blanketSessionLoader&quot;, JSON.stringify(sessionArray)); document.location.reload(); } else { readFile(files[sessionIndx]); } }; function readFile(file) { var reader = new FileReader(); reader.onload = fileLoader; reader.readAsText(file); } readFile(files[sessionIndx]); }, _loadFile: function (path) { if (typeof path !== &quot;undefined&quot;) { var request = new XMLHttpRequest(); request.open('GET', path, false); request.send(); _blanket._addScript(request.responseText); } }, _addScript: function (data) { var script = document.createElement(&quot;script&quot;); script.type = &quot;text/javascript&quot;; script.text = data; (document.body || document.getElementsByTagName('head')[0]).appendChild(script); }, hasAdapter: function (callback) { return _blanket.options(&quot;adapter&quot;) !== null; }, report: function (coverage_data) { if (!document.getElementById(&quot;blanketLoaderDialog&quot;)) { //all found, clear it _blanket.blanketSession = null; } coverage_data.files = window._$blanket; var require = blanket.options(&quot;commonJS&quot;) ? blanket._commonjs.require : window.require; // Check if we have any covered files that requires reporting // otherwise just exit gracefully. if (!coverage_data.files || !Object.keys(coverage_data.files).length) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Reporting No files were instrumented.&quot;); } return; } if (typeof coverage_data.files.branchFcn !== &quot;undefined&quot;) { delete coverage_data.files.branchFcn; } if (typeof _blanket.options(&quot;reporter&quot;) === &quot;string&quot;) { _blanket._loadFile(_blanket.options(&quot;reporter&quot;)); _blanket.customReporter(coverage_data, _blanket.options(&quot;reporter_options&quot;)); } else if (typeof _blanket.options(&quot;reporter&quot;) === &quot;function&quot;) { _blanket.options(&quot;reporter&quot;)(coverage_data); } else if (typeof _blanket.defaultReporter === 'function') { _blanket.defaultReporter(coverage_data); } else { throw new Error(&quot;no reporter defined.&quot;); } }, _bindStartTestRunner: function (bindEvent, startEvent) { if (bindEvent) { bindEvent(startEvent); } else { window.addEventListener(&quot;load&quot;, startEvent, false); } }, _loadSourceFiles: function (callback) { var require = blanket.options(&quot;commonJS&quot;) ? blanket._commonjs.require : window.require; function copy(o) { var _copy = Object.create(Object.getPrototypeOf(o)); var propNames = Object.getOwnPropertyNames(o); propNames.forEach(function (name) { var desc = Object.getOwnPropertyDescriptor(o, name); Object.defineProperty(_copy, name, desc); }); return _copy; } if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Collecting page scripts&quot;); } var scripts = _blanket.utils.collectPageScripts(); //_blanket.options(&quot;filter&quot;,scripts); if (scripts.length === 0) { callback(); } else { //check session state if (sessionStorage[&quot;blanketSessionLoader&quot;]) { _blanket.blanketSession = JSON.parse(sessionStorage[&quot;blanketSessionLoader&quot;]); } scripts.forEach(function (file, indx) { _blanket.utils.cache[file + &quot;.js&quot;] = { loaded: false }; }); var currScript = -1; _blanket.utils.loadAll(function (test) { if (test) { return typeof scripts[currScript + 1] !== 'undefined'; } currScript++; if (currScript &gt;= scripts.length) { return null; } return scripts[currScript] + &quot;.js&quot;; }, callback); } }, beforeStartTestRunner: function (opts) { opts = opts || {}; opts.checkRequirejs = typeof opts.checkRequirejs === &quot;undefined&quot; ? true : opts.checkRequirejs; opts.callback = opts.callback || function () { }; opts.coverage = typeof opts.coverage === &quot;undefined&quot; ? true : opts.coverage; if (opts.coverage) { _blanket._bindStartTestRunner(opts.bindEvent, function () { _blanket._loadSourceFiles(function () { var allLoaded = function () { return opts.condition ? opts.condition() : _blanket.requireFilesLoaded(); }; var check = function () { if (allLoaded()) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-All files loaded, init start test runner callback.&quot;); } var cb = _blanket.options(&quot;testReadyCallback&quot;); if (cb) { if (typeof cb === &quot;function&quot;) { cb(opts.callback); } else if (typeof cb === &quot;string&quot;) { _blanket._addScript(cb); opts.callback(); } } else { opts.callback(); } } else { setTimeout(check, 13); } }; check(); }); }); } else { opts.callback(); } }, utils: { qualifyURL: function (url) { //http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue var a = document.createElement('a'); a.href = url; return a.href; } } }); })(blanket); blanket.defaultReporter = function (coverage) { var cssSytle = &quot;#blanket-main {margin:2px;background:#EEE;color:#333;clear:both;font-family:'Helvetica Neue Light', 'HelveticaNeue-Light', 'Helvetica Neue', Calibri, Helvetica, Arial, sans-serif; font-size:17px;} #blanket-main a {color:#333;text-decoration:none;} #blanket-main a:hover {text-decoration:underline;} .blanket {margin:0;padding:5px;clear:both;border-bottom: 1px solid #FFFFFF;} .bl-error {color:red;}.bl-success {color:#5E7D00;} .bl-file{width:auto;} .bl-cl{float:left;} .blanket div.rs {margin-left:50px; width:150px; float:right} .bl-nb {padding-right:10px;} #blanket-main a.bl-logo {color: #EB1764;cursor: pointer;font-weight: bold;text-decoration: none} .bl-source{ overflow-x:scroll; background-color: #FFFFFF; border: 1px solid #CBCBCB; color: #363636; margin: 25px 20px; width: 80%;} .bl-source div{white-space: pre;font-family: monospace;} .bl-source &gt; div &gt; span:first-child{background-color: #EAEAEA;color: #949494;display: inline-block;padding: 0 10px;text-align: center;width: 30px;} .bl-source .miss{background-color:#e6c3c7} .bl-source span.branchWarning{color:#000;background-color:yellow;} .bl-source span.branchOkay{color:#000;background-color:transparent;}&quot;, successRate = 60, head = document.head, fileNumber = 0, body = document.body, headerContent, hasBranchTracking = Object.keys(coverage.files).some(function (elem) { return typeof coverage.files[elem].branchData !== 'undefined'; }), bodyContent = &quot;&lt;div id='blanket-main'&gt;&lt;div class='blanket bl-title'&gt;&lt;div class='bl-cl bl-file'&gt;&lt;a href='http://alex-seville.github.com/blanket/' target='_blank' class='bl-logo'&gt;Blanket.js&lt;/a&gt; results&lt;/div&gt;&lt;div class='bl-cl rs'&gt;Coverage (%)&lt;/div&gt;&lt;div class='bl-cl rs'&gt;Covered/Total Smts.&lt;/div&gt;&quot; + (hasBranchTracking ? &quot;&lt;div class='bl-cl rs'&gt;Covered/Total Branches&lt;/div&gt;&quot; : &quot;&quot;) + &quot;&lt;div style='clear:both;'&gt;&lt;/div&gt;&lt;/div&gt;&quot;, fileTemplate = &quot;&lt;div class='blanket {{statusclass}}'&gt;&lt;div class='bl-cl bl-file'&gt;&lt;span class='bl-nb'&gt;{{fileNumber}}.&lt;/span&gt;&lt;a href='javascript:blanket_toggleSource(\\&quot;file-{{fileNumber}}\\&quot;)'&gt;{{file}}&lt;/a&gt;&lt;/div&gt;&lt;div class='bl-cl rs'&gt;{{percentage}} %&lt;/div&gt;&lt;div class='bl-cl rs'&gt;{{numberCovered}}/{{totalSmts}}&lt;/div&gt;&quot; + ( hasBranchTracking ? &quot;&lt;div class='bl-cl rs'&gt;{{passedBranches}}/{{totalBranches}}&lt;/div&gt;&quot; : &quot;&quot; ) + &quot;&lt;div id='file-{{fileNumber}}' class='bl-source' style='display:none;'&gt;{{source}}&lt;/div&gt;&lt;div style='clear:both;'&gt;&lt;/div&gt;&lt;/div&gt;&quot;; grandTotalTemplate = &quot;&lt;div class='blanket grand-total {{statusclass}}'&gt;&lt;div class='bl-cl'&gt;{{rowTitle}}&lt;/div&gt;&lt;div class='bl-cl rs'&gt;{{percentage}} %&lt;/div&gt;&lt;div class='bl-cl rs'&gt;{{numberCovered}}/{{totalSmts}}&lt;/div&gt;&quot; + ( hasBranchTracking ? &quot;&lt;div class='bl-cl rs'&gt;{{passedBranches}}/{{totalBranches}}&lt;/div&gt;&quot; : &quot;&quot; ) + &quot;&lt;div style='clear:both;'&gt;&lt;/div&gt;&lt;/div&gt;&quot;; function blanket_toggleSource(id) { var element = document.getElementById(id); if (element.style.display === 'block') { element.style.display = 'none'; } else { element.style.display = 'block'; } } var script = document.createElement(&quot;script&quot;); script.type = &quot;text/javascript&quot;; script.text = blanket_toggleSource.toString().replace('function ' + blanket_toggleSource.name, 'function blanket_toggleSource'); body.appendChild(script); var percentage = function (number, total) { return (Math.round(((number / total) * 100) * 100) / 100); }; var appendTag = function (type, el, str) { var dom = document.createElement(type); dom.innerHTML = str; el.appendChild(dom); }; function escapeInvalidXmlChars(str) { return str.replace(/\\&amp;/g, &quot;&amp;amp;&quot;) .replace(/&lt;/g, &quot;&amp;lt;&quot;) .replace(/\\&gt;/g, &quot;&amp;gt;&quot;) .replace(/\\&quot;/g, &quot;&amp;quot;&quot;) .replace(/\\'/g, &quot;&amp;apos;&quot;); } function isBranchFollowed(data, bool) { var mode = bool ? 0 : 1; if (typeof data === 'undefined' || typeof data === null || typeof data[mode] === 'undefined') { return false; } return data[mode].length &gt; 0; } var branchStack = []; function branchReport(colsIndex, src, cols, offset, lineNum) { var newsrc = &quot;&quot;; var postfix = &quot;&quot;; if (branchStack.length &gt; 0) { newsrc += &quot;&lt;span class='&quot; + (isBranchFollowed(branchStack[0][1], branchStack[0][1].consequent === branchStack[0][0]) ? 'branchOkay' : 'branchWarning') + &quot;'&gt;&quot;; if (branchStack[0][0].end.line === lineNum) { newsrc += escapeInvalidXmlChars(src.slice(0, branchStack[0][0].end.column)) + &quot;&lt;/span&gt;&quot;; src = src.slice(branchStack[0][0].end.column); branchStack.shift(); if (branchStack.length &gt; 0) { newsrc += &quot;&lt;span class='&quot; + (isBranchFollowed(branchStack[0][1], false) ? 'branchOkay' : 'branchWarning') + &quot;'&gt;&quot;; if (branchStack[0][0].end.line === lineNum) { newsrc += escapeInvalidXmlChars(src.slice(0, branchStack[0][0].end.column)) + &quot;&lt;/span&gt;&quot;; src = src.slice(branchStack[0][0].end.column); branchStack.shift(); if (!cols) { return {src: newsrc + escapeInvalidXmlChars(src), cols: cols}; } } else if (!cols) { return {src: newsrc + escapeInvalidXmlChars(src) + &quot;&lt;/span&gt;&quot;, cols: cols}; } else { postfix = &quot;&lt;/span&gt;&quot;; } } else if (!cols) { return {src: newsrc + escapeInvalidXmlChars(src), cols: cols}; } } else if (!cols) { return {src: newsrc + escapeInvalidXmlChars(src) + &quot;&lt;/span&gt;&quot;, cols: cols}; } else { postfix = &quot;&lt;/span&gt;&quot;; } } var thisline = cols[colsIndex]; //consequent var cons = thisline.consequent; if (cons.start.line &gt; lineNum) { branchStack.unshift([thisline.alternate, thisline]); branchStack.unshift([cons, thisline]); src = escapeInvalidXmlChars(src); } else { var style = &quot;&lt;span class='&quot; + (isBranchFollowed(thisline, true) ? 'branchOkay' : 'branchWarning') + &quot;'&gt;&quot;; newsrc += escapeInvalidXmlChars(src.slice(0, cons.start.column - offset)) + style; if (cols.length &gt; colsIndex + 1 &amp;&amp; cols[colsIndex + 1].consequent.start.line === lineNum &amp;&amp; cols[colsIndex + 1].consequent.start.column - offset &lt; cols[colsIndex].consequent.end.column - offset) { var res = branchReport(colsIndex + 1, src.slice(cons.start.column - offset, cons.end.column - offset), cols, cons.start.column - offset, lineNum); newsrc += res.src; cols = res.cols; cols[colsIndex + 1] = cols[colsIndex + 2]; cols.length--; } else { newsrc += escapeInvalidXmlChars(src.slice(cons.start.column - offset, cons.end.column - offset)); } newsrc += &quot;&lt;/span&gt;&quot;; var alt = thisline.alternate; if (alt.start.line &gt; lineNum) { newsrc += escapeInvalidXmlChars(src.slice(cons.end.column - offset)); branchStack.unshift([alt, thisline]); } else { newsrc += escapeInvalidXmlChars(src.slice(cons.end.column - offset, alt.start.column - offset)); style = &quot;&lt;span class='&quot; + (isBranchFollowed(thisline, false) ? 'branchOkay' : 'branchWarning') + &quot;'&gt;&quot;; newsrc += style; if (cols.length &gt; colsIndex + 1 &amp;&amp; cols[colsIndex + 1].consequent.start.line === lineNum &amp;&amp; cols[colsIndex + 1].consequent.start.column - offset &lt; cols[colsIndex].alternate.end.column - offset) { var res2 = branchReport(colsIndex + 1, src.slice(alt.start.column - offset, alt.end.column - offset), cols, alt.start.column - offset, lineNum); newsrc += res2.src; cols = res2.cols; cols[colsIndex + 1] = cols[colsIndex + 2]; cols.length--; } else { newsrc += escapeInvalidXmlChars(src.slice(alt.start.column - offset, alt.end.column - offset)); } newsrc += &quot;&lt;/span&gt;&quot;; newsrc += escapeInvalidXmlChars(src.slice(alt.end.column - offset)); src = newsrc; } } return {src: src + postfix, cols: cols}; } var isUndefined = function (item) { return typeof item !== 'undefined'; }; var files = coverage.files; var totals = { totalSmts: 0, numberOfFilesCovered: 0, passedBranches: 0, totalBranches: 0, moduleTotalStatements: {}, moduleTotalCoveredStatements: {}, moduleTotalBranches: {}, moduleTotalCoveredBranches: {} }; // check if a data-cover-modulepattern was provided for per-module coverage reporting var modulePattern = _blanket.options(&quot;modulePattern&quot;); var modulePatternRegex = ( modulePattern ? new RegExp(modulePattern) : null ); for (var file in files) { fileNumber++; var statsForFile = files[file], totalSmts = 0, numberOfFilesCovered = 0, code = [], i; var end = []; for (i = 0; i &lt; statsForFile.source.length; i += 1) { var src = statsForFile.source[i]; if (branchStack.length &gt; 0 || typeof statsForFile.branchData !== 'undefined') { if (typeof statsForFile.branchData[i + 1] !== 'undefined') { var cols = statsForFile.branchData[i + 1].filter(isUndefined); var colsIndex = 0; src = branchReport(colsIndex, src, cols, 0, i + 1).src; } else if (branchStack.length) { src = branchReport(0, src, null, 0, i + 1).src; } else { src = escapeInvalidXmlChars(src); } } else { src = escapeInvalidXmlChars(src); } var lineClass = &quot;&quot;; if (statsForFile[i + 1]) { numberOfFilesCovered += 1; totalSmts += 1; lineClass = 'hit'; } else { if (statsForFile[i + 1] === 0) { totalSmts++; lineClass = 'miss'; } } code[i + 1] = &quot;&lt;div class='&quot; + lineClass + &quot;'&gt;&lt;span class=''&gt;&quot; + (i + 1) + &quot;&lt;/span&gt;&quot; + src + &quot;&lt;/div&gt;&quot;; } totals.totalSmts += totalSmts; totals.numberOfFilesCovered += numberOfFilesCovered; var totalBranches = 0; var passedBranches = 0; if (typeof statsForFile.branchData !== 'undefined') { for (var j = 0; j &lt; statsForFile.branchData.length; j++) { if (typeof statsForFile.branchData[j] !== 'undefined') { for (var k = 0; k &lt; statsForFile.branchData[j].length; k++) { if (typeof statsForFile.branchData[j][k] !== 'undefined') { totalBranches++; if (typeof statsForFile.branchData[j][k][0] !== 'undefined' &amp;&amp; statsForFile.branchData[j][k][0].length &gt; 0 &amp;&amp; typeof statsForFile.branchData[j][k][1] !== 'undefined' &amp;&amp; statsForFile.branchData[j][k][1].length &gt; 0) { passedBranches++; } } } } } } totals.passedBranches += passedBranches; totals.totalBranches += totalBranches; // if &quot;data-cover-modulepattern&quot; was provided, // track totals per module name as well as globally if (modulePatternRegex) { var moduleName = file.match(modulePatternRegex)[1]; if (!totals.moduleTotalStatements.hasOwnProperty(moduleName)) { totals.moduleTotalStatements[moduleName] = 0; totals.moduleTotalCoveredStatements[moduleName] = 0; } totals.moduleTotalStatements[moduleName] += totalSmts; totals.moduleTotalCoveredStatements[moduleName] += numberOfFilesCovered; if (!totals.moduleTotalBranches.hasOwnProperty(moduleName)) { totals.moduleTotalBranches[moduleName] = 0; totals.moduleTotalCoveredBranches[moduleName] = 0; } totals.moduleTotalBranches[moduleName] += totalBranches; totals.moduleTotalCoveredBranches[moduleName] += passedBranches; } var result = percentage(numberOfFilesCovered, totalSmts); var output = fileTemplate.replace(&quot;{{file}}&quot;, file) .replace(&quot;{{percentage}}&quot;, result) .replace(&quot;{{numberCovered}}&quot;, numberOfFilesCovered) .replace(/\\{\\{fileNumber\\}\\}/g, fileNumber) .replace(&quot;{{totalSmts}}&quot;, totalSmts) .replace(&quot;{{totalBranches}}&quot;, totalBranches) .replace(&quot;{{passedBranches}}&quot;, passedBranches) .replace(&quot;{{source}}&quot;, code.join(&quot; &quot;)); if (result &lt; successRate) { output = output.replace(&quot;{{statusclass}}&quot;, &quot;bl-error&quot;); } else { output = output.replace(&quot;{{statusclass}}&quot;, &quot;bl-success&quot;); } bodyContent += output; } // create temporary function for use by the global totals reporter, // as well as the per-module totals reporter var createAggregateTotal = function (numSt, numCov, numBranch, numCovBr, moduleName) { var totalPercent = percentage(numCov, numSt); var statusClass = totalPercent &lt; successRate ? &quot;bl-error&quot; : &quot;bl-success&quot;; var rowTitle = ( moduleName ? &quot;Total for module: &quot; + moduleName : &quot;Global total&quot; ); var totalsOutput = grandTotalTemplate.replace(&quot;{{rowTitle}}&quot;, rowTitle) .replace(&quot;{{percentage}}&quot;, totalPercent) .replace(&quot;{{numberCovered}}&quot;, numCov) .replace(&quot;{{totalSmts}}&quot;, numSt) .replace(&quot;{{passedBranches}}&quot;, numCovBr) .replace(&quot;{{totalBranches}}&quot;, numBranch) .replace(&quot;{{statusclass}}&quot;, statusClass); bodyContent += totalsOutput; }; // if &quot;data-cover-modulepattern&quot; was provided, // output the per-module totals alongside the global totals if (modulePatternRegex) { for (var thisModuleName in totals.moduleTotalStatements) { if (totals.moduleTotalStatements.hasOwnProperty(thisModuleName)) { var moduleTotalSt = totals.moduleTotalStatements[thisModuleName]; var moduleTotalCovSt = totals.moduleTotalCoveredStatements[thisModuleName]; var moduleTotalBr = totals.moduleTotalBranches[thisModuleName]; var moduleTotalCovBr = totals.moduleTotalCoveredBranches[thisModuleName]; createAggregateTotal(moduleTotalSt, moduleTotalCovSt, moduleTotalBr, moduleTotalCovBr, thisModuleName); } } } createAggregateTotal(totals.totalSmts, totals.numberOfFilesCovered, totals.totalBranches, totals.passedBranches, null); bodyContent += &quot;&lt;/div&gt;&quot;; //closing main appendTag('style', head, cssSytle); //appendStyle(body, headerContent); if (document.getElementById(&quot;blanket-main&quot;)) { document.getElementById(&quot;blanket-main&quot;).innerHTML = bodyContent.slice(23, -6); } else { appendTag('div', body, bodyContent); } //appendHtml(body, '&lt;/div&gt;'); }; (function () { var newOptions = {}; //http://stackoverflow.com/a/2954896 var toArray = Array.prototype.slice; var scripts = toArray.call(document.scripts); toArray.call(scripts[scripts.length - 1].attributes) .forEach(function (es) { if (es.nodeName === &quot;data-cover-only&quot;) { newOptions.filter = es.nodeValue; } if (es.nodeName === &quot;data-cover-never&quot;) { newOptions.antifilter = es.nodeValue; } if (es.nodeName === &quot;data-cover-reporter&quot;) { newOptions.reporter = es.nodeValue; } if (es.nodeName === &quot;data-cover-adapter&quot;) { newOptions.adapter = es.nodeValue; } if (es.nodeName === &quot;data-cover-loader&quot;) { newOptions.loader = es.nodeValue; } if (es.nodeName === &quot;data-cover-timeout&quot;) { newOptions.timeout = es.nodeValue; } if (es.nodeName === &quot;data-cover-modulepattern&quot;) { newOptions.modulePattern = es.nodeValue; } if (es.nodeName === &quot;data-cover-reporter-options&quot;) { try { newOptions.reporter_options = JSON.parse(es.nodeValue); } catch (e) { if (blanket.options(&quot;debug&quot;)) { throw new Error(&quot;Invalid reporter options. Must be a valid stringified JSON object.&quot;); } } } if (es.nodeName === &quot;data-cover-testReadyCallback&quot;) { newOptions.testReadyCallback = es.nodeValue; } if (es.nodeName === &quot;data-cover-customVariable&quot;) { newOptions.customVariable = es.nodeValue; } if (es.nodeName === &quot;data-cover-flags&quot;) { var flags = &quot; &quot; + es.nodeValue + &quot; &quot;; if (flags.indexOf(&quot; ignoreError &quot;) &gt; -1) { newOptions.ignoreScriptError = true; } if (flags.indexOf(&quot; autoStart &quot;) &gt; -1) { newOptions.autoStart = true; } if (flags.indexOf(&quot; ignoreCors &quot;) &gt; -1) { newOptions.ignoreCors = true; } if (flags.indexOf(&quot; branchTracking &quot;) &gt; -1) { newOptions.branchTracking = true; } if (flags.indexOf(&quot; sourceURL &quot;) &gt; -1) { newOptions.sourceURL = true; } if (flags.indexOf(&quot; debug &quot;) &gt; -1) { newOptions.debug = true; } if (flags.indexOf(&quot; engineOnly &quot;) &gt; -1) { newOptions.engineOnly = true; } if (flags.indexOf(&quot; commonJS &quot;) &gt; -1) { newOptions.commonJS = true; } if (flags.indexOf(&quot; instrumentCache &quot;) &gt; -1) { newOptions.instrumentCache = true; } } }); blanket.options(newOptions); if (typeof requirejs !== 'undefined') { blanket.options(&quot;existingRequireJS&quot;, true); } /* setup requirejs loader, if needed */ if (blanket.options(&quot;commonJS&quot;)) { blanket._commonjs = {}; } })(); (function (_blanket) { _blanket.extend({ utils: { normalizeBackslashes: function (str) { return str.replace(/\\\\/g, '/'); }, matchPatternAttribute: function (filename, pattern) { if (typeof pattern === 'string') { if (pattern.indexOf(&quot;[&quot;) === 0) { //treat as array var pattenArr = pattern.slice(1, pattern.length - 1).split(&quot;,&quot;); return pattenArr.some(function (elem) { return _blanket.utils.matchPatternAttribute(filename, _blanket.utils.normalizeBackslashes(elem.slice(1, -1))); //return filename.indexOf(_blanket.utils.normalizeBackslashes(elem.slice(1,-1))) &gt; -1; }); } else if (pattern.indexOf(&quot;//&quot;) === 0) { var ex = pattern.slice(2, pattern.lastIndexOf('/')); var mods = pattern.slice(pattern.lastIndexOf('/') + 1); var regex = new RegExp(ex, mods); return regex.test(filename); } else if (pattern.indexOf(&quot;#&quot;) === 0) { return window[pattern.slice(1)].call(window, filename); } else { return filename.indexOf(_blanket.utils.normalizeBackslashes(pattern)) &gt; -1; } } else if (pattern instanceof Array) { return pattern.some(function (elem) { return _blanket.utils.matchPatternAttribute(filename, elem); }); } else if (pattern instanceof RegExp) { return pattern.test(filename); } else if (typeof pattern === &quot;function&quot;) { return pattern.call(window, filename); } }, blanketEval: function (data) { _blanket._addScript(data); }, collectPageScripts: function () { var toArray = Array.prototype.slice; var scripts = toArray.call(document.scripts); var selectedScripts = [], scriptNames = []; var filter = _blanket.options(&quot;filter&quot;); if (filter != null) { //global filter in place, data-cover-only var antimatch = _blanket.options(&quot;antifilter&quot;); selectedScripts = toArray.call(document.scripts) .filter(function (s) { return toArray.call(s.attributes).filter(function (sn) { return sn.nodeName === &quot;src&quot; &amp;&amp; _blanket.utils.matchPatternAttribute(sn.nodeValue, filter) &amp;&amp; (typeof antimatch === &quot;undefined&quot; || !_blanket.utils.matchPatternAttribute(sn.nodeValue, antimatch)); }).length === 1; }); } else { selectedScripts = toArray.call(document.querySelectorAll(&quot;script[data-cover]&quot;)); } scriptNames = selectedScripts.map(function (s) { return _blanket.utils.qualifyURL( toArray.call(s.attributes).filter( function (sn) { return sn.nodeName === &quot;src&quot;; })[0].nodeValue).replace(&quot;.js&quot;, &quot;&quot;); }); if (!filter) { _blanket.options(&quot;filter&quot;, &quot;['&quot; + scriptNames.join(&quot;','&quot;) + &quot;']&quot;); } return scriptNames; }, loadAll: function (nextScript, cb, preprocessor) { /** * load dependencies * @param {nextScript} factory for priority level * @param {cb} the done callback */ var currScript = nextScript(); var isLoaded = _blanket.utils.scriptIsLoaded( currScript, _blanket.utils.ifOrdered, nextScript, cb ); if (!(_blanket.utils.cache[currScript] &amp;&amp; _blanket.utils.cache[currScript].loaded)) { var attach = function () { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Mark script:&quot; + currScript + &quot;, as loaded and move to next script.&quot;); } isLoaded(); }; var whenDone = function (result) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-File loading finished&quot;); } if (typeof result !== 'undefined') { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Add file to DOM.&quot;); } _blanket._addScript(result); } attach(); }; _blanket.utils.attachScript( { url: currScript }, function (content) { _blanket.utils.processFile( content, currScript, whenDone, whenDone ); } ); } else { isLoaded(); } }, attachScript: function (options, cb) { var timeout = _blanket.options(&quot;timeout&quot;) || 3000; setTimeout(function () { if (!_blanket.utils.cache[options.url].loaded) { throw new Error(&quot;error loading source script&quot;); } }, timeout); _blanket.utils.getFile( options.url, cb, function () { throw new Error(&quot;error loading source script&quot;); } ); }, ifOrdered: function (nextScript, cb) { /** * ordered loading callback * @param {nextScript} factory for priority level * @param {cb} the done callback */ var currScript = nextScript(true); if (currScript) { _blanket.utils.loadAll(nextScript, cb); } else { cb(new Error(&quot;Error in loading chain.&quot;)); } }, scriptIsLoaded: function (url, orderedCb, nextScript, cb) { /** * returns a callback that checks a loading list to see if a script is loaded. * @param {orderedCb} callback if ordered loading is being done * @param {nextScript} factory for next priority level * @param {cb} the done callback */ if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Returning function&quot;); } return function () { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Marking file as loaded: &quot; + url); } _blanket.utils.cache[url].loaded = true; if (_blanket.utils.allLoaded()) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-All files loaded&quot;); } cb(); } else if (orderedCb) { //if it's ordered we need to //traverse down to the next //priority level if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Load next file.&quot;); } orderedCb(nextScript, cb); } }; }, cache: {}, allLoaded: function () { /** * check if depdencies are loaded in cache */ var cached = Object.keys(_blanket.utils.cache); for (var i = 0; i &lt; cached.length; i++) { if (!_blanket.utils.cache[cached[i]].loaded) { return false; } } return true; }, processFile: function (content, url, cb, oldCb) { var match = _blanket.options(&quot;filter&quot;); //we check the never matches first var antimatch = _blanket.options(&quot;antifilter&quot;); if (typeof antimatch !== &quot;undefined&quot; &amp;&amp; _blanket.utils.matchPatternAttribute(url.replace(/\\.js$/, &quot;&quot;), antimatch) ) { oldCb(content); if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-File will never be instrumented:&quot; + url); } _blanket.requiringFile(url, true); } else if (_blanket.utils.matchPatternAttribute(url.replace(/\\.js$/, &quot;&quot;), match)) { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Attempting instrument of:&quot; + url); } _blanket.instrument({ inputFile: content, inputFileName: url }, function (instrumented) { try { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-instrument of:&quot; + url + &quot; was successfull.&quot;); } _blanket.utils.blanketEval(instrumented); cb(); _blanket.requiringFile(url, true); } catch (err) { if (_blanket.options(&quot;ignoreScriptError&quot;)) { //we can continue like normal if //we're ignoring script errors, //but otherwise we don't want //to completeLoad or the error might be //missed. if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-There was an error loading the file:&quot; + url); } cb(content); _blanket.requiringFile(url, true); } else { throw new Error(&quot;Error parsing instrumented code: &quot; + err); } } }); } else { if (_blanket.options(&quot;debug&quot;)) { console.log(&quot;BLANKET-Loading (without instrumenting) the file:&quot; + url); } oldCb(content); _blanket.requiringFile(url, true); } }, createXhr: function () { var xhr, i, progId; if (typeof XMLHttpRequest !== &quot;undefined&quot;) { return new XMLHttpRequest(); } else if (typeof ActiveXObject !== &quot;undefined&quot;) { for (i = 0; i &lt; 3; i += 1) { progId = progIds[i]; try { xhr = new ActiveXObject(progId); } catch (e) { } if (xhr) { progIds = [progId]; // so faster next time break; } } } return xhr; }, getFile: function (url, callback, errback, onXhr) { var foundInSession = false; if (_blanket.blanketSession) { var files = Object.keys(_blanket.blanketSession); for (var i = 0; i &lt; files.length; i++) { var key = files[i]; if (url.indexOf(key) &gt; -1) { callback(_blanket.blanketSession[key]); foundInSession = true; return; } } } if (!foundInSession) { var xhr = _blanket.utils.createXhr(); xhr.open('GET', url, true); //Allow overrides specified in config if (onXhr) { onXhr(xhr, url); } xhr.onreadystatechange = function (evt) { var status, err; //Do not explicitly handle errors, those should be //visible via console output in the browser. if (xhr.readyState === 4) { status = xhr.status; if ((status &gt; 399 &amp;&amp; status &lt; 600) /*|| (status === 0 &amp;&amp; navigator.userAgent.toLowerCase().indexOf('firefox') &gt; -1) */) { //An http 4xx or 5xx error. Signal an error. err = new Error(url + ' HTTP status: ' + status); err.xhr = xhr; errback(err); } else { callback(xhr.responseText); } } }; try { xhr.send(null); } catch (e) { if (e.code &amp;&amp; (e.code === 101 || e.code === 1012) &amp;&amp; _blanket.options(&quot;ignoreCors&quot;) === false) { //running locally and getting error from browser _blanket.showManualLoader(); } else { throw e; } } } } } }); (function () { var require = blanket.options(&quot;commonJS&quot;) ? blanket._commonjs.require : window.require; var requirejs = blanket.options(&quot;commonJS&quot;) ? blanket._commonjs.requirejs : window.requirejs; if (!_blanket.options(&quot;engineOnly&quot;) &amp;&amp; _blanket.options(&quot;existingRequireJS&quot;)) { _blanket.utils.oldloader = requirejs.load; requirejs.load = function (context, moduleName, url) { _blanket.requiringFile(url); _blanket.utils.getFile(url, function (content) { _blanket.utils.processFile( content, url, function newLoader() { context.completeLoad(moduleName); }, function oldLoader() { _blanket.utils.oldloader(context, moduleName, url); } ); }, function (err) { _blanket.requiringFile(); throw err; }); }; } })(); })(blanket); (function () { if (typeof QUnit !== 'undefined') { //check to make sure requirejs is completed before we start the test runner var allLoaded = function () { return window.QUnit.config.queue.length &gt; 0 &amp;&amp; blanket.noConflict().requireFilesLoaded(); }; if (!QUnit.config.urlConfig[0].tooltip) { //older versions we run coverage automatically //and we change how events are binded QUnit.begin = function () { blanket.noConflict().setupCoverage(); }; QUnit.done = function (failures, total) { blanket.noConflict().onTestsDone(); }; QUnit.moduleStart = function (details) { blanket.noConflict().onModuleStart(); }; QUnit.testStart = function (details) { blanket.noConflict().onTestStart(); }; QUnit.testDone = function (details) { blanket.noConflict().onTestDone(details.total, details.passed); }; blanket.beforeStartTestRunner({ condition: allLoaded, callback: QUnit.start }); } else { QUnit.config.urlConfig.push({ id: &quot;coverage&quot;, label: &quot;Enable coverage&quot;, tooltip: &quot;Enable code coverage.&quot; }); if (QUnit.urlParams.coverage || blanket.options(&quot;autoStart&quot;)) { QUnit.begin(function () { blanket.noConflict().setupCoverage(); }); QUnit.done(function (failures, total) { blanket.noConflict().onTestsDone(); }); QUnit.moduleStart(function (details) { blanket.noConflict().onModuleStart(); }); QUnit.testStart(function (details) { blanket.noConflict().onTestStart(); }); QUnit.testDone(function (details) { blanket.noConflict().onTestDone(details.total, details.passed); }); blanket.noConflict().beforeStartTestRunner({ condition: allLoaded, callback: function () { if (!(blanket.options(&quot;existingRequireJS&quot;) &amp;&amp; !blanket.options(&quot;autoStart&quot;))) { QUnit.start(); } } }); } else { if (blanket.options(&quot;existingRequireJS&quot;)) { requirejs.load = _blanket.utils.oldloader; } blanket.noConflict().beforeStartTestRunner({ condition: allLoaded, callback: function () { if (!(blanket.options(&quot;existingRequireJS&quot;) &amp;&amp; !blanket.options(&quot;autoStart&quot;))) { QUnit.start(); } }, coverage: false }); } } } })(); × Search results Close "},"lf2_game_define.js.html":{"id":"lf2_game_define.js.html","title":"Source: lf2/game/define.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: lf2/game/define.js 'use strict'; (function (window) { const BASE_PATH = &quot;./&quot;; /** * 定義遊戲內部用到的常數即設定，例如是否為DEBUG模式、或是預設的血量等 * @type { { DEBUG: boolean, SHOW_PLAYER_COUNT: number, BASE_PATH: string, DATA_PATH: string, IMG_PATH: string, MUSIC_PATH: string, BGM_PATH: string, ZIP_PATH: string, PLAYER_COUNT: number, KEYBOARD_CONFIG_KEY: string, TEAM_COUNT: number, BGM_VOLUME: number, LOADING_MIN_TIME: number, MAX_ITEM_COUNT: number, INF_MP: boolean, MAP_SMOOTHLY: boolean } } */ window.define = { DEBUG: false, SHOW_PLAYER_COUNT: 8, BASE_PATH: BASE_PATH, DATA_PATH: BASE_PATH + &quot;data/&quot;, IMG_PATH: BASE_PATH + &quot;image/&quot;, MUSIC_PATH: BASE_PATH + &quot;music/&quot;, BGM_PATH: BASE_PATH + &quot;music/bgm/&quot;, ZIP_PATH: BASE_PATH + &quot;zip/&quot;, PLAYER_COUNT: 4, KEYBOARD_CONFIG_KEY: &quot;keyConfig&quot;, TEAM_COUNT: 4, BGM_VOLUME: .3, LOADING_MIN_TIME: 0 * 1000, MAX_ITEM_COUNT: 200, INF_MP: false, //Infinity MP MAP_SMOOTHLY: false, }; // Object.freeze(window.define); })(window); × Search results Close "},"Framework_Config.js.html":{"id":"Framework_Config.js.html","title":"Source: Framework/Config.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/Config.js // By Raccoon // include namespace 'use strict'; var Framework = (function (Framework) { window._isTestMode = false; window._isRecordMode = false; /** * @class {Framework.Config} */ Framework.Config = { fps: 30, canvasWidth: 794, canvasHeight: 520, // canvasWidth : 640, // canvasHeight :480, isBackwardCompatiable: false, isOptimize: false, // 2017.02.20, from V3.1.1 isMouseMoveRecorded: false, }; //Lock config Object.freeze(Framework.Config); return Framework; })(Framework || {}); × Search results Close "},"Framework_GameMainMenu.js.html":{"id":"Framework_GameMainMenu.js.html","title":"Source: Framework/GameMainMenu.js","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Source: Framework/GameMainMenu.js /** * Created by Raccoon on 2014/1/24. */ 'use strict'; var Framework = (function (Framework) { /** * * @class {GameMainMenu} * @namespace {Framework} * @extends {Framework.Level} * @type {{new()=&gt;{}}} */ Framework.GameMainMenu = class extends Framework.Level { constructor() { super(); this.autoDelete = false; } }; return Framework; })(Framework || {}); × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Global Methods bezier(controlPoints, x) Parameters: Name Type Description controlPoints Array.&lt;number&gt; [x1, y1, x2, y2] x number time(0 - 1) Source: lf2/game/Bezier.js, line 3 Returns: - y(0 - 1) Type number bezier(controlPoints, x) Parameters: Name Type Description controlPoints Array.&lt;number&gt; [x1, y1, x2, y2] x number time(0 - 1) Source: lf2/game/Bezier.js, line 3 Returns: - y(0 - 1) Type number floatval(obj) Convert Object to float Parameters: Name Type Description obj Source: utils.js, line 235 Returns: Type Number floatval(obj) Convert Object to float Parameters: Name Type Description obj Source: utils.js, line 235 Returns: Type Number intval(obj) Convert Object to integer Parameters: Name Type Description obj Source: utils.js, line 226 Returns: Type Number intval(obj) Convert Object to integer Parameters: Name Type Description obj Source: utils.js, line 226 Returns: Type Number loadImage(src) Loads an image. Parameters: Name Type Description src Source for the. Source: utils.js, line 246 Returns: The image. loadImage(src) Loads an image. Parameters: Name Type Description src Source for the. Source: utils.js, line 246 Returns: The image. LoadScriptInSequence(scriptArray [, callback]) Load Script In Sequence Parameters: Name Type Argument Description scriptArray Array callback function | null &lt;optional&gt; Source: utils.js, line 10 LoadScriptInSequence(scriptArray [, callback]) Load Script In Sequence Parameters: Name Type Argument Description scriptArray Array callback function | null &lt;optional&gt; Source: utils.js, line 10 Events click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Classes Classes Audio Audio AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Game Game GameMapPool GameMapPool GameObjectPool GameObjectPool KeyBoardManager KeyBoardManager AbstractBehavior AbstractBehavior AbstractBehavior AbstractBehavior Ball Ball Ball Ball BmpInfo BmpInfo BmpInfo BmpInfo Body Body Body Body Bound Bound CenterTrackerBehavior CenterTrackerBehavior Character Character Character Character CollisionSearchTree CollisionSearchTree ColorBar ColorBar ColorBar ColorBar Cube Cube Effect Effect Egg Egg FasterTrackerBehavior FasterTrackerBehavior FightLevel FightLevel FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBehavior FirzenDisasterFallDownBehavior Frame Frame Frame Frame GameItem GameItem GameItem GameItem GameMap GameMap GameMap GameMap GameMapLayer GameMapLayer GameMapLayer GameMapLayer GameObject GameObject GameObject GameObject GameObjectBall GameObjectBall GameObjectBall GameObjectBall GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectWeapon GameObjectWeapon GameObjectWeapon GameObjectWeapon HelpLevel HelpLevel HorizontalTrackerBehavior HorizontalTrackerBehavior ImageInformation ImageInformation ImageInformation ImageInformation Interaction Interaction Interaction Interaction ItrKind ItrKind JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallTrackerBehavior JulianBallTrackerBehavior KeyboardConfig KeyboardConfig KeyboardConfig KeyboardConfig KeyEventPool KeyEventPool KeyEventPool KeyEventPool LaunchMenu LaunchMenu LoadingLevel LoadingLevel MySettingLevel MySettingLevel ObjectPoint ObjectPoint ObjectPoint ObjectPoint Player Player Player Player PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel Rectangle Rectangle Rectangle Rectangle SelectionLevel SelectionLevel SpeedUpTrackerBehavior SpeedUpTrackerBehavior Team Team Team Team Weapon Weapon Weapon Weapon MouseManager MouseManager MouseManager MouseManager Node Node Prefetch Prefetch Prefetch Prefetch TouchManager TouchManager {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Config} {Framework.Config} {Framework.Point3D} {Framework.Point3D} {Framework.Point} {Framework.Point} {Framework.Scene} {Framework.Scene} {lf2.BmpInfo} {lf2.BmpInfo} {lf2.CenterTrackerBehavior} {lf2.CenterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.Frame} {lf2.Frame} {lf2.HorizontalTrackerBehavior} {lf2.HorizontalTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.WorldScene} {lf2.WorldScene} Namespaces Framework Framework Framework Framework Framework Framework lf2 lf2 {Framework} {Framework} Events click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Namespaces Classes Audio Audio AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Game Game GameMapPool GameMapPool GameObjectPool GameObjectPool KeyBoardManager KeyBoardManager AbstractBehavior AbstractBehavior AbstractBehavior AbstractBehavior Ball Ball Ball Ball BmpInfo BmpInfo BmpInfo BmpInfo Body Body Body Body Bound Bound CenterTrackerBehavior CenterTrackerBehavior Character Character Character Character CollisionSearchTree CollisionSearchTree ColorBar ColorBar ColorBar ColorBar Cube Cube Effect Effect Egg Egg FasterTrackerBehavior FasterTrackerBehavior FightLevel FightLevel FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBehavior FirzenDisasterFallDownBehavior Frame Frame Frame Frame GameItem GameItem GameItem GameItem GameMap GameMap GameMap GameMap GameMapLayer GameMapLayer GameMapLayer GameMapLayer GameObject GameObject GameObject GameObject GameObjectBall GameObjectBall GameObjectBall GameObjectBall GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectWeapon GameObjectWeapon GameObjectWeapon GameObjectWeapon HelpLevel HelpLevel HorizontalTrackerBehavior HorizontalTrackerBehavior ImageInformation ImageInformation ImageInformation ImageInformation Interaction Interaction Interaction Interaction ItrKind ItrKind JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallTrackerBehavior JulianBallTrackerBehavior KeyboardConfig KeyboardConfig KeyboardConfig KeyboardConfig KeyEventPool KeyEventPool KeyEventPool KeyEventPool LaunchMenu LaunchMenu LoadingLevel LoadingLevel MySettingLevel MySettingLevel ObjectPoint ObjectPoint ObjectPoint ObjectPoint Player Player Player Player PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel Rectangle Rectangle Rectangle Rectangle SelectionLevel SelectionLevel SpeedUpTrackerBehavior SpeedUpTrackerBehavior Team Team Team Team Weapon Weapon Weapon Weapon MouseManager MouseManager MouseManager MouseManager Node Node Prefetch Prefetch Prefetch Prefetch TouchManager TouchManager {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Config} {Framework.Config} {Framework.Point3D} {Framework.Point3D} {Framework.Point} {Framework.Point} {Framework.Scene} {Framework.Scene} {lf2.BmpInfo} {lf2.BmpInfo} {lf2.CenterTrackerBehavior} {lf2.CenterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.Frame} {lf2.Frame} {lf2.HorizontalTrackerBehavior} {lf2.HorizontalTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.WorldScene} {lf2.WorldScene} Namespaces Framework Framework Framework Framework Framework Framework lf2 lf2 {Framework} {Framework} Events click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 × Search results Close "},"interfaces.list.html":{"id":"interfaces.list.html","title":"Interfaces","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Interfaces Classes Audio Audio AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Game Game GameMapPool GameMapPool GameObjectPool GameObjectPool KeyBoardManager KeyBoardManager AbstractBehavior AbstractBehavior AbstractBehavior AbstractBehavior Ball Ball Ball Ball BmpInfo BmpInfo BmpInfo BmpInfo Body Body Body Body Bound Bound CenterTrackerBehavior CenterTrackerBehavior Character Character Character Character CollisionSearchTree CollisionSearchTree ColorBar ColorBar ColorBar ColorBar Cube Cube Effect Effect Egg Egg FasterTrackerBehavior FasterTrackerBehavior FightLevel FightLevel FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBehavior FirzenDisasterFallDownBehavior Frame Frame Frame Frame GameItem GameItem GameItem GameItem GameMap GameMap GameMap GameMap GameMapLayer GameMapLayer GameMapLayer GameMapLayer GameObject GameObject GameObject GameObject GameObjectBall GameObjectBall GameObjectBall GameObjectBall GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectWeapon GameObjectWeapon GameObjectWeapon GameObjectWeapon HelpLevel HelpLevel HorizontalTrackerBehavior HorizontalTrackerBehavior ImageInformation ImageInformation ImageInformation ImageInformation Interaction Interaction Interaction Interaction ItrKind ItrKind JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallTrackerBehavior JulianBallTrackerBehavior KeyboardConfig KeyboardConfig KeyboardConfig KeyboardConfig KeyEventPool KeyEventPool KeyEventPool KeyEventPool LaunchMenu LaunchMenu LoadingLevel LoadingLevel MySettingLevel MySettingLevel ObjectPoint ObjectPoint ObjectPoint ObjectPoint Player Player Player Player PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel Rectangle Rectangle Rectangle Rectangle SelectionLevel SelectionLevel SpeedUpTrackerBehavior SpeedUpTrackerBehavior Team Team Team Team Weapon Weapon Weapon Weapon MouseManager MouseManager MouseManager MouseManager Node Node Prefetch Prefetch Prefetch Prefetch TouchManager TouchManager {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Audio} {Framework.Config} {Framework.Config} {Framework.Point3D} {Framework.Point3D} {Framework.Point} {Framework.Point} {Framework.Scene} {Framework.Scene} {lf2.BmpInfo} {lf2.BmpInfo} {lf2.CenterTrackerBehavior} {lf2.CenterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FasterTrackerBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.FirzenDisasterFallDownBehavior} {lf2.Frame} {lf2.Frame} {lf2.HorizontalTrackerBehavior} {lf2.HorizontalTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.JulianBallTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.SpeedUpTrackerBehavior} {lf2.WorldScene} {lf2.WorldScene} Namespaces Framework Framework Framework Framework Framework Framework lf2 lf2 {Framework} {Framework} Events click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 346 click 處理點擊的事件, 當mousedown + mouseup 都成立時才會被觸發 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 13 keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE KeyboardEvent W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/KeyboardEventInterface.js, line 13 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keydown 處理鍵盤被壓下按鈕的事件 Parameters: Name Type Description e Object 改寫過後的事件的參數表示按下去的最後一個鍵, 其包含有 altKey, ctrlKey, shiftKey表示是否按下的狀態, firstTimeStamp 表示剛按下去這個按鈕的時間, key 存的是按下去的鍵的string, lastTimeDiff 則為剛按下這個鍵到目前有多久了 list Object 目前按下去所有可以被偵測到的鍵 oriE Object W3C定義的事件的e 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 407 Example keydown (e, list) { if(e.key === 'A' &amp;&amp; e.key.lastTimeDiff &gt; 3000) { console.log('A'); //當A按下超過3秒, 才會印出A } if(list.A &amp;&amp; list.B) { console.log('A+B'); //當A和B都被按下時, 才會印出A+B } } //FYI: 每個真正的keyCode與相對應的string _keyCodeToChar = { 8:'Backspace',9:'Tab',13:'Enter', 16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break', 20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down', 35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down', 45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4', 53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C', 68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K', 76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S', 84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows', 93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2', 99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6', 103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *', 107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /', 112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7', 119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock', 145:'Scroll Lock',182:'My Computer', 183:'My Calculator',186:';',187:'=',188:',',189:'-', 190:'.',191:'/',192:'`',219:'[',220:'\\\\',221:']',222:'\\'' }; keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} oriE KeyboardEvent W3C定義的事件的e Source: Framework/KeyboardEventInterface.js, line 65 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, keyup 處理鍵盤被壓下按鈕的事件, 除了W3C定義的參數外, Framework尚支援進階的功能history Parameters: Name Type Description e Object 原生的事件參數 history Object 儲存最近幾秒內keyup的按鍵 (可以用來處理類似小朋友齊打交, 發動攻擊技能的Scenario) history可以設定多久清除一次, 請參考 {{#crossLink &quot;KeyBoardManager/setClearHistoryTime:method&quot;}}{{/crossLink}} Source: Framework/Level.js, line 455 Example keyup (e, history) { var right = history.length &gt;= 3, i; if (history.length &gt; 2) { for (i = 3; i &gt; 0; i--) { right = right &amp;&amp; (history[history.length - i].key === 'Right'); } } if (right) { console.log(right); //當一秒內按了右鍵超過3次, 才會印出true } }, mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/MouseEventInterface.js, line 24 mousedown 處理滑鼠點下的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前點擊的絕對位置 Source: Framework/Level.js, line 355 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/Level.js, line 373 mousemove 處理滑鼠移動的事件(不論是否有點下, 都會觸發該事件) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前滑鼠的絕對位置 Source: Framework/MouseEventInterface.js, line 46 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/MouseEventInterface.js, line 35 mouseup 處理滑鼠放開的事件 Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.x和e.y兩個參數, 表示的是目前放開的絕對位置 Source: Framework/Level.js, line 364 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchmove 處理觸控到螢幕並移動時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前最新觸控到的位置 Source: Framework/Level.js, line 396 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 touchstart 處理觸控到螢幕時的事件, 若是在一般電腦上跑, 是不會觸發此事件的 (除非使用debugger模擬, https://developers.google.com/chrome-developer-tools/docs/mobile-emulation?hl=zh-TW) Parameters: Name Type Description e Object 事件的參數, 會用到的應該是e.touches[0].clientX和e.touches[0].clientY兩個參數, 表示的是目前觸控到的位置 Source: Framework/Level.js, line 382 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence OOP Lab Little Fighter 2《小朋友齊打交（二）》（Little Fighter 2，縮寫：LF2）是一款免費的2D格鬥遊戲，亦是《小朋友齊打交》的延續及《小朋友齊打交系列》第二作，僅供Windows平台下載。該作由香港遊戲開發者王國鴻加上黃浩然二人攜手開發。 本專案是要將Windows平台移植部分功能到Web上，使其他平台也可以玩LF2 如何安裝要安裝本遊戲，請先進入release資料夾，下方有一個執行檔案: [LF2_Setup.exe]，點選後即可安裝本遊戲。 安裝過程中會安裝需要的VC++ Runtime library 如何執行遊戲將遊戲安裝完成後，桌面會有一個Little Fighter 2的捷徑，點選後即可執行。 系統需求 瀏覽器: Google Chrome 59.0 或以上 記憶體: 2GB 或以上 儲存空間: 100MB 或以上 NodeJS 6.9 或以上 (如果需要編譯原始碼的話) 備註本遊戲需要一個網頁伺服器才能執行，執行檔內已經含有Apache HTTP Server，不需設定即可執行 若要查看技術文件，請至docs/index.html即可。 資料夾說明release: 安裝檔 docs: 程式文件 src: JS檔案 dist: 編譯過的JS檔案 installer: 所需軟體的安裝檔 server: Apache Server tools: 在開發過程中寫的小程式 × Search results Close "},"-_anonymous_-Audio.Audio.html":{"id":"-_anonymous_-Audio.Audio.html","title":"Class: Audio","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Audio Audio new Audio(playlist) Create an audio class Parameters: Name Type Description playlist Object | Map Source: Framework/Audio.js, line 53 Class: Audio Audio new Audio(playlist) Create an audio class Parameters: Name Type Description playlist Object | Map Source: Framework/Audio.js, line 53 × Search results Close "},"Framework.html":{"id":"Framework.html","title":"Namespace: Framework","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Namespace: Framework Framework 整個遊戲(多個{{#crossLink &quot;Level&quot;}}{{/crossLink}})的主體 主要功能為新增移除關卡與關卡的切換 Source: Framework/Game.js, line 12 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 Namespace: Framework Framework 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/KeyBoardManager.js, line 271 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 Namespace: Framework Framework 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/KeyBoardManager.js, line 271 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 Namespace: Framework Framework Resources Source: Framework/ResourceManager.js, line 187 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 Namespace: Framework Framework 整個遊戲(多個{{#crossLink &quot;Level&quot;}}{{/crossLink}})的主體 主要功能為新增移除關卡與關卡的切換 Source: Framework/Game.js, line 12 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 Namespace: Framework Framework Resources Source: Framework/ResourceManager.js, line 187 Classes AnimationSprite AnimationSprite GameObject GameObject Level Level Point Point Point3D Point3D Scene Scene Sprite Sprite Members &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 &lt;static&gt; ResourceManager :ResourceManager Type: ResourceManager Source: Framework/ResourceManager.js, line 382 × Search results Close "},"Framework.AnimationSprite.html":{"id":"Framework.AnimationSprite.html","title":"Class: AnimationSprite","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: AnimationSprite Framework. AnimationSprite 支援播放連續圖片的Sprite new AnimationSprite(options) Constructor. Parameters: Name Type Description options Object options.url為要載入的圖片, 當url為一個Array時表示為零散的多張圖片, 當為string時表示是一張大張的連續動作圖, 故需要在提供大張連續圖的row和col. options.speed可以設定這個Sprite播放的速度(fps), options.loop 則可以設定這個Sprite是否需要不斷重複播放 Source: Framework/AnimationSprite.js, line 20 Example new Framework.AnimationSprite({url:['image1.png', 'image2.bmp']}); //多張圖片 new Framework.AnimationSprite({url:' bigImage.png', col: 10 , row: 7 , loop: true , speed: 6}); //只有一張大型的連續動作圖,speed和loop為非必要項 Members index Gets the index. Source: Framework/AnimationSprite.js, line 348 index Indexes the given new value. Source: Framework/AnimationSprite.js, line 359 index Gets the index. Source: Framework/AnimationSprite.js, line 348 index Indexes the given new value. Source: Framework/AnimationSprite.js, line 359 Methods draw(painter) Draws the given painter. Parameters: Name Type Description painter The painter. Source: Framework/AnimationSprite.js, line 284 Returns: . draw(painter) Draws the given painter. Parameters: Name Type Description painter The painter. Source: Framework/AnimationSprite.js, line 284 Returns: . initialize() Initializes this object. Source: Framework/AnimationSprite.js, line 217 Returns: . initialize() Initializes this object. Source: Framework/AnimationSprite.js, line 217 Returns: . initTexture() Init texture. Source: Framework/AnimationSprite.js, line 140 Returns: . initTexture() Init texture. Source: Framework/AnimationSprite.js, line 140 Returns: . load() Loads this object. Source: Framework/AnimationSprite.js, line 202 Returns: . load() Loads this object. Source: Framework/AnimationSprite.js, line 202 Returns: . resume() 繼續播放AnimationSprite, 若未曾停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 190 resume() 繼續播放AnimationSprite, 若未曾停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 190 start(options) 開始播放設定好的AnimationSprite Parameters: Name Type Description options Object options.from和options.to表示要從第幾張播放到第幾張, 若to &lt; from表示要倒著播放, 可以在此設定要被播放的速度和是否重複播放, finishPlaying可以設定播放完畢後是否要有callback (loop: true時, 此callback永遠不會被執行) Source: Framework/AnimationSprite.js, line 157 Example start({from:3, to: 5}); //從第三張圖片播放到第五張 start({from:6, to: 1}); //倒著從第六張圖片播放到第一張 start({from:6, to: 1, loop: false, speed: 1, finishPlaying: function(){ console.log('finish'); }}); start(options) 開始播放設定好的AnimationSprite Parameters: Name Type Description options Object options.from和options.to表示要從第幾張播放到第幾張, 若to &lt; from表示要倒著播放, 可以在此設定要被播放的速度和是否重複播放, finishPlaying可以設定播放完畢後是否要有callback (loop: true時, 此callback永遠不會被執行) Source: Framework/AnimationSprite.js, line 157 Example start({from:3, to: 5}); //從第三張圖片播放到第五張 start({from:6, to: 1}); //倒著從第六張圖片播放到第一張 start({from:6, to: 1, loop: false, speed: 1, finishPlaying: function(){ console.log('finish'); }}); stop() 停止播放AnimationSprite, 若已經停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 183 stop() 停止播放AnimationSprite, 若已經停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 183 teardown() Teardowns this object. Source: Framework/AnimationSprite.js, line 333 Returns: . teardown() Teardowns this object. Source: Framework/AnimationSprite.js, line 333 Returns: . toString() Convert this object into a string representation. Source: Framework/AnimationSprite.js, line 324 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: Framework/AnimationSprite.js, line 324 Returns: An unknown that represents this object. update() Updates this object. Source: Framework/AnimationSprite.js, line 265 Returns: . update() Updates this object. Source: Framework/AnimationSprite.js, line 265 Returns: . Class: AnimationSprite Framework. AnimationSprite 支援播放連續圖片的Sprite new AnimationSprite(options) Constructor. Parameters: Name Type Description options Object options.url為要載入的圖片, 當url為一個Array時表示為零散的多張圖片, 當為string時表示是一張大張的連續動作圖, 故需要在提供大張連續圖的row和col. options.speed可以設定這個Sprite播放的速度(fps), options.loop 則可以設定這個Sprite是否需要不斷重複播放 Source: Framework/AnimationSprite.js, line 20 Example new Framework.AnimationSprite({url:['image1.png', 'image2.bmp']}); //多張圖片 new Framework.AnimationSprite({url:' bigImage.png', col: 10 , row: 7 , loop: true , speed: 6}); //只有一張大型的連續動作圖,speed和loop為非必要項 Members index Gets the index. Source: Framework/AnimationSprite.js, line 348 index Indexes the given new value. Source: Framework/AnimationSprite.js, line 359 index Gets the index. Source: Framework/AnimationSprite.js, line 348 index Indexes the given new value. Source: Framework/AnimationSprite.js, line 359 Methods draw(painter) Draws the given painter. Parameters: Name Type Description painter The painter. Source: Framework/AnimationSprite.js, line 284 Returns: . draw(painter) Draws the given painter. Parameters: Name Type Description painter The painter. Source: Framework/AnimationSprite.js, line 284 Returns: . initialize() Initializes this object. Source: Framework/AnimationSprite.js, line 217 Returns: . initialize() Initializes this object. Source: Framework/AnimationSprite.js, line 217 Returns: . initTexture() Init texture. Source: Framework/AnimationSprite.js, line 140 Returns: . initTexture() Init texture. Source: Framework/AnimationSprite.js, line 140 Returns: . load() Loads this object. Source: Framework/AnimationSprite.js, line 202 Returns: . load() Loads this object. Source: Framework/AnimationSprite.js, line 202 Returns: . resume() 繼續播放AnimationSprite, 若未曾停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 190 resume() 繼續播放AnimationSprite, 若未曾停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 190 start(options) 開始播放設定好的AnimationSprite Parameters: Name Type Description options Object options.from和options.to表示要從第幾張播放到第幾張, 若to &lt; from表示要倒著播放, 可以在此設定要被播放的速度和是否重複播放, finishPlaying可以設定播放完畢後是否要有callback (loop: true時, 此callback永遠不會被執行) Source: Framework/AnimationSprite.js, line 157 Example start({from:3, to: 5}); //從第三張圖片播放到第五張 start({from:6, to: 1}); //倒著從第六張圖片播放到第一張 start({from:6, to: 1, loop: false, speed: 1, finishPlaying: function(){ console.log('finish'); }}); start(options) 開始播放設定好的AnimationSprite Parameters: Name Type Description options Object options.from和options.to表示要從第幾張播放到第幾張, 若to &lt; from表示要倒著播放, 可以在此設定要被播放的速度和是否重複播放, finishPlaying可以設定播放完畢後是否要有callback (loop: true時, 此callback永遠不會被執行) Source: Framework/AnimationSprite.js, line 157 Example start({from:3, to: 5}); //從第三張圖片播放到第五張 start({from:6, to: 1}); //倒著從第六張圖片播放到第一張 start({from:6, to: 1, loop: false, speed: 1, finishPlaying: function(){ console.log('finish'); }}); stop() 停止播放AnimationSprite, 若已經停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 183 stop() 停止播放AnimationSprite, 若已經停止, 則不會發生任何事情 Source: Framework/AnimationSprite.js, line 183 teardown() Teardowns this object. Source: Framework/AnimationSprite.js, line 333 Returns: . teardown() Teardowns this object. Source: Framework/AnimationSprite.js, line 333 Returns: . toString() Convert this object into a string representation. Source: Framework/AnimationSprite.js, line 324 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: Framework/AnimationSprite.js, line 324 Returns: An unknown that represents this object. update() Updates this object. Source: Framework/AnimationSprite.js, line 265 Returns: . update() Updates this object. Source: Framework/AnimationSprite.js, line 265 Returns: . × Search results Close "},"Framework.AttachableInterface.html":{"id":"Framework.AttachableInterface.html","title":"Interface: AttachableInterface","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Interface: AttachableInterface Framework. AttachableInterface Attachable Interface 提供可以附加到Framework.Level或是Framework.Scence的介面 Source: Framework/AttachableInterface.js, line 4 Methods &lt;abstract&gt; draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Source: Framework/AttachableInterface.js, line 42 &lt;abstract&gt; draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Source: Framework/AttachableInterface.js, line 42 &lt;abstract&gt; load() Load Source: Framework/AttachableInterface.js, line 16 &lt;abstract&gt; load() Load Source: Framework/AttachableInterface.js, line 16 &lt;abstract&gt; update() Update object Source: Framework/AttachableInterface.js, line 32 &lt;abstract&gt; update() Update object Source: Framework/AttachableInterface.js, line 32 Interface: AttachableInterface Framework. AttachableInterface Attachable Interface 提供可以附加到Framework.Level或是Framework.Scence的介面 Source: Framework/AttachableInterface.js, line 4 Methods &lt;abstract&gt; draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Source: Framework/AttachableInterface.js, line 42 &lt;abstract&gt; draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Source: Framework/AttachableInterface.js, line 42 &lt;abstract&gt; load() Load Source: Framework/AttachableInterface.js, line 16 &lt;abstract&gt; load() Load Source: Framework/AttachableInterface.js, line 16 &lt;abstract&gt; update() Update object Source: Framework/AttachableInterface.js, line 32 &lt;abstract&gt; update() Update object Source: Framework/AttachableInterface.js, line 32 × Search results Close "},"Framework.GameObject.html":{"id":"Framework.GameObject.html","title":"Class: GameObject","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObject Framework. GameObject 所有Sprite和Scene的Base Class, 一般而言, 應該不會直接new它, 而是new其他的concrete class &lt;abstract&gt; new GameObject() Default constructor. Implements: Framework.AttachableInterface Source: Framework/GameObject.js, line 13 Members diagonal Gets the diagonal. Source: Framework/GameObject.js, line 300 diagonal Gets the diagonal. Source: Framework/GameObject.js, line 300 height 絕對高度的getter Source: Framework/GameObject.js, line 287 height 絕對高度的getter Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isObjectChanged Is object changed. Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Source: Framework/GameObject.js, line 187 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Source: Framework/GameObject.js, line 212 position 相對位置的setter Source: Framework/GameObject.js, line 223 position 相對位置的setter Source: Framework/GameObject.js, line 223 position 相對位置的getter Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Source: Framework/GameObject.js, line 234 rotation 相對旋轉角度的setter Source: Framework/GameObject.js, line 245 rotation 相對旋轉角度的setter Source: Framework/GameObject.js, line 245 rotation 相對旋轉角度的getter Source: Framework/GameObject.js, line 234 scale 相對放大縮小的setter Source: Framework/GameObject.js, line 264 scale 相對放大縮小的getter Source: Framework/GameObject.js, line 254 scale 相對放大縮小的setter Source: Framework/GameObject.js, line 264 scale 相對放大縮小的getter Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Source: Framework/GameObject.js, line 44 spriteParent :Framework.Scene Type: Framework.Scene Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Source: Framework/GameObject.js, line 274 &lt;readonly&gt; width 絕對寬度的getter Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Source: Framework/GameObject.js, line 52 Returns: . clearDirtyFlag() Clears the dirty flag. Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. countAbsoluteProperty() Count absolute property. Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. &lt;abstract&gt; draw() Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; draw() Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; initialize() Source: Framework/GameObject.js, line 133 &lt;abstract&gt; initialize() Source: Framework/GameObject.js, line 133 &lt;abstract&gt; load() Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 &lt;abstract&gt; load() Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Source: Framework/GameObject.js, line 64 Returns: . pushSelfToLevel() Pushes the self to level. Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Source: Framework/GameObject.js, line 151 &lt;abstract&gt; teardown() Source: Framework/GameObject.js, line 151 toString() Source: Framework/GameObject.js, line 158 Returns: Type string toString() Source: Framework/GameObject.js, line 158 Returns: Type string &lt;abstract&gt; update() Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 &lt;abstract&gt; update() Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 Class: GameObject Framework. GameObject 所有Sprite和Scene的Base Class, 一般而言, 應該不會直接new它, 而是new其他的concrete class &lt;abstract&gt; new GameObject() Default constructor. Implements: Framework.AttachableInterface Source: Framework/GameObject.js, line 13 Members diagonal Gets the diagonal. Source: Framework/GameObject.js, line 300 diagonal Gets the diagonal. Source: Framework/GameObject.js, line 300 height 絕對高度的getter Source: Framework/GameObject.js, line 287 height 絕對高度的getter Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isObjectChanged Is object changed. Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Source: Framework/GameObject.js, line 187 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Source: Framework/GameObject.js, line 212 position 相對位置的setter Source: Framework/GameObject.js, line 223 position 相對位置的setter Source: Framework/GameObject.js, line 223 position 相對位置的getter Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Source: Framework/GameObject.js, line 234 rotation 相對旋轉角度的setter Source: Framework/GameObject.js, line 245 rotation 相對旋轉角度的setter Source: Framework/GameObject.js, line 245 rotation 相對旋轉角度的getter Source: Framework/GameObject.js, line 234 scale 相對放大縮小的setter Source: Framework/GameObject.js, line 264 scale 相對放大縮小的getter Source: Framework/GameObject.js, line 254 scale 相對放大縮小的setter Source: Framework/GameObject.js, line 264 scale 相對放大縮小的getter Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Source: Framework/GameObject.js, line 44 spriteParent :Framework.Scene Type: Framework.Scene Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Source: Framework/GameObject.js, line 274 &lt;readonly&gt; width 絕對寬度的getter Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Source: Framework/GameObject.js, line 52 Returns: . clearDirtyFlag() Clears the dirty flag. Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. countAbsoluteProperty() Count absolute property. Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. &lt;abstract&gt; draw() Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; draw() Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; initialize() Source: Framework/GameObject.js, line 133 &lt;abstract&gt; initialize() Source: Framework/GameObject.js, line 133 &lt;abstract&gt; load() Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 &lt;abstract&gt; load() Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Source: Framework/GameObject.js, line 64 Returns: . pushSelfToLevel() Pushes the self to level. Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Source: Framework/GameObject.js, line 151 &lt;abstract&gt; teardown() Source: Framework/GameObject.js, line 151 toString() Source: Framework/GameObject.js, line 158 Returns: Type string toString() Source: Framework/GameObject.js, line 158 Returns: Type string &lt;abstract&gt; update() Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 &lt;abstract&gt; update() Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 × Search results Close "},"Framework.KeyboardEventInterface.html":{"id":"Framework.KeyboardEventInterface.html","title":"Interface: KeyboardEventInterface","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Interface: KeyboardEventInterface Framework. KeyboardEventInterface Keyboard Event Interface 提供鍵盤事件的介面 Source: Framework/KeyboardEventInterface.js, line 4 Interface: KeyboardEventInterface Framework. KeyboardEventInterface Keyboard Event Interface 提供鍵盤事件的介面 Source: Framework/KeyboardEventInterface.js, line 4 × Search results Close "},"Framework.Level.html":{"id":"Framework.Level.html","title":"Class: Level","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Level Framework. Level 遊戲關卡的Class, 一個Game中可能有無數個Level (當然Game的開始和結束頁面也可以是一個Level) 每個Level都會有 {{#crossLink &quot;Level/initializeProgressResource:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/loadingProgress:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/initialize:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/update:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/draw:method&quot;}}{{/crossLink}}, 五個基本的生命週期 new Level() Implements: Framework.KeyboardEventInterface Source: Framework/Level.js, line 22 Example new Framework.Level(); Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Source: Framework/Level.js, line 30 rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Source: Framework/Level.js, line 30 Methods countAverage(list) Count average. Parameters: Name Type Description list The list. Source: Framework/Level.js, line 153 Returns: The total number of average. countAverage(list) Count average. Parameters: Name Type Description list The list. Source: Framework/Level.js, line 153 Returns: The total number of average. &lt;abstract&gt; draw(context) 用來繪製需要被繪製的GameObject 第一行必須撰寫 this.rootScene.draw(context); Parameters: Name Type Description context Object 用來繪製的工具 Source: Framework/Level.js, line 342 &lt;abstract&gt; draw(context) 用來繪製需要被繪製的GameObject 第一行必須撰寫 this.rootScene.draw(context); Parameters: Name Type Description context Object 用來繪製的工具 Source: Framework/Level.js, line 342 forceDraw() Source: Framework/Level.js, line 237 Returns: Type Level forceDraw() Source: Framework/Level.js, line 237 Returns: Type Level &lt;abstract&gt; initialize() 初始化整個Level, 並載入所有圖片資源 Source: Framework/Level.js, line 325 &lt;abstract&gt; initialize() 初始化整個Level, 並載入所有圖片資源 Source: Framework/Level.js, line 325 &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Source: Framework/Level.js, line 296 &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Source: Framework/Level.js, line 296 &lt;abstract&gt; load() Loads this object. Source: Framework/Level.js, line 305 Returns: . &lt;abstract&gt; load() Loads this object. Source: Framework/Level.js, line 305 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Source: Framework/Level.js, line 316 loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Source: Framework/Level.js, line 142 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Source: Framework/Level.js, line 142 update() 用來撰寫遊戲邏輯, 不會去處理繪製的工作 第一行必須撰寫 this.rootScene.update(); Source: Framework/Level.js, line 332 update() 用來撰寫遊戲邏輯, 不會去處理繪製的工作 第一行必須撰寫 this.rootScene.update(); Source: Framework/Level.js, line 332 Class: Level Framework. Level 遊戲關卡的Class, 一個Game中可能有無數個Level (當然Game的開始和結束頁面也可以是一個Level) 每個Level都會有 {{#crossLink &quot;Level/initializeProgressResource:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/loadingProgress:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/initialize:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/update:method&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/draw:method&quot;}}{{/crossLink}}, 五個基本的生命週期 new Level() Implements: Framework.KeyboardEventInterface Source: Framework/Level.js, line 22 Example new Framework.Level(); Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Source: Framework/Level.js, line 30 rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Source: Framework/Level.js, line 30 Methods countAverage(list) Count average. Parameters: Name Type Description list The list. Source: Framework/Level.js, line 153 Returns: The total number of average. countAverage(list) Count average. Parameters: Name Type Description list The list. Source: Framework/Level.js, line 153 Returns: The total number of average. &lt;abstract&gt; draw(context) 用來繪製需要被繪製的GameObject 第一行必須撰寫 this.rootScene.draw(context); Parameters: Name Type Description context Object 用來繪製的工具 Source: Framework/Level.js, line 342 &lt;abstract&gt; draw(context) 用來繪製需要被繪製的GameObject 第一行必須撰寫 this.rootScene.draw(context); Parameters: Name Type Description context Object 用來繪製的工具 Source: Framework/Level.js, line 342 forceDraw() Source: Framework/Level.js, line 237 Returns: Type Level forceDraw() Source: Framework/Level.js, line 237 Returns: Type Level &lt;abstract&gt; initialize() 初始化整個Level, 並載入所有圖片資源 Source: Framework/Level.js, line 325 &lt;abstract&gt; initialize() 初始化整個Level, 並載入所有圖片資源 Source: Framework/Level.js, line 325 &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Source: Framework/Level.js, line 296 &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Source: Framework/Level.js, line 296 &lt;abstract&gt; load() Loads this object. Source: Framework/Level.js, line 305 Returns: . &lt;abstract&gt; load() Loads this object. Source: Framework/Level.js, line 305 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Source: Framework/Level.js, line 316 loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Source: Framework/Level.js, line 142 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Source: Framework/Level.js, line 142 update() 用來撰寫遊戲邏輯, 不會去處理繪製的工作 第一行必須撰寫 this.rootScene.update(); Source: Framework/Level.js, line 332 update() 用來撰寫遊戲邏輯, 不會去處理繪製的工作 第一行必須撰寫 this.rootScene.update(); Source: Framework/Level.js, line 332 × Search results Close "},"Framework.MouseEventInterface.html":{"id":"Framework.MouseEventInterface.html","title":"Interface: MouseEventInterface","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Interface: MouseEventInterface Framework. MouseEventInterface Mouse Event Interface 提供滑鼠事件的介面 Source: Framework/MouseEventInterface.js, line 4 Interface: MouseEventInterface Framework. MouseEventInterface Mouse Event Interface 提供滑鼠事件的介面 Source: Framework/MouseEventInterface.js, line 4 × Search results Close "},"Framework.Point.html":{"id":"Framework.Point.html","title":"Class: Point","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Point Framework. Point new Point(x, y) Set Point Parameters: Name Type Description x Number X axis coordinates y Number y axis coordinates Source: Framework/Point.js, line 20 Members _x :Number Type: Number Source: Framework/Point.js, line 25 _x :Number Type: Number Source: Framework/Point.js, line 25 _y :Number Type: Number Source: Framework/Point.js, line 31 _y :Number Type: Number Source: Framework/Point.js, line 31 first get first data Source: Framework/Point.js, line 52 first get first data Source: Framework/Point.js, line 52 isZero Is origin Source: Framework/Point.js, line 78 isZero Is origin Source: Framework/Point.js, line 78 second get second data Source: Framework/Point.js, line 60 second get second data Source: Framework/Point.js, line 60 x Gets the x coordinate. Source: Framework/Point.js, line 69 x X coordinates the given value. Source: Framework/Point.js, line 89 x Gets the x coordinate. Source: Framework/Point.js, line 69 x X coordinates the given value. Source: Framework/Point.js, line 89 y Gets the y coordinate. Source: Framework/Point.js, line 119 y Y coordinates the given value. Source: Framework/Point.js, line 130 y Gets the y coordinate. Source: Framework/Point.js, line 119 y Y coordinates the given value. Source: Framework/Point.js, line 130 Methods clone() Clone Source: Framework/Point.js, line 97 Returns: Type Point clone() Clone Source: Framework/Point.js, line 97 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Source: Framework/Point.js, line 107 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Source: Framework/Point.js, line 107 Returns: Type Point writeTo(target) Write point to target Parameters: Name Type Description target Point Source: Framework/Point.js, line 39 writeTo(target) Write point to target Parameters: Name Type Description target Point Source: Framework/Point.js, line 39 Class: Point Framework. Point new Point(x, y) Set Point Parameters: Name Type Description x Number X axis coordinates y Number y axis coordinates Source: Framework/Point.js, line 20 Members _x :Number Type: Number Source: Framework/Point.js, line 25 _x :Number Type: Number Source: Framework/Point.js, line 25 _y :Number Type: Number Source: Framework/Point.js, line 31 _y :Number Type: Number Source: Framework/Point.js, line 31 first get first data Source: Framework/Point.js, line 52 first get first data Source: Framework/Point.js, line 52 isZero Is origin Source: Framework/Point.js, line 78 isZero Is origin Source: Framework/Point.js, line 78 second get second data Source: Framework/Point.js, line 60 second get second data Source: Framework/Point.js, line 60 x Gets the x coordinate. Source: Framework/Point.js, line 69 x X coordinates the given value. Source: Framework/Point.js, line 89 x Gets the x coordinate. Source: Framework/Point.js, line 69 x X coordinates the given value. Source: Framework/Point.js, line 89 y Gets the y coordinate. Source: Framework/Point.js, line 119 y Y coordinates the given value. Source: Framework/Point.js, line 130 y Gets the y coordinate. Source: Framework/Point.js, line 119 y Y coordinates the given value. Source: Framework/Point.js, line 130 Methods clone() Clone Source: Framework/Point.js, line 97 Returns: Type Point clone() Clone Source: Framework/Point.js, line 97 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Source: Framework/Point.js, line 107 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Source: Framework/Point.js, line 107 Returns: Type Point writeTo(target) Write point to target Parameters: Name Type Description target Point Source: Framework/Point.js, line 39 writeTo(target) Write point to target Parameters: Name Type Description target Point Source: Framework/Point.js, line 39 × Search results Close "},"Framework.Point3D.html":{"id":"Framework.Point3D.html","title":"Class: Point3D","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Point3D Framework. Point3D new Point3D(x, y, z) Set Point Parameters: Name Type Description x Number X coordinates y Number Y coordinates z Number Z coordinates Source: Framework/Point3D.js, line 20 Members isZero Is origin Source: Framework/Point3D.js, line 79 isZero Is origin Source: Framework/Point3D.js, line 79 z Z coordinates the given value. Source: Framework/Point3D.js, line 59 z Gets the z coordinate. Source: Framework/Point3D.js, line 45 z Gets the z coordinate. Source: Framework/Point3D.js, line 45 z Z coordinates the given value. Source: Framework/Point3D.js, line 59 Methods clone() Clone Source: Framework/Point3D.js, line 69 Returns: Type Point3D clone() Clone Source: Framework/Point3D.js, line 69 Returns: Type Point3D offset(x, y, z) Parameters: Name Type Description x Number y Number z Number Source: Framework/Point3D.js, line 90 Returns: Type Point3D offset(x, y, z) Parameters: Name Type Description x Number y Number z Number Source: Framework/Point3D.js, line 90 Returns: Type Point3D toString() Source: Framework/Point3D.js, line 102 Returns: Type string toString() Source: Framework/Point3D.js, line 102 Returns: Type string writeTo(target) Write point to target Parameters: Name Type Description target Point3D Source: Framework/Point3D.js, line 30 writeTo(target) Write point to target Parameters: Name Type Description target Point3D Source: Framework/Point3D.js, line 30 Class: Point3D Framework. Point3D new Point3D(x, y, z) Set Point Parameters: Name Type Description x Number X coordinates y Number Y coordinates z Number Z coordinates Source: Framework/Point3D.js, line 20 Members isZero Is origin Source: Framework/Point3D.js, line 79 isZero Is origin Source: Framework/Point3D.js, line 79 z Z coordinates the given value. Source: Framework/Point3D.js, line 59 z Gets the z coordinate. Source: Framework/Point3D.js, line 45 z Gets the z coordinate. Source: Framework/Point3D.js, line 45 z Z coordinates the given value. Source: Framework/Point3D.js, line 59 Methods clone() Clone Source: Framework/Point3D.js, line 69 Returns: Type Point3D clone() Clone Source: Framework/Point3D.js, line 69 Returns: Type Point3D offset(x, y, z) Parameters: Name Type Description x Number y Number z Number Source: Framework/Point3D.js, line 90 Returns: Type Point3D offset(x, y, z) Parameters: Name Type Description x Number y Number z Number Source: Framework/Point3D.js, line 90 Returns: Type Point3D toString() Source: Framework/Point3D.js, line 102 Returns: Type string toString() Source: Framework/Point3D.js, line 102 Returns: Type string writeTo(target) Write point to target Parameters: Name Type Description target Point3D Source: Framework/Point3D.js, line 30 writeTo(target) Write point to target Parameters: Name Type Description target Point3D Source: Framework/Point3D.js, line 30 × Search results Close "},"Framework.Scene.html":{"id":"Framework.Scene.html","title":"Class: Scene","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Scene Framework. Scene new Scene() Constructor. Source: Framework/Scene.js, line 22 Members attachArray :Array Type: Array Source: Framework/Scene.js, line 31 attachArray :Array Type: Array Source: Framework/Scene.js, line 31 Methods attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Source: Framework/Scene.js, line 135 Example detach(spriteInstance); detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Source: Framework/Scene.js, line 135 Example detach(spriteInstance); draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Source: Framework/Scene.js, line 77 Returns: . draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Source: Framework/Scene.js, line 77 Returns: . initTexture() Init texture. Source: Framework/Scene.js, line 51 Returns: . initTexture() Init texture. Source: Framework/Scene.js, line 51 Returns: . load() Loads this object. Source: Framework/Scene.js, line 40 Returns: Type void load() Loads this object. Source: Framework/Scene.js, line 40 Returns: Type void toString() Convert this object into a string representation. Source: Framework/Scene.js, line 150 Returns: . Type String toString() Convert this object into a string representation. Source: Framework/Scene.js, line 150 Returns: . Type String update() Updates this object. Source: Framework/Scene.js, line 64 Returns: . update() Updates this object. Source: Framework/Scene.js, line 64 Returns: . Class: Scene Framework. Scene new Scene() Constructor. Source: Framework/Scene.js, line 22 Members attachArray :Array Type: Array Source: Framework/Scene.js, line 31 attachArray :Array Type: Array Source: Framework/Scene.js, line 31 Methods attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Source: Framework/Scene.js, line 135 Example detach(spriteInstance); detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Source: Framework/Scene.js, line 135 Example detach(spriteInstance); draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Source: Framework/Scene.js, line 77 Returns: . draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Source: Framework/Scene.js, line 77 Returns: . initTexture() Init texture. Source: Framework/Scene.js, line 51 Returns: . initTexture() Init texture. Source: Framework/Scene.js, line 51 Returns: . load() Loads this object. Source: Framework/Scene.js, line 40 Returns: Type void load() Loads this object. Source: Framework/Scene.js, line 40 Returns: Type void toString() Convert this object into a string representation. Source: Framework/Scene.js, line 150 Returns: . Type String toString() Convert this object into a string representation. Source: Framework/Scene.js, line 150 Returns: . Type String update() Updates this object. Source: Framework/Scene.js, line 64 Returns: . update() Updates this object. Source: Framework/Scene.js, line 64 Returns: . × Search results Close "},"Framework.Sprite.html":{"id":"Framework.Sprite.html","title":"Class: Sprite","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Sprite Framework. Sprite 可以用來繪製圖片的物件 position 是圖片的中間 position 是圖片的中間 position 是圖片的中間 因為很雷所以要說三次 new Sprite(filePath) Parameters: Name Type Description filePath string 圖片路徑 Implements: Framework.AttachableInterface Source: Framework/Sprite.js, line 20 Example new Framework.Sprite('clock.png'); Extends Framework.GameObject Members diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height 絕對高度的getter Inherited From: Framework.GameObject#height Overrides: Framework.GameObject#height Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Inherited From: Framework.GameObject#width Overrides: Framework.GameObject#width Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/Sprite.js, line 61 draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/Sprite.js, line 61 &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 initTexture() Init texture. Source: Framework/Sprite.js, line 50 Returns: . initTexture() Init texture. Source: Framework/Sprite.js, line 50 Returns: . &lt;abstract&gt; load() Inherited From: Framework.GameObject#load Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . teardown() Teardowns this object. Overrides: Framework.GameObject#teardown Source: Framework/Sprite.js, line 218 Returns: . teardown() Teardowns this object. Overrides: Framework.GameObject#teardown Source: Framework/Sprite.js, line 218 Returns: . testDraw(painter) Tests draw. Parameters: Name Type Description painter The painter. Source: Framework/Sprite.js, line 138 Returns: . testDraw(painter) Tests draw. Parameters: Name Type Description painter The painter. Source: Framework/Sprite.js, line 138 Returns: . toString() Convert this object into a string representation. Overrides: Framework.GameObject#toString Source: Framework/Sprite.js, line 209 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Overrides: Framework.GameObject#toString Source: Framework/Sprite.js, line 209 Returns: An unknown that represents this object. &lt;abstract&gt; update() Inherited From: Framework.GameObject#update Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 Class: Sprite Framework. Sprite 可以用來繪製圖片的物件 position 是圖片的中間 position 是圖片的中間 position 是圖片的中間 因為很雷所以要說三次 new Sprite(filePath) Parameters: Name Type Description filePath string 圖片路徑 Implements: Framework.AttachableInterface Source: Framework/Sprite.js, line 20 Example new Framework.Sprite('clock.png'); Extends Framework.GameObject Members diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height 絕對高度的getter Inherited From: Framework.GameObject#height Overrides: Framework.GameObject#height Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Inherited From: Framework.GameObject#width Overrides: Framework.GameObject#width Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/Sprite.js, line 61 draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/Sprite.js, line 61 &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 initTexture() Init texture. Source: Framework/Sprite.js, line 50 Returns: . initTexture() Init texture. Source: Framework/Sprite.js, line 50 Returns: . &lt;abstract&gt; load() Inherited From: Framework.GameObject#load Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . teardown() Teardowns this object. Overrides: Framework.GameObject#teardown Source: Framework/Sprite.js, line 218 Returns: . teardown() Teardowns this object. Overrides: Framework.GameObject#teardown Source: Framework/Sprite.js, line 218 Returns: . testDraw(painter) Tests draw. Parameters: Name Type Description painter The painter. Source: Framework/Sprite.js, line 138 Returns: . testDraw(painter) Tests draw. Parameters: Name Type Description painter The painter. Source: Framework/Sprite.js, line 138 Returns: . toString() Convert this object into a string representation. Overrides: Framework.GameObject#toString Source: Framework/Sprite.js, line 209 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Overrides: Framework.GameObject#toString Source: Framework/Sprite.js, line 209 Returns: An unknown that represents this object. &lt;abstract&gt; update() Inherited From: Framework.GameObject#update Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 × Search results Close "},"Game.html":{"id":"Game.html","title":"Class: Game","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Game Game new Game() Default constructor. Source: lf2/!MainGame.js, line 9 Members cheat Gets the cheat status. Source: lf2/!MainGame.js, line 143 cheat Gets the cheat status. Source: lf2/!MainGame.js, line 143 Methods addCheatHandle() Adds cheat handle. Source: lf2/!MainGame.js, line 79 Returns: . addCheatHandle() Adds cheat handle. Source: lf2/!MainGame.js, line 79 Returns: . addEggHandle() Adds egg handle. Source: lf2/!MainGame.js, line 103 Returns: . addEggHandle() Adds egg handle. Source: lf2/!MainGame.js, line 103 Returns: . keyInSequence(asciiArrayReversed) Key in sequence. Parameters: Name Type Description asciiArrayReversed The ASCII array reversed. Source: lf2/!MainGame.js, line 70 Returns: . keyInSequence(asciiArrayReversed) Key in sequence. Parameters: Name Type Description asciiArrayReversed The ASCII array reversed. Source: lf2/!MainGame.js, line 70 Returns: . playBgm() Play bgm. Source: lf2/!MainGame.js, line 126 Returns: . playBgm() Play bgm. Source: lf2/!MainGame.js, line 126 Returns: . start() Starts this object. Source: lf2/!MainGame.js, line 53 Returns: . start() Starts this object. Source: lf2/!MainGame.js, line 53 Returns: . Class: Game Game new Game() Default constructor. Source: lf2/!MainGame.js, line 9 Members cheat Gets the cheat status. Source: lf2/!MainGame.js, line 143 cheat Gets the cheat status. Source: lf2/!MainGame.js, line 143 Methods addCheatHandle() Adds cheat handle. Source: lf2/!MainGame.js, line 79 Returns: . addCheatHandle() Adds cheat handle. Source: lf2/!MainGame.js, line 79 Returns: . addEggHandle() Adds egg handle. Source: lf2/!MainGame.js, line 103 Returns: . addEggHandle() Adds egg handle. Source: lf2/!MainGame.js, line 103 Returns: . keyInSequence(asciiArrayReversed) Key in sequence. Parameters: Name Type Description asciiArrayReversed The ASCII array reversed. Source: lf2/!MainGame.js, line 70 Returns: . keyInSequence(asciiArrayReversed) Key in sequence. Parameters: Name Type Description asciiArrayReversed The ASCII array reversed. Source: lf2/!MainGame.js, line 70 Returns: . playBgm() Play bgm. Source: lf2/!MainGame.js, line 126 Returns: . playBgm() Play bgm. Source: lf2/!MainGame.js, line 126 Returns: . start() Starts this object. Source: lf2/!MainGame.js, line 53 Returns: . start() Starts this object. Source: lf2/!MainGame.js, line 53 Returns: . × Search results Close "},"GameMapPool.html":{"id":"GameMapPool.html","title":"Class: GameMapPool","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameMapPool GameMapPool new GameMapPool() GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 3 Extends Map Methods set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameMap Source: lf2/objects/pool/GameMapPool.js, line 22 Returns: Type GameMapPool set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameMap Source: lf2/objects/pool/GameMapPool.js, line 22 Returns: Type GameMapPool Class: GameMapPool GameMapPool new GameMapPool() GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 3 Extends Map Methods set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameMap Source: lf2/objects/pool/GameMapPool.js, line 22 Returns: Type GameMapPool set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameMap Source: lf2/objects/pool/GameMapPool.js, line 22 Returns: Type GameMapPool × Search results Close "},"GameObjectPool.html":{"id":"GameObjectPool.html","title":"Class: GameObjectPool","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObjectPool GameObjectPool new GameObjectPool() GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 3 Extends Map Methods set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameObject Source: lf2/objects/pool/GameObjectPool.js, line 22 Returns: Type GameObjectPool set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameObject Source: lf2/objects/pool/GameObjectPool.js, line 22 Returns: Type GameObjectPool Class: GameObjectPool GameObjectPool new GameObjectPool() GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 3 Extends Map Methods set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameObject Source: lf2/objects/pool/GameObjectPool.js, line 22 Returns: Type GameObjectPool set(key, value) Add value to this pool Parameters: Name Type Description key Number value lf2.GameObject Source: lf2/objects/pool/GameObjectPool.js, line 22 Returns: Type GameObjectPool × Search results Close "},"KeyBoardManager.html":{"id":"KeyBoardManager.html","title":"Class: KeyBoardManager","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: KeyBoardManager KeyBoardManager new KeyBoardManager() Default constructor. Source: Framework/KeyBoardManager.js, line 282 Methods isKeyDown(code) Parameters: Name Type Description code Number | string Source: Framework/KeyBoardManager.js, line 379 isKeyDown(code) Parameters: Name Type Description code Number | string Source: Framework/KeyBoardManager.js, line 379 keydownList() Keydown list. Source: Framework/KeyBoardManager.js, line 344 Returns: . keydownList() Keydown list. Source: Framework/KeyBoardManager.js, line 344 Returns: . keypressHistory() Keypress history. Source: Framework/KeyBoardManager.js, line 363 Returns: . keypressHistory() Keypress history. Source: Framework/KeyBoardManager.js, line 363 Returns: . setClearHistoryTime() Sets clear history time. Source: Framework/KeyBoardManager.js, line 307 Returns: . setClearHistoryTime() Sets clear history time. Source: Framework/KeyBoardManager.js, line 307 Returns: . setKeydownEvent() Sets keydown event. Source: Framework/KeyBoardManager.js, line 317 Returns: . setKeydownEvent() Sets keydown event. Source: Framework/KeyBoardManager.js, line 317 Returns: . setKeypressEvent() Sets keypress event. Source: Framework/KeyBoardManager.js, line 335 Returns: . setKeypressEvent() Sets keypress event. Source: Framework/KeyBoardManager.js, line 335 Returns: . setKeyupEvent() Sets keyup event. Source: Framework/KeyBoardManager.js, line 326 Returns: . setKeyupEvent() Sets keyup event. Source: Framework/KeyBoardManager.js, line 326 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 298 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 372 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 372 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 298 Returns: . Class: KeyBoardManager KeyBoardManager new KeyBoardManager() Default constructor. Source: Framework/KeyBoardManager.js, line 282 Methods isKeyDown(code) Parameters: Name Type Description code Number | string Source: Framework/KeyBoardManager.js, line 379 isKeyDown(code) Parameters: Name Type Description code Number | string Source: Framework/KeyBoardManager.js, line 379 keydownList() Keydown list. Source: Framework/KeyBoardManager.js, line 344 Returns: . keydownList() Keydown list. Source: Framework/KeyBoardManager.js, line 344 Returns: . keypressHistory() Keypress history. Source: Framework/KeyBoardManager.js, line 363 Returns: . keypressHistory() Keypress history. Source: Framework/KeyBoardManager.js, line 363 Returns: . setClearHistoryTime() Sets clear history time. Source: Framework/KeyBoardManager.js, line 307 Returns: . setClearHistoryTime() Sets clear history time. Source: Framework/KeyBoardManager.js, line 307 Returns: . setKeydownEvent() Sets keydown event. Source: Framework/KeyBoardManager.js, line 317 Returns: . setKeydownEvent() Sets keydown event. Source: Framework/KeyBoardManager.js, line 317 Returns: . setKeypressEvent() Sets keypress event. Source: Framework/KeyBoardManager.js, line 335 Returns: . setKeypressEvent() Sets keypress event. Source: Framework/KeyBoardManager.js, line 335 Returns: . setKeyupEvent() Sets keyup event. Source: Framework/KeyBoardManager.js, line 326 Returns: . setKeyupEvent() Sets keyup event. Source: Framework/KeyBoardManager.js, line 326 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 298 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 372 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 372 Returns: . setSubject() Sets the subject. Source: Framework/KeyBoardManager.js, line 298 Returns: . × Search results Close "},"lf2.html":{"id":"lf2.html","title":"Namespace: lf2","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Namespace: lf2 lf2 Implements: Framework.KeyboardEventInterface Source: lf2/level/LaunchMenu.js, line 8 Extends Framework.Level Classes AbstractBehavior AbstractBehavior AbstractBehavior AbstractBehavior Ball Ball Ball Ball BmpInfo BmpInfo BmpInfo BmpInfo Body Body Body Body Bound Bound CenterTrackerBehavior CenterTrackerBehavior Character Character Character Character CollisionSearchTree CollisionSearchTree ColorBar ColorBar ColorBar ColorBar Cube Cube Effect Effect Egg Egg FasterTrackerBehavior FasterTrackerBehavior FightLevel FightLevel FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBehavior FirzenDisasterFallDownBehavior Frame Frame Frame Frame GameItem GameItem GameItem GameItem GameMap GameMap GameMap GameMap GameMapLayer GameMapLayer GameMapLayer GameMapLayer GameObject GameObject GameObject GameObject GameObjectBall GameObjectBall GameObjectBall GameObjectBall GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectWeapon GameObjectWeapon GameObjectWeapon GameObjectWeapon HelpLevel HelpLevel HorizontalTrackerBehavior HorizontalTrackerBehavior ImageInformation ImageInformation ImageInformation ImageInformation Interaction Interaction Interaction Interaction ItrKind ItrKind JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallTrackerBehavior JulianBallTrackerBehavior KeyboardConfig KeyboardConfig KeyboardConfig KeyboardConfig KeyEventPool KeyEventPool KeyEventPool KeyEventPool LaunchMenu LaunchMenu LoadingLevel LoadingLevel MySettingLevel MySettingLevel ObjectPoint ObjectPoint ObjectPoint ObjectPoint Player Player Player Player PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel Rectangle Rectangle Rectangle Rectangle SelectionLevel SelectionLevel SpeedUpTrackerBehavior SpeedUpTrackerBehavior Team Team Team Team Weapon Weapon Weapon Weapon Members &lt;static&gt; FrameStage :Object 定義遊戲內Frame狀態的列舉型別 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Type: Object Source: lf2/enums/FrameStage.js, line 79 &lt;static&gt; FrameStage :Object 定義遊戲內Frame狀態的列舉型別 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Type: Object Source: lf2/enums/FrameStage.js, line 79 &lt;static&gt; GameMapPool :GameMapPool Type: GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 36 &lt;static&gt; GameMapPool :GameMapPool Type: GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 36 &lt;static&gt; GameObjectPool :GameObjectPool Type: GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 36 &lt;static&gt; GameObjectPool :GameObjectPool Type: GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 36 &lt;static&gt; Prefetch :Prefetch Type: Prefetch Source: lf2/game/Prefetch.js, line 60 &lt;static&gt; Prefetch :Prefetch Type: Prefetch Source: lf2/game/Prefetch.js, line 60 Namespace: lf2 lf2 Implements: Framework.KeyboardEventInterface Source: lf2/level/LaunchMenu.js, line 8 Extends Framework.Level Classes AbstractBehavior AbstractBehavior AbstractBehavior AbstractBehavior Ball Ball Ball Ball BmpInfo BmpInfo BmpInfo BmpInfo Body Body Body Body Bound Bound CenterTrackerBehavior CenterTrackerBehavior Character Character Character Character CollisionSearchTree CollisionSearchTree ColorBar ColorBar ColorBar ColorBar Cube Cube Effect Effect Egg Egg FasterTrackerBehavior FasterTrackerBehavior FightLevel FightLevel FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBeginBehavior FirzenDisasterFallDownBehavior FirzenDisasterFallDownBehavior Frame Frame Frame Frame GameItem GameItem GameItem GameItem GameMap GameMap GameMap GameMap GameMapLayer GameMapLayer GameMapLayer GameMapLayer GameObject GameObject GameObject GameObject GameObjectBall GameObjectBall GameObjectBall GameObjectBall GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectCharacter GameObjectWeapon GameObjectWeapon GameObjectWeapon GameObjectWeapon HelpLevel HelpLevel HorizontalTrackerBehavior HorizontalTrackerBehavior ImageInformation ImageInformation ImageInformation ImageInformation Interaction Interaction Interaction Interaction ItrKind ItrKind JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallBeginBehavior JulianBallTrackerBehavior JulianBallTrackerBehavior KeyboardConfig KeyboardConfig KeyboardConfig KeyboardConfig KeyEventPool KeyEventPool KeyEventPool KeyEventPool LaunchMenu LaunchMenu LoadingLevel LoadingLevel MySettingLevel MySettingLevel ObjectPoint ObjectPoint ObjectPoint ObjectPoint Player Player Player Player PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel PlayerStatusPanel Rectangle Rectangle Rectangle Rectangle SelectionLevel SelectionLevel SpeedUpTrackerBehavior SpeedUpTrackerBehavior Team Team Team Team Weapon Weapon Weapon Weapon Members &lt;static&gt; FrameStage :Object 定義遊戲內Frame狀態的列舉型別 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Type: Object Source: lf2/enums/FrameStage.js, line 79 &lt;static&gt; FrameStage :Object 定義遊戲內Frame狀態的列舉型別 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Type: Object Source: lf2/enums/FrameStage.js, line 79 &lt;static&gt; GameMapPool :GameMapPool Type: GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 36 &lt;static&gt; GameMapPool :GameMapPool Type: GameMapPool Source: lf2/objects/pool/GameMapPool.js, line 36 &lt;static&gt; GameObjectPool :GameObjectPool Type: GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 36 &lt;static&gt; GameObjectPool :GameObjectPool Type: GameObjectPool Source: lf2/objects/pool/GameObjectPool.js, line 36 &lt;static&gt; Prefetch :Prefetch Type: Prefetch Source: lf2/game/Prefetch.js, line 60 &lt;static&gt; Prefetch :Prefetch Type: Prefetch Source: lf2/game/Prefetch.js, line 60 × Search results Close "},"lf2.AbstractBehavior.html":{"id":"lf2.AbstractBehavior.html","title":"Class: AbstractBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: AbstractBehavior lf2. AbstractBehavior new AbstractBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 16 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: AbstractBehavior lf2. AbstractBehavior &lt;abstract&gt; new AbstractBehavior() Abstract Behavior Source: lf2/items/behavior/AbstractBehavior.js, line 4 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: AbstractBehavior lf2. AbstractBehavior &lt;abstract&gt; new AbstractBehavior() Abstract Behavior Source: lf2/items/behavior/AbstractBehavior.js, line 4 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: AbstractBehavior lf2. AbstractBehavior new AbstractBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 16 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 belongTo :lf2.Player Type: lf2.Player Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getTarget() Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D &lt;abstract&gt; getVelocity() Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . update() Updates this object. Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . × Search results Close "},"lf2.Ball.html":{"id":"lf2.Ball.html","title":"Class: Ball","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Ball lf2. Ball new Ball() Ball Implements: Framework.AttachableInterface Source: lf2/items/Ball.js, line 20 Extends lf2.GameItem Members __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.GameItem#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.GameItem#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Ball lf2. Ball new Ball(ballId, player) Parameters: Name Type Description ballId ID of character player lf2.Player of this ball belong to Source: lf2/items/Ball.js, line 33 Members __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.GameItem#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.GameItem#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Ball lf2. Ball new Ball(ballId, player) Parameters: Name Type Description ballId ID of character player lf2.Player of this ball belong to Source: lf2/items/Ball.js, line 33 Members __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.GameItem#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.GameItem#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Ball lf2. Ball new Ball() Ball Implements: Framework.AttachableInterface Source: lf2/items/Ball.js, line 20 Extends lf2.GameItem Members __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 __leftTopPoint__lol get leftTopPoint() Left top point. Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. _getVelocity() Gets the velocity. Overrides: lf2.GameItem#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.GameItem#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.GameItem#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Ball.js, line 98 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . updateVelocity() Updates the velocity. Overrides: lf2.GameItem#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . × Search results Close "},"lf2.BmpInfo.html":{"id":"lf2.BmpInfo.html","title":"Class: BmpInfo","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: BmpInfo lf2. BmpInfo new BmpInfo() BmpInfo 提供圖片資訊的儲存及預處理功能 Source: lf2/frame/BmpInfo.js, line 19 Methods _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise Class: BmpInfo lf2. BmpInfo new BmpInfo(context) Parameters: Name Type Description context String Source: lf2/frame/BmpInfo.js, line 30 Methods _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise Class: BmpInfo lf2. BmpInfo new BmpInfo(context) Parameters: Name Type Description context String Source: lf2/frame/BmpInfo.js, line 30 Methods _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise Class: BmpInfo lf2. BmpInfo new BmpInfo() BmpInfo 提供圖片資訊的儲存及預處理功能 Source: lf2/frame/BmpInfo.js, line 19 Methods _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . _processImage(str) _processImage(str) Process the image described by str. Parameters: Name Type Description str The string. Source: lf2/frame/BmpInfo.js, line 96 Returns: . addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise addPreloadResource(url) Add preload resource Parameters: Name Type Description url string | Promise Source: lf2/frame/BmpInfo.js, line 67 Returns: Type Promise × Search results Close "},"lf2.Body.html":{"id":"lf2.Body.html","title":"Class: Body","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Body lf2. Body new Body() Body 提供Frame可傷害範圍資訊儲存功能 ◎bdy解說◎ bdy: =身體(受攻擊的部分)開始 kind: 0 特殊特技 x: 26 w: 35 =受攻擊前~後的距離 y: 12 h: 66=受攻擊上~下的距離 bdy_end:=身體結束 Source: lf2/frame/Body.js, line 6 Class: Body lf2. Body new Body(content) Parameters: Name Type Description content String Source: lf2/frame/Body.js, line 25 Class: Body lf2. Body new Body(content) Parameters: Name Type Description content String Source: lf2/frame/Body.js, line 25 Class: Body lf2. Body new Body() Body 提供Frame可傷害範圍資訊儲存功能 ◎bdy解說◎ bdy: =身體(受攻擊的部分)開始 kind: 0 特殊特技 x: 26 w: 35 =受攻擊前~後的距離 y: 12 h: 66=受攻擊上~下的距離 bdy_end:=身體結束 Source: lf2/frame/Body.js, line 6 × Search results Close "},"lf2.Bound.html":{"id":"lf2.Bound.html","title":"Class: Bound","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Bound lf2. Bound new Bound() Bound 定義邊框的列舉型別，有上、下、左、右邊界 Source: lf2/enums/Bound.js, line 3 Class: Bound lf2. Bound new Bound() Bound 定義邊框的列舉型別，有上、下、左、右邊界 Source: lf2/enums/Bound.js, line 3 × Search results Close "},"lf2.CenterTrackerBehavior.html":{"id":"lf2.CenterTrackerBehavior.html","title":"Class: CenterTrackerBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: CenterTrackerBehavior lf2. CenterTrackerBehavior new CenterTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/CenterTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 FA Gets the fa. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . update() Updates this object. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . Class: CenterTrackerBehavior lf2. CenterTrackerBehavior new CenterTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/CenterTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 FA Gets the fa. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . update() Updates this object. Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . × Search results Close "},"lf2.Character.html":{"id":"lf2.Character.html","title":"Class: Character","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Character lf2. Character new Character() Character Implements: Framework.AttachableInterface Source: lf2/items/Character.js, line 134 Extends lf2.GameItem Members _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Inherited From: lf2.GameItem#_getVelocity Overrides: lf2.GameItem#_getVelocity Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 updateVelocity() Updates the velocity. Inherited From: lf2.GameItem#updateVelocity Overrides: lf2.GameItem#updateVelocity Source: lf2/items/GameItem.js, line 319 Returns: . Class: Character lf2. Character new Character(charId, player) Parameters: Name Type Description charId ID of character player lf2.Player Source: lf2/items/Character.js, line 147 Members _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Inherited From: lf2.GameItem#_getVelocity Overrides: lf2.GameItem#_getVelocity Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 updateVelocity() Updates the velocity. Inherited From: lf2.GameItem#updateVelocity Overrides: lf2.GameItem#updateVelocity Source: lf2/items/GameItem.js, line 319 Returns: . Class: Character lf2. Character new Character(charId, player) Parameters: Name Type Description charId ID of character player lf2.Player Source: lf2/items/Character.js, line 147 Members _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Inherited From: lf2.GameItem#_getVelocity Overrides: lf2.GameItem#_getVelocity Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 updateVelocity() Updates the velocity. Inherited From: lf2.GameItem#updateVelocity Overrides: lf2.GameItem#updateVelocity Source: lf2/items/GameItem.js, line 319 Returns: . Class: Character lf2. Character new Character() Character Implements: Framework.AttachableInterface Source: lf2/items/Character.js, line 134 Extends lf2.GameItem Members _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.GameItem#_audio Source: lf2/items/GameItem.js, line 120 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _curFuncKey Current function key. Source: lf2/items/Character.js, line 890 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.GameItem#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.GameItem#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.GameItem#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.GameItem#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.GameItem#isFrameChanged Source: lf2/items/GameItem.js, line 909 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isFuncKeyChanged get isFuncKeyChanged() Is function key changed. Source: lf2/items/Character.js, line 534 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.GameItem#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.GameItem#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.GameItem#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.GameItem#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.GameItem#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.GameItem#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.GameItem#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.GameItem#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getFrameOffset() Applies the friction. Overrides: lf2.GameItem#_getFrameOffset Source: lf2/items/Character.js, line 386 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.GameItem#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Inherited From: lf2.GameItem#_getVelocity Overrides: lf2.GameItem#_getVelocity Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 addFall(num) Parameters: Name Type Description num Number Source: lf2/items/Character.js, line 875 applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.GameItem#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Overrides: lf2.GameItem#canDamageBy Source: lf2/items/Character.js, line 678 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.GameItem#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.GameItem#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . freeze() Freezes this object. Overrides: lf2.GameItem#freeze Source: lf2/items/Character.js, line 640 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.GameItem#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.GameItem#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.GameItem#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.GameItem#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Initial this object Inherited From: lf2.GameItem#initialize Source: lf2/items/GameItem.js, line 179 isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.GameItem#isFront Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Overrides: lf2.GameItem#notifyDamageBy Source: lf2/items/Character.js, line 699 onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Overrides: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Overrides: lf2.GameItem#onOutOfBound Source: lf2/items/Character.js, line 543 playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . playEffectSound(effectCode, fall) Play effect sound. Parameters: Name Type Description effectCode The effect code. fall The fall. Source: lf2/items/Character.js, line 864 Returns: . postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Overrides: lf2.GameItem#postDamageItems Source: lf2/items/Character.js, line 851 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.GameItem#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.GameItem#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.GameItem#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.GameItem#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.GameItem#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.GameItem#setPosition Source: lf2/items/GameItem.js, line 1001 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 setUpKey(key) Set up key Parameters: Name Type Description key Number Source: lf2/items/Character.js, line 898 startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . startRun() startRun() Starts a run. Source: lf2/items/Character.js, line 480 Returns: . transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.GameItem#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 update() update() Updates this object. Overrides: lf2.GameItem#update Implements: Framework.AttachableInterface#update Source: lf2/items/Character.js, line 556 updateVelocity() Updates the velocity. Inherited From: lf2.GameItem#updateVelocity Overrides: lf2.GameItem#updateVelocity Source: lf2/items/GameItem.js, line 319 Returns: . × Search results Close "},"lf2.CollisionSearchTree.html":{"id":"lf2.CollisionSearchTree.html","title":"Class: CollisionSearchTree","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: CollisionSearchTree lf2. CollisionSearchTree new CollisionSearchTree() Tree Source: lf2/game/CollisionSearchTree.js, line 139 Methods add(value) Parameters: Name Type Description value lf2.Rectangle Source: lf2/game/CollisionSearchTree.js, line 149 add(value) Parameters: Name Type Description value lf2.Rectangle Source: lf2/game/CollisionSearchTree.js, line 149 Class: CollisionSearchTree lf2. CollisionSearchTree new CollisionSearchTree() Tree Source: lf2/game/CollisionSearchTree.js, line 139 Methods add(value) Parameters: Name Type Description value lf2.Rectangle Source: lf2/game/CollisionSearchTree.js, line 149 add(value) Parameters: Name Type Description value lf2.Rectangle Source: lf2/game/CollisionSearchTree.js, line 149 × Search results Close "},"lf2.ColorBar.html":{"id":"lf2.ColorBar.html","title":"Class: ColorBar","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: ColorBar lf2. ColorBar new ColorBar() Color bar Implements: Framework.AttachableInterface Source: lf2/objects/ColorBar.js, line 3 Extends Framework.GameObject Members color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . Class: ColorBar lf2. ColorBar new ColorBar(color, width, height) Parameters: Name Type Description color String width Number height Number Source: lf2/objects/ColorBar.js, line 17 Members color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . Class: ColorBar lf2. ColorBar new ColorBar(color, width, height) Parameters: Name Type Description color String width Number height Number Source: lf2/objects/ColorBar.js, line 17 Members color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . Class: ColorBar lf2. ColorBar new ColorBar() Color bar Implements: Framework.AttachableInterface Source: lf2/objects/ColorBar.js, line 3 Extends Framework.GameObject Members color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 color Source: lf2/objects/ColorBar.js, line 104 color Source: lf2/objects/ColorBar.js, line 96 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 89 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 height Overrides: Framework.GameObject#height Source: lf2/objects/ColorBar.js, line 81 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 66 width Overrides: Framework.GameObject#width Source: lf2/objects/ColorBar.js, line 74 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: lf2/objects/ColorBar.js, line 55 Returns: . &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . load() load() Loads this object. Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: lf2/objects/ColorBar.js, line 31 Returns: . pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . update() update() Updates this object. Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: lf2/objects/ColorBar.js, line 42 Returns: . × Search results Close "},"lf2.Cube.html":{"id":"lf2.Cube.html","title":"Class: Cube","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Cube lf2. Cube new Cube() Cube Source: lf2/game/Cube.js, line 4 Methods draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Cube.js, line 24 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Cube.js, line 24 Class: Cube lf2. Cube new Cube() Cube Source: lf2/game/Cube.js, line 4 Methods draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Cube.js, line 24 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Cube.js, line 24 × Search results Close "},"lf2.Effect.html":{"id":"lf2.Effect.html","title":"Class: Effect","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Effect lf2. Effect new Effect() Itr Effect 定義遊戲內部特效的列舉型別 Source: lf2/enums/Effect.js, line 4 Class: Effect lf2. Effect new Effect() Itr Effect 定義遊戲內部特效的列舉型別 Source: lf2/enums/Effect.js, line 4 × Search results Close "},"lf2.Egg.html":{"id":"lf2.Egg.html","title":"Class: Egg","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Egg lf2. Egg new Egg() Egg Source: lf2/game/Egg.js, line 17 Class: Egg lf2. Egg new Egg() Egg Source: lf2/game/Egg.js, line 17 × Search results Close "},"lf2.FasterTrackerBehavior.html":{"id":"lf2.FasterTrackerBehavior.html","title":"Class: FasterTrackerBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FasterTrackerBehavior lf2. FasterTrackerBehavior new FasterTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FasterTrackerBehavior.js, line 23 Members FA Gets the fa. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 77 FA Gets the fa. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 77 Methods getTarget() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 49 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 49 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 86 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 86 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 41 Returns: . update() Updates this object. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 41 Returns: . Class: FasterTrackerBehavior lf2. FasterTrackerBehavior new FasterTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FasterTrackerBehavior.js, line 23 Members FA Gets the fa. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 77 FA Gets the fa. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 77 Methods getTarget() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 49 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/FasterTrackerBehavior.js, line 49 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 86 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 86 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 41 Returns: . update() Updates this object. Source: lf2/items/behavior/FasterTrackerBehavior.js, line 41 Returns: . × Search results Close "},"lf2.FightLevel.html":{"id":"lf2.FightLevel.html","title":"Class: FightLevel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FightLevel lf2. FightLevel new FightLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/FightLevel.js, line 23 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods autodelete() Autodeletes this object. Source: lf2/level/FightLevel.js, line 266 Returns: . autodelete() Autodeletes this object. Source: lf2/level/FightLevel.js, line 266 Returns: . checkGameOver() Check game over. Source: lf2/level/FightLevel.js, line 339 Returns: . checkGameOver() Check game over. Source: lf2/level/FightLevel.js, line 339 Returns: . clearTeamInfoCache() Clears the team information cache. Source: lf2/level/FightLevel.js, line 416 Returns: . clearTeamInfoCache() Clears the team information cache. Source: lf2/level/FightLevel.js, line 416 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/FightLevel.js, line 257 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/FightLevel.js, line 257 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.Level#draw Source: lf2/level/FightLevel.js, line 161 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.Level#draw Source: lf2/level/FightLevel.js, line 161 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getTeamInfo() Gets team information. Source: lf2/level/FightLevel.js, line 357 Returns: The team information. getTeamInfo() Gets team information. Source: lf2/level/FightLevel.js, line 357 Returns: The team information. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/FightLevel.js, line 126 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/FightLevel.js, line 126 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 198 Returns: . keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 198 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 241 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 241 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/FightLevel.js, line 70 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/FightLevel.js, line 70 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 showGameOverPanel() Shows the game over panel. Source: lf2/level/FightLevel.js, line 425 Returns: . showGameOverPanel() Shows the game over panel. Source: lf2/level/FightLevel.js, line 425 Returns: . showPanel() Shows the panel. Source: lf2/level/FightLevel.js, line 280 Returns: . showPanel() Shows the panel. Source: lf2/level/FightLevel.js, line 280 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/FightLevel.js, line 136 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/FightLevel.js, line 136 Returns: . Class: FightLevel lf2. FightLevel new FightLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/FightLevel.js, line 23 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods autodelete() Autodeletes this object. Source: lf2/level/FightLevel.js, line 266 Returns: . autodelete() Autodeletes this object. Source: lf2/level/FightLevel.js, line 266 Returns: . checkGameOver() Check game over. Source: lf2/level/FightLevel.js, line 339 Returns: . checkGameOver() Check game over. Source: lf2/level/FightLevel.js, line 339 Returns: . clearTeamInfoCache() Clears the team information cache. Source: lf2/level/FightLevel.js, line 416 Returns: . clearTeamInfoCache() Clears the team information cache. Source: lf2/level/FightLevel.js, line 416 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/FightLevel.js, line 257 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/FightLevel.js, line 257 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.Level#draw Source: lf2/level/FightLevel.js, line 161 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx The context. Overrides: Framework.Level#draw Source: lf2/level/FightLevel.js, line 161 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getTeamInfo() Gets team information. Source: lf2/level/FightLevel.js, line 357 Returns: The team information. getTeamInfo() Gets team information. Source: lf2/level/FightLevel.js, line 357 Returns: The team information. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/FightLevel.js, line 126 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/FightLevel.js, line 126 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 198 Returns: . keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 198 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 241 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/FightLevel.js, line 241 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/FightLevel.js, line 70 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/FightLevel.js, line 70 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 showGameOverPanel() Shows the game over panel. Source: lf2/level/FightLevel.js, line 425 Returns: . showGameOverPanel() Shows the game over panel. Source: lf2/level/FightLevel.js, line 425 Returns: . showPanel() Shows the panel. Source: lf2/level/FightLevel.js, line 280 Returns: . showPanel() Shows the panel. Source: lf2/level/FightLevel.js, line 280 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/FightLevel.js, line 136 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/FightLevel.js, line 136 Returns: . × Search results Close "},"lf2.FirzenDisasterFallDownBeginBehavior.html":{"id":"lf2.FirzenDisasterFallDownBeginBehavior.html","title":"Class: FirzenDisasterFallDownBeginBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FirzenDisasterFallDownBeginBehavior lf2. FirzenDisasterFallDownBeginBehavior new FirzenDisasterFallDownBeginBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 17 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . Class: FirzenDisasterFallDownBeginBehavior lf2. FirzenDisasterFallDownBeginBehavior new FirzenDisasterFallDownBeginBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 17 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . Class: FirzenDisasterFallDownBeginBehavior lf2. FirzenDisasterFallDownBeginBehavior new FirzenDisasterFallDownBeginBehavior() FirzenDisasterFallDownBeginBehavior Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 5 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . Class: FirzenDisasterFallDownBeginBehavior lf2. FirzenDisasterFallDownBeginBehavior new FirzenDisasterFallDownBeginBehavior() FirzenDisasterFallDownBeginBehavior Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 5 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 70 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 61 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 26 Returns: Type Framework.Point3D update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/FirzenDisasterFallDownBeginBehavior.js, line 35 Returns: . × Search results Close "},"lf2.FirzenDisasterFallDownBehavior.html":{"id":"lf2.FirzenDisasterFallDownBehavior.html","title":"Class: FirzenDisasterFallDownBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FirzenDisasterFallDownBehavior lf2. FirzenDisasterFallDownBehavior new FirzenDisasterFallDownBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 25 Members FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 140 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 140 Methods getTarget() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 117 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 117 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 57 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 57 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 149 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 149 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 45 Returns: . update() Updates this object. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 45 Returns: . Class: FirzenDisasterFallDownBehavior lf2. FirzenDisasterFallDownBehavior new FirzenDisasterFallDownBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 25 Members FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 140 FA Gets the fa. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 140 Methods getTarget() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 117 Returns: Type lf2.GameItem getTarget() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 117 Returns: Type lf2.GameItem getVelocity() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 57 Returns: Type Framework.Point3D getVelocity() Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 57 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 149 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 149 Returns: An unknown that represents this object. update() Updates this object. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 45 Returns: . update() Updates this object. Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 45 Returns: . × Search results Close "},"lf2.Frame.html":{"id":"lf2.Frame.html","title":"Class: Frame","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Frame lf2. Frame new Frame() Frame 提供人物、氣功波各種畫格資訊儲存功能 =動作開始 72 super_punch=號碼和名 pic: 8 =圖檔位置(從0開始算) 18的攻擊會傷及我方。 wait: 2 =停頓時間 next: 73 =下一個動作是 dvx: =向前後行多少 dvy: =向天,地行多少 dvz: =向上下行多少 centerx: 是以哪一點作為人物的中央 centery: 是以哪一點作為人物的底部(腳的位置) hit_a: 按攻擊時,跳到哪一個frame? hit_d: 按防衛時,跳到哪一個frame? hit_j: 按跳時,跳到哪一個frame? hit_Ua: 按&quot;防上攻&quot;時,跳到哪一個frame? hit_Uj: 按&quot;防上跳&quot;時,跳到哪一個frame? hit_Da: 按&quot;防下攻&quot;時,跳到哪一個frame? hit_Dj: 按&quot;防下跳&quot;時,跳到哪一個frame? hit_Fa: 按&quot;防前攻&quot;時,跳到哪一個frame? hit_Fj: 按&quot;防前跳&quot;時,跳到哪一個frame? hit_ja: 按&quot;防跳攻&quot;時,跳到哪一個frame? 1.next:0是不斷重複此動作，hit_???:的0是指沒有設定。 2.next、hit_? :999是指回到隨機動作 3.next、hit_? :1000是消失 4.next: -??? 會反向進行第???個frame 5.next:1200~1299是隱形 Source: lf2/frame/Frame.js, line 22 Members center Source: lf2/frame/Frame.js, line 249 center Source: lf2/frame/Frame.js, line 249 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 Class: Frame lf2. Frame new Frame(context, gameObj) Parameters: Name Type Description context String gameObj lf2.GameObject Game Object Source: lf2/frame/Frame.js, line 71 Members center Source: lf2/frame/Frame.js, line 249 center Source: lf2/frame/Frame.js, line 249 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 Class: Frame lf2. Frame new Frame() Frame 提供人物、氣功波各種畫格資訊儲存功能 =動作開始 72 super_punch=號碼和名 pic: 8 =圖檔位置(從0開始算) 18的攻擊會傷及我方。 wait: 2 =停頓時間 next: 73 =下一個動作是 dvx: =向前後行多少 dvy: =向天,地行多少 dvz: =向上下行多少 centerx: 是以哪一點作為人物的中央 centery: 是以哪一點作為人物的底部(腳的位置) hit_a: 按攻擊時,跳到哪一個frame? hit_d: 按防衛時,跳到哪一個frame? hit_j: 按跳時,跳到哪一個frame? hit_Ua: 按&quot;防上攻&quot;時,跳到哪一個frame? hit_Uj: 按&quot;防上跳&quot;時,跳到哪一個frame? hit_Da: 按&quot;防下攻&quot;時,跳到哪一個frame? hit_Dj: 按&quot;防下跳&quot;時,跳到哪一個frame? hit_Fa: 按&quot;防前攻&quot;時,跳到哪一個frame? hit_Fj: 按&quot;防前跳&quot;時,跳到哪一個frame? hit_ja: 按&quot;防跳攻&quot;時,跳到哪一個frame? 1.next:0是不斷重複此動作，hit_???:的0是指沒有設定。 2.next、hit_? :999是指回到隨機動作 3.next、hit_? :1000是消失 4.next: -??? 會反向進行第???個frame 5.next:1200~1299是隱形 Source: lf2/frame/Frame.js, line 22 Members center Source: lf2/frame/Frame.js, line 249 center Source: lf2/frame/Frame.js, line 249 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 Class: Frame lf2. Frame new Frame(context, gameObj) Parameters: Name Type Description context String gameObj lf2.GameObject Game Object Source: lf2/frame/Frame.js, line 71 Members center Source: lf2/frame/Frame.js, line 249 center Source: lf2/frame/Frame.js, line 249 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 itr :Array.&lt;lf2.Interaction&gt; Type: Array.&lt;lf2.Interaction&gt; Source: lf2/frame/Frame.js, line 101 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 nextFrameId Get Next frame id Source: lf2/frame/Frame.js, line 233 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 pictureIndex Get picture index Properties: Name Type Description pictureIndex Source: lf2/frame/Frame.js, line 174 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 state Get current state 0=站立(stand) 1=行走(walk) 2=跑步(run) 3=普通拳腳攻擊(punch) 4=跳(jump) 5=突進(dash，即跑+跳) 7=擋(defend) 8=破擋(broken defend) 9=捉人(catching) 10=被捉(picked caught) 11=被攻擊(injured) 12=fall大於60才會被打到 13=有冰碎效果 14=倒在地上(lying，可使com不會追你) 15=被冰封(ice，可被同盟攻擊) 16=暈眩(tired)可被敵人捉住 17=喝(weapon drink)可以喝的物件被消耗 18=燃燒(fire，可攻擊我方同盟) 19=firen的烈火焚身(burn run) 301=deep的鬼哭斬(dash sword，此state具有人物上下移動的功能) 400=woody瞬間轉移(teleport，移往最近的敵人) 401=woody瞬間轉移(teleport，移往最近的隊友) 500=rudolf轉換成其他角色(transform) 501=rudolf轉換回來(transform_b) 1700=治療自己 9995=變身成LouisEX(transform，任何人都可以) 9996=爆出盔甲(transform，任何人都可以) 9997=訊息(come,move之類，能在任何地方看見) 9998=訊息刪除 9999=毀壞的武器(broken weapon) Source: lf2/frame/Frame.js, line 214 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 velocity Get offset of item Source: lf2/frame/Frame.js, line 241 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 wait get wait() Gets the wait. Source: lf2/frame/Frame.js, line 225 × Search results Close "},"lf2.GameItem.html":{"id":"lf2.GameItem.html","title":"Class: GameItem","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameItem lf2. GameItem new GameItem() GameItem Implements: Framework.AttachableInterface Source: lf2/items/GameItem.js, line 58 Extends Framework.GameObject Members _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 966 velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 world Source: lf2/items/GameItem.js, line 145 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 145 Methods &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . Class: GameItem lf2. GameItem new GameItem() GameItem Implements: Framework.AttachableInterface Source: lf2/items/GameItem.js, line 58 Extends Framework.GameObject Members _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 966 velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 world Source: lf2/items/GameItem.js, line 145 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 145 Methods &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . Class: GameItem lf2. GameItem new GameItem(gameObjId, player) Parameters: Name Type Description gameObjId ID of character player lf2.Player this object belong to which player Source: lf2/items/GameItem.js, line 71 Members _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 966 velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 world Source: lf2/items/GameItem.js, line 145 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 145 Methods &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . Class: GameItem lf2. GameItem new GameItem(gameObjId, player) Parameters: Name Type Description gameObjId ID of character player lf2.Player this object belong to which player Source: lf2/items/GameItem.js, line 71 Members _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _audio :Framework.Audio Type: Framework.Audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 _prevVelocity :Framework.Point3D Type: Framework.Point3D Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 currentFrame Get current frame Source: lf2/items/GameItem.js, line 153 diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 height get height() Gets the height. Overrides: Framework.GameObject#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 ImgInfo get ImgInfo() Image information. Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isFrameChanged Is frame changed. Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 isObjectChanged get isObjectChanged() Is object changed. Overrides: Framework.GameObject#isObjectChanged Source: lf2/items/GameItem.js, line 923 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 isStopping Is stopping. Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 leftTopPoint get leftTopPoint() Left top point. Source: lf2/items/GameItem.js, line 856 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 position 物件的中下座標 Overrides: Framework.GameObject#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 previousFrame Get current frame Source: lf2/items/GameItem.js, line 161 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 974 velocity Source: lf2/items/GameItem.js, line 966 velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 width get width() Gets the width. Overrides: Framework.GameObject#width Source: lf2/items/GameItem.js, line 937 world Source: lf2/items/GameItem.js, line 145 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 137 world Source: lf2/items/GameItem.js, line 145 Methods &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; ApplyFriction(val [, f]) Parameters: Name Type Argument Description val Number f Number &lt;optional&gt; friction Source: lf2/items/GameItem.js, line 1054 Returns: Type Number &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;static&gt; GetFriction(speed) Parameters: Name Type Description speed Number Source: lf2/items/GameItem.js, line 1024 &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D &lt;protected&gt; _getFrameOffset() Source: lf2/items/GameItem.js, line 279 Returns: Type Framework.Point3D _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D &lt;protected&gt; _getVelocity() Source: lf2/items/GameItem.js, line 309 Returns: Type Framework.Point3D applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . applyFriction() Applies the friction. Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . cleanUpItr() Clean up itr. Source: lf2/items/GameItem.js, line 768 Returns: . clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . freeze() Freezes this object. Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getAttackItems() Gets attack items. Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getBdyRect() Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getFrameIdByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 397 getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; getItrBox() Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 isFront(item) Parameters: Name Type Description item lf2.GameItem Source: lf2/items/GameItem.js, line 984 load() Load Implements: Framework.AttachableInterface#load Source: Framework/AttachableInterface.js, line 16 notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean notifyDamageBy(item, itr) Parameters: Name Type Description item lf2.GameItem itr lf2.Interaction Source: lf2/items/GameItem.js, line 780 Returns: return true if accept, otherwise false Type boolean &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 &lt;abstract&gt; onDestroy() destroy this item Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Source: lf2/items/GameItem.js, line 818 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 postDamageItems(gotDamageItems) Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 793 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameById(frameId) Parameters: Name Type Description frameId Number Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setFrameByName(frameName) Parameters: Name Type Description frameName String Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 setPosition(p) Parameters: Name Type Description p Framework.Point3D Source: lf2/items/GameItem.js, line 1001 &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point transferPoint(p) Parameters: Name Type Description p Framework.Point Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . updateVelocity() Updates the velocity. Source: lf2/items/GameItem.js, line 319 Returns: . × Search results Close "},"lf2.GameMap.html":{"id":"lf2.GameMap.html","title":"Class: GameMap","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameMap lf2. GameMap new GameMap(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameMap.js, line 22 Methods done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . Class: GameMap lf2. GameMap new GameMap() GameMap Implements: Framework.AttachableInterface Source: lf2/objects/GameMap.js, line 10 Methods done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . Class: GameMap lf2. GameMap new GameMap() GameMap Implements: Framework.AttachableInterface Source: lf2/objects/GameMap.js, line 10 Methods done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . Class: GameMap lf2. GameMap new GameMap(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameMap.js, line 22 Methods done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . done() done() Dones this object. Source: lf2/objects/GameMap.js, line 70 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMap.js, line 125 Returns: . getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number getBound(p) Parameters: Name Type Description p Framework.Point Source: lf2/objects/GameMap.js, line 144 Returns: Type number initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 initialize(world) initialize Initializes this object. Parameters: Name Type Description world Source: lf2/objects/GameMap.js, line 81 load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMap.js, line 95 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMap.js, line 110 Returns: . × Search results Close "},"lf2.GameMapLayer.html":{"id":"lf2.GameMapLayer.html","title":"Class: GameMapLayer","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameMapLayer lf2. GameMapLayer new GameMapLayer(context, bg) Parameters: Name Type Description context String bg lf2.GameMap Source: lf2/objects/GameMapLayer.js, line 18 Methods &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . Class: GameMapLayer lf2. GameMapLayer new GameMapLayer() GameMapLayer Implements: Framework.AttachableInterface Source: lf2/objects/GameMapLayer.js, line 6 Methods &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . Class: GameMapLayer lf2. GameMapLayer new GameMapLayer() GameMapLayer Implements: Framework.AttachableInterface Source: lf2/objects/GameMapLayer.js, line 6 Methods &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . Class: GameMapLayer lf2. GameMapLayer new GameMapLayer(context, bg) Parameters: Name Type Description context String bg lf2.GameMap Source: lf2/objects/GameMapLayer.js, line 18 Methods &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm &lt;static&gt; GetColorFromRect(num) Parameters: Name Type Description num Number Source: lf2/objects/GameMapLayer.js, line 171 See: http://gjp4860sev.myweb.hinet.net/lf2/page16.htm done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . done() done() Dones this object. Source: lf2/objects/GameMapLayer.js, line 66 Returns: . draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 draw(ctx) draw(ctx) Draws the given context. Parameters: Name Type Description ctx CanvasRenderingContext2D The context. Implements: Framework.AttachableInterface#draw Source: lf2/objects/GameMapLayer.js, line 124 initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . initialize() initialize() Initializes this object. Source: lf2/objects/GameMapLayer.js, line 77 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/objects/GameMapLayer.js, line 89 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/objects/GameMapLayer.js, line 100 Returns: . × Search results Close "},"lf2.GameObject.html":{"id":"lf2.GameObject.html","title":"Class: GameObject","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObject lf2. GameObject new GameObject(fileInfo, context) Parameters: Name Type Description fileInfo Object information of file context String source code of dat fiel Source: lf2/objects/GameObject.js, line 29 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObject lf2. GameObject new GameObject() GameObject Source: lf2/objects/GameObject.js, line 18 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObject lf2. GameObject new GameObject(fileInfo, context) Parameters: Name Type Description fileInfo Object information of file context String source code of dat fiel Source: lf2/objects/GameObject.js, line 29 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObject lf2. GameObject new GameObject() GameObject Source: lf2/objects/GameObject.js, line 18 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; done() Promise when all image loaded Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getPlayList() Gets play list. Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set getSoundList() getSoundList() Gets sound list. Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set × Search results Close "},"lf2.GameObjectBall.html":{"id":"lf2.GameObjectBall.html","title":"Class: GameObjectBall","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObjectBall lf2. GameObjectBall new GameObjectBall() Ball Source: lf2/objects/GameObjectBall.js, line 7 Extends lf2.GameObject Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectBall lf2. GameObjectBall new GameObjectBall(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectBall.js, line 21 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectBall lf2. GameObjectBall new GameObjectBall(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectBall.js, line 21 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectBall lf2. GameObjectBall new GameObjectBall() Ball Source: lf2/objects/GameObjectBall.js, line 7 Extends lf2.GameObject Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. getSoundList() getSoundList() Gets sound list. Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playBrokenSound() Play borken sound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playDropSound() Play drop sound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 playHitSound() Play hit sound Source: lf2/objects/GameObjectBall.js, line 32 × Search results Close "},"lf2.GameObjectCharacter.html":{"id":"lf2.GameObjectCharacter.html","title":"Class: GameObjectCharacter","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObjectCharacter lf2. GameObjectCharacter new GameObjectCharacter() Ball Source: lf2/objects/GameObjectCharacter.js, line 7 Extends lf2.GameObject Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObject#getSoundList Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObjectCharacter lf2. GameObjectCharacter new GameObjectCharacter() Ball Source: lf2/objects/GameObjectCharacter.js, line 7 Extends lf2.GameObject Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObject#getSoundList Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObjectCharacter lf2. GameObjectCharacter new GameObjectCharacter(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectCharacter.js, line 21 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObject#getSoundList Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set Class: GameObjectCharacter lf2. GameObjectCharacter new GameObjectCharacter(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectCharacter.js, line 21 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObject#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObject#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObject#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObject#getSoundList Overrides: lf2.GameObject#getSoundList Source: lf2/objects/GameObject.js, line 98 Returns: The sound list. Type Set × Search results Close "},"lf2.GameObjectWeapon.html":{"id":"lf2.GameObjectWeapon.html","title":"Class: GameObjectWeapon","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: GameObjectWeapon lf2. GameObjectWeapon new GameObjectWeapon() Ball Source: lf2/objects/GameObjectWeapon.js, line 6 Extends lf2.GameObjectBall Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObjectBall#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObjectBall#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObjectBall#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObjectBall#getSoundList Overrides: lf2.GameObjectBall#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Inherited From: lf2.GameObjectBall#playBrokenSound Overrides: lf2.GameObjectBall#playBrokenSound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Inherited From: lf2.GameObjectBall#playDropSound Overrides: lf2.GameObjectBall#playDropSound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Inherited From: lf2.GameObjectBall#playHitSound Overrides: lf2.GameObjectBall#playHitSound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectWeapon lf2. GameObjectWeapon new GameObjectWeapon(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectWeapon.js, line 20 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObjectBall#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObjectBall#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObjectBall#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObjectBall#getSoundList Overrides: lf2.GameObjectBall#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Inherited From: lf2.GameObjectBall#playBrokenSound Overrides: lf2.GameObjectBall#playBrokenSound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Inherited From: lf2.GameObjectBall#playDropSound Overrides: lf2.GameObjectBall#playDropSound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Inherited From: lf2.GameObjectBall#playHitSound Overrides: lf2.GameObjectBall#playHitSound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectWeapon lf2. GameObjectWeapon new GameObjectWeapon() Ball Source: lf2/objects/GameObjectWeapon.js, line 6 Extends lf2.GameObjectBall Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObjectBall#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObjectBall#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObjectBall#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObjectBall#getSoundList Overrides: lf2.GameObjectBall#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Inherited From: lf2.GameObjectBall#playBrokenSound Overrides: lf2.GameObjectBall#playBrokenSound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Inherited From: lf2.GameObjectBall#playDropSound Overrides: lf2.GameObjectBall#playDropSound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Inherited From: lf2.GameObjectBall#playHitSound Overrides: lf2.GameObjectBall#playHitSound Source: lf2/objects/GameObjectBall.js, line 32 Class: GameObjectWeapon lf2. GameObjectWeapon new GameObjectWeapon(fileInfo, context) Parameters: Name Type Description fileInfo Object context String Source: lf2/objects/GameObjectWeapon.js, line 20 Methods addPreloadResource(url) addPreloadResource(url) Adds a preload resource. Parameters: Name Type Description url URL of the document. Inherited From: lf2.GameObject#addPreloadResource Overrides: lf2.GameObjectBall#addPreloadResource Source: lf2/objects/GameObject.js, line 58 Returns: . done() Promise when all image loaded Inherited From: lf2.GameObject#done Overrides: lf2.GameObjectBall#done Source: lf2/objects/GameObject.js, line 44 Returns: Type Promise.&lt;*&gt; getPlayList() Gets play list. Inherited From: lf2.GameObject#getPlayList Overrides: lf2.GameObjectBall#getPlayList Source: lf2/objects/GameObject.js, line 137 Returns: The play list. getSoundList() getSoundList() Gets sound list. Inherited From: lf2.GameObjectBall#getSoundList Overrides: lf2.GameObjectBall#getSoundList Source: lf2/objects/GameObjectBall.js, line 57 Returns: The sound list. playBrokenSound() Play borken sound Inherited From: lf2.GameObjectBall#playBrokenSound Overrides: lf2.GameObjectBall#playBrokenSound Source: lf2/objects/GameObjectBall.js, line 46 playDropSound() Play drop sound Inherited From: lf2.GameObjectBall#playDropSound Overrides: lf2.GameObjectBall#playDropSound Source: lf2/objects/GameObjectBall.js, line 39 playHitSound() Play hit sound Inherited From: lf2.GameObjectBall#playHitSound Overrides: lf2.GameObjectBall#playHitSound Source: lf2/objects/GameObjectBall.js, line 32 × Search results Close "},"lf2.HelpLevel.html":{"id":"lf2.HelpLevel.html","title":"Class: HelpLevel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: HelpLevel lf2. HelpLevel new HelpLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/HelpLevel.js, line 51 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods _showHelp() _showHelp() Shows the setting menu. Source: lf2/level/HelpLevel.js, line 143 Returns: . _showHelp() _showHelp() Shows the setting menu. Source: lf2/level/HelpLevel.js, line 143 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/HelpLevel.js, line 264 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/HelpLevel.js, line 264 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/HelpLevel.js, line 239 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/HelpLevel.js, line 239 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/HelpLevel.js, line 127 draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/HelpLevel.js, line 127 forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/HelpLevel.js, line 102 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/HelpLevel.js, line 102 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) event when key down Parameters: Name Type Description e list oriE Source: lf2/level/HelpLevel.js, line 250 keydown(e, list, oriE) event when key down Parameters: Name Type Description e list oriE Source: lf2/level/HelpLevel.js, line 250 load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/HelpLevel.js, line 69 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/HelpLevel.js, line 69 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/HelpLevel.js, line 112 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/HelpLevel.js, line 112 Returns: . Class: HelpLevel lf2. HelpLevel new HelpLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/HelpLevel.js, line 51 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods _showHelp() _showHelp() Shows the setting menu. Source: lf2/level/HelpLevel.js, line 143 Returns: . _showHelp() _showHelp() Shows the setting menu. Source: lf2/level/HelpLevel.js, line 143 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/HelpLevel.js, line 264 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/HelpLevel.js, line 264 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/HelpLevel.js, line 239 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/HelpLevel.js, line 239 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/HelpLevel.js, line 127 draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/HelpLevel.js, line 127 forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/HelpLevel.js, line 102 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/HelpLevel.js, line 102 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) event when key down Parameters: Name Type Description e list oriE Source: lf2/level/HelpLevel.js, line 250 keydown(e, list, oriE) event when key down Parameters: Name Type Description e list oriE Source: lf2/level/HelpLevel.js, line 250 load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/HelpLevel.js, line 69 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/HelpLevel.js, line 69 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/HelpLevel.js, line 112 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/HelpLevel.js, line 112 Returns: . × Search results Close "},"lf2.HorizontalTrackerBehavior.html":{"id":"lf2.HorizontalTrackerBehavior.html","title":"Class: HorizontalTrackerBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: HorizontalTrackerBehavior lf2. HorizontalTrackerBehavior new HorizontalTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 45 FA Gets the fa. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 45 Methods getVelocity() Gets the velocity. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 33 Returns: The velocity. Type Framework.Point3D getVelocity() Gets the velocity. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 33 Returns: The velocity. Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 54 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 54 Returns: An unknown that represents this object. Class: HorizontalTrackerBehavior lf2. HorizontalTrackerBehavior new HorizontalTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 45 FA Gets the fa. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 45 Methods getVelocity() Gets the velocity. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 33 Returns: The velocity. Type Framework.Point3D getVelocity() Gets the velocity. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 33 Returns: The velocity. Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 54 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 54 Returns: An unknown that represents this object. × Search results Close "},"lf2.ImageInformation.html":{"id":"lf2.ImageInformation.html","title":"Class: ImageInformation","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: ImageInformation lf2. ImageInformation new ImageInformation(rect, imgObj) Parameters: Name Type Description rect lf2.Rectangle imgObj Image | HTMLCanvasElement Source: lf2/frame/ImageInformation.js, line 14 Members img Get Image object Source: lf2/frame/ImageInformation.js, line 23 img Get Image object Source: lf2/frame/ImageInformation.js, line 23 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 Class: ImageInformation lf2. ImageInformation new ImageInformation() 提供圖片資料的儲存功能 Source: lf2/frame/ImageInformation.js, line 3 Members img Get Image object Source: lf2/frame/ImageInformation.js, line 23 img Get Image object Source: lf2/frame/ImageInformation.js, line 23 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 Class: ImageInformation lf2. ImageInformation new ImageInformation(rect, imgObj) Parameters: Name Type Description rect lf2.Rectangle imgObj Image | HTMLCanvasElement Source: lf2/frame/ImageInformation.js, line 14 Members img Get Image object Source: lf2/frame/ImageInformation.js, line 23 img Get Image object Source: lf2/frame/ImageInformation.js, line 23 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 Class: ImageInformation lf2. ImageInformation new ImageInformation() 提供圖片資料的儲存功能 Source: lf2/frame/ImageInformation.js, line 3 Members img Get Image object Source: lf2/frame/ImageInformation.js, line 23 img Get Image object Source: lf2/frame/ImageInformation.js, line 23 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 rect Get Rect Object Source: lf2/frame/ImageInformation.js, line 31 × Search results Close "},"lf2.Interaction.html":{"id":"lf2.Interaction.html","title":"Class: Interaction","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Interaction lf2. Interaction new Interaction(content) Parameters: Name Type Description content String Source: lf2/frame/Interaction.js, line 92 Methods _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number Class: Interaction lf2. Interaction new Interaction() Interaction 提供Frame攻擊範圍及資訊儲存功能 ◎itr解說◎ itr: =身體攻擊動作開始 kind: 0=特殊特技 1=捉住暈眩(state:16)的人 2=撿武器 3=強迫抓人 6=敵人靠近按A時是重擊 7=撿武器不影響動作 8=injury數值變成治療多少hp，動作跳至dvx:? 9=打中敵人自己hp歸0(如John的防護罩) 10=henry魔王之樂章效果 11=henry魔王之樂章效果 14=阻擋 15=飛起 16=結冰 10??=被你打到會跳到第???個frame(如人質的kind) x: 40 ,w: 35=攻擊前~後的距離 y: 5 ,h: 45 攻擊上~下的距離 dvx:3 =打中會往後彈後多遠 dvy:-10 =打中會彈多高(負值是向天空，正值是向地面) fall: 70 =倒下的機會 fall: 0 是敵人只動一下 fall: 30 是打兩下敵人就暈 fall: 40 是打一下往後退打第二下就倒地 fall: 60 是打一下暈眩打第二下就倒地 fall: 70 是必定倒地 vrest:15 =同一個frame打到人的中間間隔時間(vrest越小，同一個frame就會打 到越多下)。如Davis的昇龍霸，原本vrest只有10，若改的更低，則 會造成如強化網頁的地獄真升龍的連擊效果。 ※注意：vrest值最低只能是4，更低的話打到人會卡住。 (強化網頁的地獄吸星萬印 arest: (vrest無效)一攻擊到一個人，多久後才能再打一個人 bdefend: 60 =破擋的機會(即打破敵人防禦的機會) bdefend: 60打一次就破擋；同fall，如值是16則16+16+16+16大於60所以值是16 時打敵人4下就破擋。 bdefend: 100則完全擋不住，就算按擋也會讓你直接被打到，連破擋的動作都跳 過。且有防禦效果的人物(如Julian.Knight.Louis)也防不住；道具也 會直接被毀掉(不論道具的HP有多少)。 injury: 40 =殺傷力(即損害敵人hp多少；玩家的hp是預設值的500) 在injury後面加上以下effect會有特效(僅限於kind:0時有作用) effect: 0 拳擊 effect: 1 利器攻擊 effect: 2 著火 effect: 3 結冰 effect: 4 穿過敵人(僅能打中type:1.2.3.4.5.6的物件) effect: 5 (或以上)沒效果，也打不中任何東西 effect: 20 定身火 effect: 21 定身火 effect: 22 定身火 effect: 30 定身冰 effect可以加上負號(有效果但無聲音)。 若要加大攻擊的z軸範圍,只要在effect或injury的後面加上zwidth: ??即可 (沒有effect就是加在injury的後面,若有effect則加在effect的後面) itr_end: =身體攻擊動作結束 大範圍攻擊→ itr: kind: 0 x: -x y: -x w: x h: x dvx: ? dvy: ? fall: ? vrest: ? bdefend: ? injury: ? zwidth: x effect: ? itr_end: x數值越高則範圍越大，?數值是看自己高興填寫的。 Source: lf2/frame/Interaction.js, line 6 Methods _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number Class: Interaction lf2. Interaction new Interaction() Interaction 提供Frame攻擊範圍及資訊儲存功能 ◎itr解說◎ itr: =身體攻擊動作開始 kind: 0=特殊特技 1=捉住暈眩(state:16)的人 2=撿武器 3=強迫抓人 6=敵人靠近按A時是重擊 7=撿武器不影響動作 8=injury數值變成治療多少hp，動作跳至dvx:? 9=打中敵人自己hp歸0(如John的防護罩) 10=henry魔王之樂章效果 11=henry魔王之樂章效果 14=阻擋 15=飛起 16=結冰 10??=被你打到會跳到第???個frame(如人質的kind) x: 40 ,w: 35=攻擊前~後的距離 y: 5 ,h: 45 攻擊上~下的距離 dvx:3 =打中會往後彈後多遠 dvy:-10 =打中會彈多高(負值是向天空，正值是向地面) fall: 70 =倒下的機會 fall: 0 是敵人只動一下 fall: 30 是打兩下敵人就暈 fall: 40 是打一下往後退打第二下就倒地 fall: 60 是打一下暈眩打第二下就倒地 fall: 70 是必定倒地 vrest:15 =同一個frame打到人的中間間隔時間(vrest越小，同一個frame就會打 到越多下)。如Davis的昇龍霸，原本vrest只有10，若改的更低，則 會造成如強化網頁的地獄真升龍的連擊效果。 ※注意：vrest值最低只能是4，更低的話打到人會卡住。 (強化網頁的地獄吸星萬印 arest: (vrest無效)一攻擊到一個人，多久後才能再打一個人 bdefend: 60 =破擋的機會(即打破敵人防禦的機會) bdefend: 60打一次就破擋；同fall，如值是16則16+16+16+16大於60所以值是16 時打敵人4下就破擋。 bdefend: 100則完全擋不住，就算按擋也會讓你直接被打到，連破擋的動作都跳 過。且有防禦效果的人物(如Julian.Knight.Louis)也防不住；道具也 會直接被毀掉(不論道具的HP有多少)。 injury: 40 =殺傷力(即損害敵人hp多少；玩家的hp是預設值的500) 在injury後面加上以下effect會有特效(僅限於kind:0時有作用) effect: 0 拳擊 effect: 1 利器攻擊 effect: 2 著火 effect: 3 結冰 effect: 4 穿過敵人(僅能打中type:1.2.3.4.5.6的物件) effect: 5 (或以上)沒效果，也打不中任何東西 effect: 20 定身火 effect: 21 定身火 effect: 22 定身火 effect: 30 定身冰 effect可以加上負號(有效果但無聲音)。 若要加大攻擊的z軸範圍,只要在effect或injury的後面加上zwidth: ??即可 (沒有effect就是加在injury的後面,若有effect則加在effect的後面) itr_end: =身體攻擊動作結束 大範圍攻擊→ itr: kind: 0 x: -x y: -x w: x h: x dvx: ? dvy: ? fall: ? vrest: ? bdefend: ? injury: ? zwidth: x effect: ? itr_end: x數值越高則範圍越大，?數值是看自己高興填寫的。 Source: lf2/frame/Interaction.js, line 6 Methods _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number Class: Interaction lf2. Interaction new Interaction(content) Parameters: Name Type Description content String Source: lf2/frame/Interaction.js, line 92 Methods _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number _filterFall() Filter fall. Source: lf2/frame/Interaction.js, line 128 Returns: fall filtered Type Number × Search results Close "},"lf2.ItrKind.html":{"id":"lf2.ItrKind.html","title":"Class: ItrKind","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: ItrKind lf2. ItrKind new ItrKind() Itr Kind 定義遊戲內攻擊型態的列舉型別，詳情請參閱原始碼 Source: lf2/enums/ItrKind.js, line 4 Class: ItrKind lf2. ItrKind new ItrKind() Itr Kind 定義遊戲內攻擊型態的列舉型別，詳情請參閱原始碼 Source: lf2/enums/ItrKind.js, line 4 × Search results Close "},"lf2.JulianBallBeginBehavior.html":{"id":"lf2.JulianBallBeginBehavior.html","title":"Class: JulianBallBeginBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: JulianBallBeginBehavior lf2. JulianBallBeginBehavior new JulianBallBeginBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 17 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . Class: JulianBallBeginBehavior lf2. JulianBallBeginBehavior new JulianBallBeginBehavior() JulianBallBeginBehavior Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 5 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . Class: JulianBallBeginBehavior lf2. JulianBallBeginBehavior new JulianBallBeginBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 17 Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . Class: JulianBallBeginBehavior lf2. JulianBallBeginBehavior new JulianBallBeginBehavior() JulianBallBeginBehavior Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 5 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 FA Gets the fa. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 58 Methods getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getTarget() Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 49 Returns: Type lf2.GameItem getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D getVelocity() Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 26 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 67 Returns: An unknown that represents this object. update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . update() Updates this object. Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/JulianBallBeginBehavior.js, line 35 Returns: . × Search results Close "},"lf2.JulianBallTrackerBehavior.html":{"id":"lf2.JulianBallTrackerBehavior.html","title":"Class: JulianBallTrackerBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: JulianBallTrackerBehavior lf2. JulianBallTrackerBehavior new JulianBallTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 34 FA Gets the fa. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 34 Methods toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 43 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 43 Returns: An unknown that represents this object. Class: JulianBallTrackerBehavior lf2. JulianBallTrackerBehavior new JulianBallTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 34 FA Gets the fa. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 34 Methods toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 43 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 43 Returns: An unknown that represents this object. × Search results Close "},"lf2.KeyboardConfig.html":{"id":"lf2.KeyboardConfig.html","title":"Class: KeyboardConfig","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: KeyboardConfig lf2. KeyboardConfig new KeyboardConfig(playerId) Parameters: Name Type Description playerId Number Source: lf2/game/KeyboardConfig.js, line 112 Methods &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array Class: KeyboardConfig lf2. KeyboardConfig new KeyboardConfig() Custom class Source: lf2/game/KeyboardConfig.js, line 101 Methods &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array Class: KeyboardConfig lf2. KeyboardConfig new KeyboardConfig() Custom class Source: lf2/game/KeyboardConfig.js, line 101 Methods &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array Class: KeyboardConfig lf2. KeyboardConfig new KeyboardConfig(playerId) Parameters: Name Type Description playerId Number Source: lf2/game/KeyboardConfig.js, line 112 Methods &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array &lt;static&gt; getKeyConfig() Get Key config Source: lf2/game/KeyboardConfig.js, line 128 Returns: Type Array × Search results Close "},"lf2.KeyEventPool.html":{"id":"lf2.KeyEventPool.html","title":"Class: KeyEventPool","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: KeyEventPool lf2. KeyEventPool new KeyEventPool( [size]) Parameters: Name Type Argument Description size Number &lt;optional&gt; Source: lf2/game/KeyEventPool.js, line 15 Methods _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . Class: KeyEventPool lf2. KeyEventPool new KeyEventPool() KeyEvent Pool Source: lf2/game/KeyEventPool.js, line 5 Methods _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . Class: KeyEventPool lf2. KeyEventPool new KeyEventPool( [size]) Parameters: Name Type Argument Description size Number &lt;optional&gt; Source: lf2/game/KeyEventPool.js, line 15 Methods _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . Class: KeyEventPool lf2. KeyEventPool new KeyEventPool() KeyEvent Pool Source: lf2/game/KeyEventPool.js, line 5 Methods _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . _shiftOne() Shift one. Source: lf2/game/KeyEventPool.js, line 27 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . push(value) Pushes an object onto this stack. Parameters: Name Type Description value The value to push. Source: lf2/game/KeyEventPool.js, line 40 Returns: . × Search results Close "},"lf2.LaunchMenu.html":{"id":"lf2.LaunchMenu.html","title":"Class: LaunchMenu","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: LaunchMenu lf2. LaunchMenu new LaunchMenu() Default constructor. Source: lf2/level/LaunchMenu.js, line 18 Methods _fullScreenGame() Full screen game. Source: lf2/level/LaunchMenu.js, line 141 Returns: . _fullScreenGame() Full screen game. Source: lf2/level/LaunchMenu.js, line 141 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LaunchMenu.js, line 216 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LaunchMenu.js, line 216 Returns: . click(e, list, orgE) click(e, list, orgE) Clicks. Parameters: Name Type Description e The unknown to process. list The list. orgE The organisation e. Source: lf2/level/LaunchMenu.js, line 132 Returns: . click(e, list, orgE) click(e, list, orgE) Clicks. Parameters: Name Type Description e The unknown to process. list The list. orgE The organisation e. Source: lf2/level/LaunchMenu.js, line 132 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Source: lf2/level/LaunchMenu.js, line 114 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Source: lf2/level/LaunchMenu.js, line 114 Returns: . initialize() initialize() Initializes this object. Source: lf2/level/LaunchMenu.js, line 71 Returns: . initialize() initialize() Initializes this object. Source: lf2/level/LaunchMenu.js, line 71 Returns: . load() load() Loads this object. Source: lf2/level/LaunchMenu.js, line 39 Returns: . load() load() Loads this object. Source: lf2/level/LaunchMenu.js, line 39 Returns: . preload() Preloads this object. Source: lf2/level/LaunchMenu.js, line 98 Returns: . preload() Preloads this object. Source: lf2/level/LaunchMenu.js, line 98 Returns: . showLaunchMenu() showLaunchMenu() Shows the launch menu. Source: lf2/level/LaunchMenu.js, line 181 Returns: . showLaunchMenu() showLaunchMenu() Shows the launch menu. Source: lf2/level/LaunchMenu.js, line 181 Returns: . update() update() Updates this object. Source: lf2/level/LaunchMenu.js, line 81 Returns: . update() update() Updates this object. Source: lf2/level/LaunchMenu.js, line 81 Returns: . Class: LaunchMenu lf2. LaunchMenu new LaunchMenu() Default constructor. Source: lf2/level/LaunchMenu.js, line 18 Methods _fullScreenGame() Full screen game. Source: lf2/level/LaunchMenu.js, line 141 Returns: . _fullScreenGame() Full screen game. Source: lf2/level/LaunchMenu.js, line 141 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LaunchMenu.js, line 216 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LaunchMenu.js, line 216 Returns: . click(e, list, orgE) click(e, list, orgE) Clicks. Parameters: Name Type Description e The unknown to process. list The list. orgE The organisation e. Source: lf2/level/LaunchMenu.js, line 132 Returns: . click(e, list, orgE) click(e, list, orgE) Clicks. Parameters: Name Type Description e The unknown to process. list The list. orgE The organisation e. Source: lf2/level/LaunchMenu.js, line 132 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Source: lf2/level/LaunchMenu.js, line 114 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Source: lf2/level/LaunchMenu.js, line 114 Returns: . initialize() initialize() Initializes this object. Source: lf2/level/LaunchMenu.js, line 71 Returns: . initialize() initialize() Initializes this object. Source: lf2/level/LaunchMenu.js, line 71 Returns: . load() load() Loads this object. Source: lf2/level/LaunchMenu.js, line 39 Returns: . load() load() Loads this object. Source: lf2/level/LaunchMenu.js, line 39 Returns: . preload() Preloads this object. Source: lf2/level/LaunchMenu.js, line 98 Returns: . preload() Preloads this object. Source: lf2/level/LaunchMenu.js, line 98 Returns: . showLaunchMenu() showLaunchMenu() Shows the launch menu. Source: lf2/level/LaunchMenu.js, line 181 Returns: . showLaunchMenu() showLaunchMenu() Shows the launch menu. Source: lf2/level/LaunchMenu.js, line 181 Returns: . update() update() Updates this object. Source: lf2/level/LaunchMenu.js, line 81 Returns: . update() update() Updates this object. Source: lf2/level/LaunchMenu.js, line 81 Returns: . × Search results Close "},"lf2.LoadingLevel.html":{"id":"lf2.LoadingLevel.html","title":"Class: LoadingLevel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: LoadingLevel lf2. LoadingLevel new LoadingLevel() Loading Level Source: lf2/level/LoadingLevel.js, line 51 Members &lt;static&gt; LOADING_RESOURCE_SRC :string Type: string Source: lf2/level/LoadingLevel.js, line 440 &lt;static&gt; LOADING_RESOURCE_SRC :string Type: string Source: lf2/level/LoadingLevel.js, line 440 Methods _showLoadFile(url) _showLoadFile(url) Shows the load file. Parameters: Name Type Description url URL of the document. Source: lf2/level/LoadingLevel.js, line 430 Returns: . _showLoadFile(url) _showLoadFile(url) Shows the load file. Parameters: Name Type Description url URL of the document. Source: lf2/level/LoadingLevel.js, line 430 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LoadingLevel.js, line 414 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LoadingLevel.js, line 414 Returns: . initializeProgressResource() initializeProgressResource() Initializes the progress resource. Source: lf2/level/LoadingLevel.js, line 84 Returns: . initializeProgressResource() initializeProgressResource() Initializes the progress resource. Source: lf2/level/LoadingLevel.js, line 84 Returns: . load() load() Loads this object. Source: lf2/level/LoadingLevel.js, line 114 Returns: . load() load() Loads this object. Source: lf2/level/LoadingLevel.js, line 114 Returns: . loadDataResource(path) Loads data resource. Parameters: Name Type Description path Full pathname of the file. Source: lf2/level/LoadingLevel.js, line 284 Returns: The data resource. loadDataResource(path) Loads data resource. Parameters: Name Type Description path Full pathname of the file. Source: lf2/level/LoadingLevel.js, line 284 Returns: The data resource. loadingProgress(context, requestInfo) loadingProgress(context, requestInfo) Loading progress. Parameters: Name Type Description context The context. requestInfo Information describing the request. Source: lf2/level/LoadingLevel.js, line 104 Returns: . loadingProgress(context, requestInfo) loadingProgress(context, requestInfo) Loading progress. Parameters: Name Type Description context The context. requestInfo Information describing the request. Source: lf2/level/LoadingLevel.js, line 104 Returns: . parseMap(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 360 Returns: Type GameMap | undefined parseMap(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 360 Returns: Type GameMap | undefined parseObj(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 330 Returns: Type GameObject | undefined parseObj(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 330 Returns: Type GameObject | undefined showLoadingVideo() showLoadingVideo() Shows the loading video. Source: lf2/level/LoadingLevel.js, line 388 Returns: . showLoadingVideo() showLoadingVideo() Shows the loading video. Source: lf2/level/LoadingLevel.js, line 388 Returns: . update() update() Updates this object. Source: lf2/level/LoadingLevel.js, line 302 Returns: . update() update() Updates this object. Source: lf2/level/LoadingLevel.js, line 302 Returns: . Class: LoadingLevel lf2. LoadingLevel new LoadingLevel() Loading Level Source: lf2/level/LoadingLevel.js, line 51 Members &lt;static&gt; LOADING_RESOURCE_SRC :string Type: string Source: lf2/level/LoadingLevel.js, line 440 &lt;static&gt; LOADING_RESOURCE_SRC :string Type: string Source: lf2/level/LoadingLevel.js, line 440 Methods _showLoadFile(url) _showLoadFile(url) Shows the load file. Parameters: Name Type Description url URL of the document. Source: lf2/level/LoadingLevel.js, line 430 Returns: . _showLoadFile(url) _showLoadFile(url) Shows the load file. Parameters: Name Type Description url URL of the document. Source: lf2/level/LoadingLevel.js, line 430 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LoadingLevel.js, line 414 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/LoadingLevel.js, line 414 Returns: . initializeProgressResource() initializeProgressResource() Initializes the progress resource. Source: lf2/level/LoadingLevel.js, line 84 Returns: . initializeProgressResource() initializeProgressResource() Initializes the progress resource. Source: lf2/level/LoadingLevel.js, line 84 Returns: . load() load() Loads this object. Source: lf2/level/LoadingLevel.js, line 114 Returns: . load() load() Loads this object. Source: lf2/level/LoadingLevel.js, line 114 Returns: . loadDataResource(path) Loads data resource. Parameters: Name Type Description path Full pathname of the file. Source: lf2/level/LoadingLevel.js, line 284 Returns: The data resource. loadDataResource(path) Loads data resource. Parameters: Name Type Description path Full pathname of the file. Source: lf2/level/LoadingLevel.js, line 284 Returns: The data resource. loadingProgress(context, requestInfo) loadingProgress(context, requestInfo) Loading progress. Parameters: Name Type Description context The context. requestInfo Information describing the request. Source: lf2/level/LoadingLevel.js, line 104 Returns: . loadingProgress(context, requestInfo) loadingProgress(context, requestInfo) Loading progress. Parameters: Name Type Description context The context. requestInfo Information describing the request. Source: lf2/level/LoadingLevel.js, line 104 Returns: . parseMap(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 360 Returns: Type GameMap | undefined parseMap(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 360 Returns: Type GameMap | undefined parseObj(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 330 Returns: Type GameObject | undefined parseObj(info, content) Parse LF2 Object Parameters: Name Type Description info Object content String Source: lf2/level/LoadingLevel.js, line 330 Returns: Type GameObject | undefined showLoadingVideo() showLoadingVideo() Shows the loading video. Source: lf2/level/LoadingLevel.js, line 388 Returns: . showLoadingVideo() showLoadingVideo() Shows the loading video. Source: lf2/level/LoadingLevel.js, line 388 Returns: . update() update() Updates this object. Source: lf2/level/LoadingLevel.js, line 302 Returns: . update() update() Updates this object. Source: lf2/level/LoadingLevel.js, line 302 Returns: . × Search results Close "},"lf2.MySettingLevel.html":{"id":"lf2.MySettingLevel.html","title":"Class: MySettingLevel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: MySettingLevel lf2. MySettingLevel new MySettingLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/MySettingLevel.js, line 21 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods autodelete() autodelete() Autodeletes this object. Source: lf2/level/MySettingLevel.js, line 258 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/MySettingLevel.js, line 258 Returns: . bindPlayerEvent(playerElement) bindPlayerEvent(playerElement) Bind player event. Parameters: Name Type Description playerElement The player element. Source: lf2/level/MySettingLevel.js, line 220 Returns: . bindPlayerEvent(playerElement) bindPlayerEvent(playerElement) Bind player event. Parameters: Name Type Description playerElement The player element. Source: lf2/level/MySettingLevel.js, line 220 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/MySettingLevel.js, line 247 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/MySettingLevel.js, line 247 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/MySettingLevel.js, line 109 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/MySettingLevel.js, line 109 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getConfigByPlayerId(playerId) Gets configuration by player identifier. Parameters: Name Type Description playerId Identifier for the player. Source: lf2/level/MySettingLevel.js, line 71 Returns: The configuration by player identifier. getConfigByPlayerId(playerId) Gets configuration by player identifier. Parameters: Name Type Description playerId Identifier for the player. Source: lf2/level/MySettingLevel.js, line 71 Returns: The configuration by player identifier. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/MySettingLevel.js, line 86 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/MySettingLevel.js, line 86 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/MySettingLevel.js, line 138 Returns: . keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/MySettingLevel.js, line 138 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/MySettingLevel.js, line 39 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/MySettingLevel.js, line 39 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 saveConfig() Store config into local storage Source: lf2/level/MySettingLevel.js, line 268 saveConfig() Store config into local storage Source: lf2/level/MySettingLevel.js, line 268 showSettingMenu() showSettingMenu() Shows the setting menu. Source: lf2/level/MySettingLevel.js, line 168 Returns: . showSettingMenu() showSettingMenu() Shows the setting menu. Source: lf2/level/MySettingLevel.js, line 168 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/MySettingLevel.js, line 96 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/MySettingLevel.js, line 96 Returns: . Class: MySettingLevel lf2. MySettingLevel new MySettingLevel() Implements: Framework.MouseEventInterface Framework.KeyboardEventInterface Source: lf2/level/MySettingLevel.js, line 21 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods autodelete() autodelete() Autodeletes this object. Source: lf2/level/MySettingLevel.js, line 258 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/MySettingLevel.js, line 258 Returns: . bindPlayerEvent(playerElement) bindPlayerEvent(playerElement) Bind player event. Parameters: Name Type Description playerElement The player element. Source: lf2/level/MySettingLevel.js, line 220 Returns: . bindPlayerEvent(playerElement) bindPlayerEvent(playerElement) Bind player event. Parameters: Name Type Description playerElement The player element. Source: lf2/level/MySettingLevel.js, line 220 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/MySettingLevel.js, line 247 Returns: . click(e) click(e) Clicks the given e. Parameters: Name Type Description e The unknown to process. Source: lf2/level/MySettingLevel.js, line 247 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/MySettingLevel.js, line 109 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/MySettingLevel.js, line 109 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getConfigByPlayerId(playerId) Gets configuration by player identifier. Parameters: Name Type Description playerId Identifier for the player. Source: lf2/level/MySettingLevel.js, line 71 Returns: The configuration by player identifier. getConfigByPlayerId(playerId) Gets configuration by player identifier. Parameters: Name Type Description playerId Identifier for the player. Source: lf2/level/MySettingLevel.js, line 71 Returns: The configuration by player identifier. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/MySettingLevel.js, line 86 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/MySettingLevel.js, line 86 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/MySettingLevel.js, line 138 Returns: . keydown(e, list, oriE) keydown(e, list, oriE) Keydowns. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/MySettingLevel.js, line 138 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/MySettingLevel.js, line 39 Returns: . load() load() Loads this object. Overrides: Framework.Level#load Source: lf2/level/MySettingLevel.js, line 39 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 saveConfig() Store config into local storage Source: lf2/level/MySettingLevel.js, line 268 saveConfig() Store config into local storage Source: lf2/level/MySettingLevel.js, line 268 showSettingMenu() showSettingMenu() Shows the setting menu. Source: lf2/level/MySettingLevel.js, line 168 Returns: . showSettingMenu() showSettingMenu() Shows the setting menu. Source: lf2/level/MySettingLevel.js, line 168 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/MySettingLevel.js, line 96 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/MySettingLevel.js, line 96 Returns: . × Search results Close "},"lf2.ObjectPoint.html":{"id":"lf2.ObjectPoint.html","title":"Class: ObjectPoint","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: ObjectPoint lf2. ObjectPoint new ObjectPoint() Object point 提供Frame新增氣功波的資訊儲存功能 ◎opoint解說◎ 若要在某個動作加入發出氣功波類型的絕技，只要在frame裏加入以下即可： opoint: kind: ? x: ? y: ? action: ? dvx: ? dvy: ? oid: ? facing: ? opoint_end: opoint: objectpoint開始 kind: 1=發出氣功波 x:發出的氣功的前後位置 y:發出的氣功的天地位置 action: 招式的第幾個frame dvx:向前後飛行的速度 dvy:向天地飛行的速度 oid:氣功波的id(請參考data/data_list.json) facing:數量及正反 (如數量是1個,正向→facing: 0；2個,正向→facing:20 ； 1個,反向→facing:1 ； 2個,反向→facing: 21) 前面數字是數量，數量若為1則不須填，但2以上就須填了；後面數字為正反向， 偶數是正向，奇數是反向。 opoint_end: objectpoint結束 Source: lf2/frame/ObjectPoint.js, line 6 Class: ObjectPoint lf2. ObjectPoint new ObjectPoint() Object point 提供Frame新增氣功波的資訊儲存功能 ◎opoint解說◎ 若要在某個動作加入發出氣功波類型的絕技，只要在frame裏加入以下即可： opoint: kind: ? x: ? y: ? action: ? dvx: ? dvy: ? oid: ? facing: ? opoint_end: opoint: objectpoint開始 kind: 1=發出氣功波 x:發出的氣功的前後位置 y:發出的氣功的天地位置 action: 招式的第幾個frame dvx:向前後飛行的速度 dvy:向天地飛行的速度 oid:氣功波的id(請參考data/data_list.json) facing:數量及正反 (如數量是1個,正向→facing: 0；2個,正向→facing:20 ； 1個,反向→facing:1 ； 2個,反向→facing: 21) 前面數字是數量，數量若為1則不須填，但2以上就須填了；後面數字為正反向， 偶數是正向，奇數是反向。 opoint_end: objectpoint結束 Source: lf2/frame/ObjectPoint.js, line 6 Class: ObjectPoint lf2. ObjectPoint new ObjectPoint(content) Parameters: Name Type Description content String Source: lf2/frame/ObjectPoint.js, line 43 Class: ObjectPoint lf2. ObjectPoint new ObjectPoint(content) Parameters: Name Type Description content String Source: lf2/frame/ObjectPoint.js, line 43 × Search results Close "},"lf2.Player.html":{"id":"lf2.Player.html","title":"Class: Player","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Player lf2. Player new Player(playerId [, charId] [, teamId]) Parameters: Name Type Argument Description playerId Number charId Number | undefined &lt;optional&gt; teamId Number | undefined &lt;optional&gt; Source: lf2/player/Player.js, line 39 Members character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 isAlive Source: lf2/player/Player.js, line 585 isAlive Source: lf2/player/Player.js, line 585 isObjectChanged Source: lf2/player/Player.js, line 573 isObjectChanged Source: lf2/player/Player.js, line 573 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 185 team Source: lf2/player/Player.js, line 185 Methods _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 Class: Player lf2. Player new Player() Player Implements: Framework.AttachableInterface Source: lf2/player/Player.js, line 26 Members character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 isAlive Source: lf2/player/Player.js, line 585 isAlive Source: lf2/player/Player.js, line 585 isObjectChanged Source: lf2/player/Player.js, line 573 isObjectChanged Source: lf2/player/Player.js, line 573 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 185 team Source: lf2/player/Player.js, line 185 Methods _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 Class: Player lf2. Player new Player() Player Implements: Framework.AttachableInterface Source: lf2/player/Player.js, line 26 Members character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 isAlive Source: lf2/player/Player.js, line 585 isAlive Source: lf2/player/Player.js, line 585 isObjectChanged Source: lf2/player/Player.js, line 573 isObjectChanged Source: lf2/player/Player.js, line 573 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 185 team Source: lf2/player/Player.js, line 185 Methods _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 Class: Player lf2. Player new Player(playerId [, charId] [, teamId]) Parameters: Name Type Argument Description playerId Number charId Number | undefined &lt;optional&gt; teamId Number | undefined &lt;optional&gt; Source: lf2/player/Player.js, line 39 Members character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 character :lf2.Character Type: lf2.Character Source: lf2/player/Player.js, line 63 isAlive Source: lf2/player/Player.js, line 585 isAlive Source: lf2/player/Player.js, line 585 isObjectChanged Source: lf2/player/Player.js, line 573 isObjectChanged Source: lf2/player/Player.js, line 573 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 spriteParent :Framework.Scene Type: Framework.Scene Source: lf2/player/Player.js, line 75 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 176 team Source: lf2/player/Player.js, line 185 team Source: lf2/player/Player.js, line 185 Methods _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . _isHoldingLastKey() Is holding last key. Source: lf2/player/Player.js, line 564 Returns: . addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addAttackCount(amount) Parameters: Name Type Description amount Number Source: lf2/player/Player.js, line 452 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addBall(opoint, caller) Parameters: Name Type Description opoint lf2.ObjectPoint caller lf2.GameItem who added the ball Source: lf2/player/Player.js, line 469 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addHp(num) Add hp Parameters: Name Type Description num Source: lf2/player/Player.js, line 366 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 addMp(num) Add mp Parameters: Name Type Description num Source: lf2/player/Player.js, line 381 containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean containsKey(key) Parameters: Name Type Description key Number lf2 key code Source: lf2/player/Player.js, line 552 Returns: Type boolean draw(ctx) Draw object Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: Framework/AttachableInterface.js, line 42 hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean hurtPlayer(num) Hurt player and decrease hp Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 431 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean isKeyPressed(keyCode) check is key pressed Parameters: Name Type Description keyCode Number Source: lf2/player/Player.js, line 421 Returns: Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keydown(oriE) Parameters: Name Type Description oriE KeyboardEvent Source: lf2/player/Player.js, line 88 Returns: return true if key fired Type boolean keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 keyup(e, list, oriE) Parameters: Name Type Description e list oriE KeyboardEvent Source: lf2/player/Player.js, line 151 load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/Player.js, line 293 Returns: . requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean requestMp(num) Cost mp if possible, if impossible return false Parameters: Name Type Description num Number Source: lf2/player/Player.js, line 397 Returns: return true if mp is enough Type boolean setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setGodMode(val) Parameters: Name Type Description val Boolean Source: lf2/player/Player.js, line 444 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 setInfMp(flag) Parameters: Name Type Description flag boolean Source: lf2/player/Player.js, line 460 update() Update object Implements: Framework.AttachableInterface#update Source: Framework/AttachableInterface.js, line 32 × Search results Close "},"lf2.PlayerStatusPanel.html":{"id":"lf2.PlayerStatusPanel.html","title":"Class: PlayerStatusPanel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: PlayerStatusPanel lf2. PlayerStatusPanel new PlayerStatusPanel() Player HP Panel Implements: Framework.AttachableInterface Source: lf2/player/PlayerStatusPanel.js, line 26 Members HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 Methods draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . Class: PlayerStatusPanel lf2. PlayerStatusPanel new PlayerStatusPanel(player) Parameters: Name Type Description player lf2.Player Source: lf2/player/PlayerStatusPanel.js, line 38 Members HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 Methods draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . Class: PlayerStatusPanel lf2. PlayerStatusPanel new PlayerStatusPanel(player) Parameters: Name Type Description player lf2.Player Source: lf2/player/PlayerStatusPanel.js, line 38 Members HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 Methods draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . Class: PlayerStatusPanel lf2. PlayerStatusPanel new PlayerStatusPanel() Player HP Panel Implements: Framework.AttachableInterface Source: lf2/player/PlayerStatusPanel.js, line 26 Members HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 HPRadio Hp radio. Source: lf2/player/PlayerStatusPanel.js, line 176 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 MPRadio Mp radio. Source: lf2/player/PlayerStatusPanel.js, line 185 Methods draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 draw(ctx) Parameters: Name Type Description ctx CanvasRenderingContext2D Implements: Framework.AttachableInterface#draw Source: lf2/player/PlayerStatusPanel.js, line 123 getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point getRealPosition(point) Gets real position. Parameters: Name Type Description point Framework.Point The point. Source: lf2/player/PlayerStatusPanel.js, line 164 Returns: The real position. Type Framework.Point load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . load() load() Loads this object. Implements: Framework.AttachableInterface#load Source: lf2/player/PlayerStatusPanel.js, line 97 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . setElem(elem) Sets an element. Parameters: Name Type Description elem The element. Source: lf2/player/PlayerStatusPanel.js, line 78 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . update() update() Updates this object. Implements: Framework.AttachableInterface#update Source: lf2/player/PlayerStatusPanel.js, line 107 Returns: . × Search results Close "},"lf2.Rectangle.html":{"id":"lf2.Rectangle.html","title":"Class: Rectangle","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Rectangle lf2. Rectangle new Rectangle(widthOrRect [, height] [, px] [, py]) Parameters: Name Type Argument Description widthOrRect Number | lf2.Rectangle height Number &lt;optional&gt; px Number &lt;optional&gt; py Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 18 Members area get area Source: lf2/game/Rectangle.js, line 38 area get area Source: lf2/game/Rectangle.js, line 38 Methods &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean Class: Rectangle lf2. Rectangle new Rectangle(widthOrRect [, height] [, px] [, py]) Parameters: Name Type Argument Description widthOrRect Number | lf2.Rectangle height Number &lt;optional&gt; px Number &lt;optional&gt; py Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 18 Members area get area Source: lf2/game/Rectangle.js, line 38 area get area Source: lf2/game/Rectangle.js, line 38 Methods &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean Class: Rectangle lf2. Rectangle new Rectangle() Rectangle Source: lf2/game/Rectangle.js, line 4 Members area get area Source: lf2/game/Rectangle.js, line 38 area get area Source: lf2/game/Rectangle.js, line 38 Methods &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean Class: Rectangle lf2. Rectangle new Rectangle() Rectangle Source: lf2/game/Rectangle.js, line 4 Members area get area Source: lf2/game/Rectangle.js, line 38 area get area Source: lf2/game/Rectangle.js, line 38 Methods &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle &lt;static&gt; merge(rect1, rect2) Parameters: Name Type Description rect1 lf2.Rectangle rect2 lf2.Rectangle Source: lf2/game/Rectangle.js, line 74 Returns: Type lf2.Rectangle draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 draw(ctx [, z]) Parameters: Name Type Argument Description ctx CanvasRenderingContext2D z Number &lt;optional&gt; Source: lf2/game/Rectangle.js, line 47 isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean isIntersect(rect) Parameters: Name Type Description rect lf2.Rectangle Source: lf2/game/Rectangle.js, line 61 Returns: Type boolean × Search results Close "},"lf2.SelectionLevel.html":{"id":"lf2.SelectionLevel.html","title":"Class: SelectionLevel","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: SelectionLevel lf2. SelectionLevel new SelectionLevel() Implements: Framework.KeyboardEventInterface Source: lf2/level/SelectionLevel.js, line 53 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods _isAllPlayerEntered() _isAllPlayerEntered() Is all player entered. Source: lf2/level/SelectionLevel.js, line 539 Returns: . _isAllPlayerEntered() _isAllPlayerEntered() Is all player entered. Source: lf2/level/SelectionLevel.js, line 539 Returns: . _isMinPlayerEntered() _isMinPlayerEntered() Is minimum player entered. Source: lf2/level/SelectionLevel.js, line 527 Returns: . _isMinPlayerEntered() _isMinPlayerEntered() Is minimum player entered. Source: lf2/level/SelectionLevel.js, line 527 Returns: . _randomAllSelectChar() _randomAllSelectChar() Random all select character. Source: lf2/level/SelectionLevel.js, line 456 Returns: . _randomAllSelectChar() _randomAllSelectChar() Random all select character. Source: lf2/level/SelectionLevel.js, line 456 Returns: . _randomSelectChar(player) _randomSelectChar(player) Random select character. Parameters: Name Type Description player The player. Source: lf2/level/SelectionLevel.js, line 436 Returns: . _randomSelectChar(player) _randomSelectChar(player) Random select character. Parameters: Name Type Description player The player. Source: lf2/level/SelectionLevel.js, line 436 Returns: . _showEnteringPanel() _showEnteringPanel() Shows the entering panel. Source: lf2/level/SelectionLevel.js, line 603 Returns: . _showEnteringPanel() _showEnteringPanel() Shows the entering panel. Source: lf2/level/SelectionLevel.js, line 603 Returns: . _startCountDown() _startCountDown() Starts count down. Source: lf2/level/SelectionLevel.js, line 550 Returns: . _startCountDown() _startCountDown() Starts count down. Source: lf2/level/SelectionLevel.js, line 550 Returns: . _stopAllMusic() Stops all music. Source: lf2/level/SelectionLevel.js, line 692 Returns: . _stopAllMusic() Stops all music. Source: lf2/level/SelectionLevel.js, line 692 Returns: . _stopCountDown() _stopCountDown() Stops count down. Source: lf2/level/SelectionLevel.js, line 568 Returns: . _stopCountDown() _stopCountDown() Stops count down. Source: lf2/level/SelectionLevel.js, line 568 Returns: . _timerTick() _timerTick() Timer tick. Source: lf2/level/SelectionLevel.js, line 581 Returns: . _timerTick() _timerTick() Timer tick. Source: lf2/level/SelectionLevel.js, line 581 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/SelectionLevel.js, line 629 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/SelectionLevel.js, line 629 Returns: . checkCheat() Check cheat. Source: lf2/level/SelectionLevel.js, line 642 Returns: . checkCheat() Check cheat. Source: lf2/level/SelectionLevel.js, line 642 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/SelectionLevel.js, line 164 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/SelectionLevel.js, line 164 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getCharIdInRange(currentIndex, offset) Finds the charidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 663 Returns: The calculated character identifier in range. getCharIdInRange(currentIndex, offset) Finds the charidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 663 Returns: The calculated character identifier in range. getTeamIdInRange(currentIndex, offset) Finds the teamidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 681 Returns: The calculated team identifier in range. getTeamIdInRange(currentIndex, offset) Finds the teamidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 681 Returns: The calculated team identifier in range. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/SelectionLevel.js, line 141 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/SelectionLevel.js, line 141 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keypress(e, list, oriE) Keypress. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 233 Returns: . keydown(e, list, oriE) keypress(e, list, oriE) Keypress. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 233 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 261 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 261 Returns: . &lt;abstract&gt; load() Loads this object. Inherited From: Framework.Level#load Overrides: Framework.Level#load Source: Framework/Level.js, line 305 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 showSelectionPanel() showSelectionPanel() Shows the selection panel. Source: lf2/level/SelectionLevel.js, line 469 Returns: . showSelectionPanel() showSelectionPanel() Shows the selection panel. Source: lf2/level/SelectionLevel.js, line 469 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/SelectionLevel.js, line 151 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/SelectionLevel.js, line 151 Returns: . Class: SelectionLevel lf2. SelectionLevel new SelectionLevel() Implements: Framework.KeyboardEventInterface Source: lf2/level/SelectionLevel.js, line 53 Extends Framework.Level Members rootScene :Framework.Scene 每個Level一定會有一個rootScene, 建議所有的GameObject都應該要attach到rootScene上 Type: Framework.Scene Properties: Name Type Description rootScene Inherited From: Framework.Level#rootScene Overrides: Framework.Level#rootScene Source: Framework/Level.js, line 30 Methods _isAllPlayerEntered() _isAllPlayerEntered() Is all player entered. Source: lf2/level/SelectionLevel.js, line 539 Returns: . _isAllPlayerEntered() _isAllPlayerEntered() Is all player entered. Source: lf2/level/SelectionLevel.js, line 539 Returns: . _isMinPlayerEntered() _isMinPlayerEntered() Is minimum player entered. Source: lf2/level/SelectionLevel.js, line 527 Returns: . _isMinPlayerEntered() _isMinPlayerEntered() Is minimum player entered. Source: lf2/level/SelectionLevel.js, line 527 Returns: . _randomAllSelectChar() _randomAllSelectChar() Random all select character. Source: lf2/level/SelectionLevel.js, line 456 Returns: . _randomAllSelectChar() _randomAllSelectChar() Random all select character. Source: lf2/level/SelectionLevel.js, line 456 Returns: . _randomSelectChar(player) _randomSelectChar(player) Random select character. Parameters: Name Type Description player The player. Source: lf2/level/SelectionLevel.js, line 436 Returns: . _randomSelectChar(player) _randomSelectChar(player) Random select character. Parameters: Name Type Description player The player. Source: lf2/level/SelectionLevel.js, line 436 Returns: . _showEnteringPanel() _showEnteringPanel() Shows the entering panel. Source: lf2/level/SelectionLevel.js, line 603 Returns: . _showEnteringPanel() _showEnteringPanel() Shows the entering panel. Source: lf2/level/SelectionLevel.js, line 603 Returns: . _startCountDown() _startCountDown() Starts count down. Source: lf2/level/SelectionLevel.js, line 550 Returns: . _startCountDown() _startCountDown() Starts count down. Source: lf2/level/SelectionLevel.js, line 550 Returns: . _stopAllMusic() Stops all music. Source: lf2/level/SelectionLevel.js, line 692 Returns: . _stopAllMusic() Stops all music. Source: lf2/level/SelectionLevel.js, line 692 Returns: . _stopCountDown() _stopCountDown() Stops count down. Source: lf2/level/SelectionLevel.js, line 568 Returns: . _stopCountDown() _stopCountDown() Stops count down. Source: lf2/level/SelectionLevel.js, line 568 Returns: . _timerTick() _timerTick() Timer tick. Source: lf2/level/SelectionLevel.js, line 581 Returns: . _timerTick() _timerTick() Timer tick. Source: lf2/level/SelectionLevel.js, line 581 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/SelectionLevel.js, line 629 Returns: . autodelete() autodelete() Autodeletes this object. Source: lf2/level/SelectionLevel.js, line 629 Returns: . checkCheat() Check cheat. Source: lf2/level/SelectionLevel.js, line 642 Returns: . checkCheat() Check cheat. Source: lf2/level/SelectionLevel.js, line 642 Returns: . countAverage(list) Count average. Parameters: Name Type Description list The list. Inherited From: Framework.Level#countAverage Overrides: Framework.Level#countAverage Source: Framework/Level.js, line 153 Returns: The total number of average. draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/SelectionLevel.js, line 164 Returns: . draw(parentCtx) draw(parentCtx) Draws the given parent context. Parameters: Name Type Description parentCtx Context for the parent. Overrides: Framework.Level#draw Source: lf2/level/SelectionLevel.js, line 164 Returns: . forceDraw() Inherited From: Framework.Level#forceDraw Overrides: Framework.Level#forceDraw Source: Framework/Level.js, line 237 Returns: Type Level getCharIdInRange(currentIndex, offset) Finds the charidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 663 Returns: The calculated character identifier in range. getCharIdInRange(currentIndex, offset) Finds the charidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 663 Returns: The calculated character identifier in range. getTeamIdInRange(currentIndex, offset) Finds the teamidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 681 Returns: The calculated team identifier in range. getTeamIdInRange(currentIndex, offset) Finds the teamidinrange of the given arguments. Parameters: Name Type Description currentIndex The current index. offset The offset. Source: lf2/level/SelectionLevel.js, line 681 Returns: The calculated team identifier in range. initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/SelectionLevel.js, line 141 Returns: . initialize() initialize() Initializes this object. Overrides: Framework.Level#initialize Source: lf2/level/SelectionLevel.js, line 141 Returns: . &lt;abstract&gt; initializeProgressResource() 初始化loadingProgress事件中會用到的圖片素材, 建議降低此處要載入的圖片數量, 主要Game要用的圖片可以等到initialize再載入 Inherited From: Framework.Level#initializeProgressResource Overrides: Framework.Level#initializeProgressResource Source: Framework/Level.js, line 296 keydown(e, list, oriE) keypress(e, list, oriE) Keypress. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 233 Returns: . keydown(e, list, oriE) keypress(e, list, oriE) Keypress. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 233 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 261 Returns: . keyup(e, list, oriE) keyup(e, list, oriE) Keyups. Parameters: Name Type Description e The unknown to process. list The list. oriE The ori e. Source: lf2/level/SelectionLevel.js, line 261 Returns: . &lt;abstract&gt; load() Loads this object. Inherited From: Framework.Level#load Overrides: Framework.Level#load Source: Framework/Level.js, line 305 Returns: . loadingProgress(context, requestInfo) 在載入圖片資源時, 要被繪製的畫面, 當不設定時, 會有預設的顯示畫面 若不想要有該畫面, 可以override一個空的function Parameters: Name Type Description context Object 用來繪製的工具 requestInfo Object requestInfo.requset為發送request的數量, requestInfo.response為已經有response的數量 requestInfo.percent為已完成的百分比 Inherited From: Framework.Level#loadingProgress Overrides: Framework.Level#loadingProgress Source: Framework/Level.js, line 316 &lt;abstract&gt; receiveExtraDataWhenLevelStart(extraData) 接收傳遞的資料 Parameters: Name Type Description extraData Inherited From: Framework.Level#receiveExtraDataWhenLevelStart Overrides: Framework.Level#receiveExtraDataWhenLevelStart Source: Framework/Level.js, line 142 showSelectionPanel() showSelectionPanel() Shows the selection panel. Source: lf2/level/SelectionLevel.js, line 469 Returns: . showSelectionPanel() showSelectionPanel() Shows the selection panel. Source: lf2/level/SelectionLevel.js, line 469 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/SelectionLevel.js, line 151 Returns: . update() update() Updates this object. Overrides: Framework.Level#update Source: lf2/level/SelectionLevel.js, line 151 Returns: . × Search results Close "},"lf2.SpeedUpTrackerBehavior.html":{"id":"lf2.SpeedUpTrackerBehavior.html","title":"Class: SpeedUpTrackerBehavior","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: SpeedUpTrackerBehavior lf2. SpeedUpTrackerBehavior new SpeedUpTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 33 FA Gets the fa. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 33 Methods toString() Convert this object into a string representation. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 42 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 42 Returns: An unknown that represents this object. Class: SpeedUpTrackerBehavior lf2. SpeedUpTrackerBehavior new SpeedUpTrackerBehavior(ball, world) Parameters: Name Type Description ball lf2.Ball world lf2.WorldScene Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 24 Members FA Gets the fa. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 33 FA Gets the fa. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 33 Methods toString() Convert this object into a string representation. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 42 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 42 Returns: An unknown that represents this object. × Search results Close "},"lf2.Team.html":{"id":"lf2.Team.html","title":"Class: Team","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Team lf2. Team new Team(teamId) Parameters: Name Type Description teamId Number Source: lf2/player/Team.js, line 36 Members id Gets the identifier. Source: lf2/player/Team.js, line 94 id Gets the identifier. Source: lf2/player/Team.js, line 94 Methods &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. Class: Team lf2. Team new Team() Team Source: lf2/player/Team.js, line 26 Members id Gets the identifier. Source: lf2/player/Team.js, line 94 id Gets the identifier. Source: lf2/player/Team.js, line 94 Methods &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. Class: Team lf2. Team new Team(teamId) Parameters: Name Type Description teamId Number Source: lf2/player/Team.js, line 36 Members id Gets the identifier. Source: lf2/player/Team.js, line 94 id Gets the identifier. Source: lf2/player/Team.js, line 94 Methods &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. Class: Team lf2. Team new Team() Team Source: lf2/player/Team.js, line 26 Members id Gets the identifier. Source: lf2/player/Team.js, line 94 id Gets the identifier. Source: lf2/player/Team.js, line 94 Methods &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean &lt;static&gt; EqualsTo(t1, t2) Parameters: Name Type Description t1 lf2.Team t2 lf2.Team Source: lf2/player/Team.js, line 106 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean equalsTo(otherTeam) Parameters: Name Type Description otherTeam lf2.Team Source: lf2/player/Team.js, line 52 Returns: Type boolean getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getColor() Gets the color. Source: lf2/player/Team.js, line 72 Returns: The color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. getDarkColor() Gets dark color. Source: lf2/player/Team.js, line 83 Returns: The dark color. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. toString() Convert this object into a string representation. Source: lf2/player/Team.js, line 61 Returns: An unknown that represents this object. × Search results Close "},"lf2.Weapon.html":{"id":"lf2.Weapon.html","title":"Class: Weapon","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Weapon lf2. Weapon new Weapon(weaponId, player) Parameters: Name Type Description weaponId ID of character player lf2.Player of this ball belong to Source: lf2/items/Weapon.js, line 28 Members __leftTopPoint__lol get leftTopPoint() Left top point. Inherited From: lf2.Ball#__leftTopPoint__lol Overrides: lf2.Ball#__leftTopPoint__lol Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.Ball#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.Ball#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.Ball#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.Ball#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.Ball#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.Ball#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.Ball#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.Ball#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.Ball#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.Ball#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.Ball#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.Ball#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.Ball#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.Ball#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Inherited From: lf2.Ball#_getFrameOffset Overrides: lf2.Ball#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.Ball#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Inherited From: lf2.Ball#_getVelocity Overrides: lf2.Ball#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.Ball#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.Ball#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.Ball#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.Ball#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.Ball#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.Ball#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.Ball#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.Ball#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.Ball#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.Ball#isFront Source: lf2/items/GameItem.js, line 984 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Inherited From: lf2.Ball#notifyDamageBy Overrides: lf2.Ball#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Inherited From: lf2.Ball#onOutOfBound Overrides: lf2.Ball#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Inherited From: lf2.Ball#postDamageItems Overrides: lf2.Ball#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.Ball#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.Ball#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.Ball#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.Ball#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.Ball#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.Ball#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.Ball#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . updateVelocity() Updates the velocity. Inherited From: lf2.Ball#updateVelocity Overrides: lf2.Ball#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Weapon lf2. Weapon new Weapon() Weapon Implements: Framework.AttachableInterface Source: lf2/items/Weapon.js, line 15 Extends lf2.Ball Members __leftTopPoint__lol get leftTopPoint() Left top point. Inherited From: lf2.Ball#__leftTopPoint__lol Overrides: lf2.Ball#__leftTopPoint__lol Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.Ball#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.Ball#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.Ball#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.Ball#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.Ball#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.Ball#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.Ball#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.Ball#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.Ball#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.Ball#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.Ball#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.Ball#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.Ball#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.Ball#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Inherited From: lf2.Ball#_getFrameOffset Overrides: lf2.Ball#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.Ball#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Inherited From: lf2.Ball#_getVelocity Overrides: lf2.Ball#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.Ball#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.Ball#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.Ball#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.Ball#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.Ball#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.Ball#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.Ball#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.Ball#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.Ball#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.Ball#isFront Source: lf2/items/GameItem.js, line 984 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Inherited From: lf2.Ball#notifyDamageBy Overrides: lf2.Ball#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Inherited From: lf2.Ball#onOutOfBound Overrides: lf2.Ball#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Inherited From: lf2.Ball#postDamageItems Overrides: lf2.Ball#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.Ball#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.Ball#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.Ball#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.Ball#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.Ball#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.Ball#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.Ball#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . updateVelocity() Updates the velocity. Inherited From: lf2.Ball#updateVelocity Overrides: lf2.Ball#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Weapon lf2. Weapon new Weapon(weaponId, player) Parameters: Name Type Description weaponId ID of character player lf2.Player of this ball belong to Source: lf2/items/Weapon.js, line 28 Members __leftTopPoint__lol get leftTopPoint() Left top point. Inherited From: lf2.Ball#__leftTopPoint__lol Overrides: lf2.Ball#__leftTopPoint__lol Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.Ball#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.Ball#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.Ball#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.Ball#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.Ball#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.Ball#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.Ball#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.Ball#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.Ball#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.Ball#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.Ball#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.Ball#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.Ball#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.Ball#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Inherited From: lf2.Ball#_getFrameOffset Overrides: lf2.Ball#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.Ball#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Inherited From: lf2.Ball#_getVelocity Overrides: lf2.Ball#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.Ball#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.Ball#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.Ball#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.Ball#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.Ball#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.Ball#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.Ball#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.Ball#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.Ball#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.Ball#isFront Source: lf2/items/GameItem.js, line 984 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Inherited From: lf2.Ball#notifyDamageBy Overrides: lf2.Ball#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Inherited From: lf2.Ball#onOutOfBound Overrides: lf2.Ball#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Inherited From: lf2.Ball#postDamageItems Overrides: lf2.Ball#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.Ball#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.Ball#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.Ball#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.Ball#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.Ball#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.Ball#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.Ball#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . updateVelocity() Updates the velocity. Inherited From: lf2.Ball#updateVelocity Overrides: lf2.Ball#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . Class: Weapon lf2. Weapon new Weapon() Weapon Implements: Framework.AttachableInterface Source: lf2/items/Weapon.js, line 15 Extends lf2.Ball Members __leftTopPoint__lol get leftTopPoint() Left top point. Inherited From: lf2.Ball#__leftTopPoint__lol Overrides: lf2.Ball#__leftTopPoint__lol Source: lf2/items/Ball.js, line 466 _audio :Framework.Audio Type: Framework.Audio Inherited From: lf2.GameItem#_audio Overrides: lf2.Ball#_audio Source: lf2/items/GameItem.js, line 120 _prevVelocity :Framework.Point3D Type: Framework.Point3D Inherited From: lf2.GameItem#_prevVelocity Overrides: lf2.Ball#_prevVelocity Source: lf2/items/GameItem.js, line 128 currentFrame Get current frame Inherited From: lf2.GameItem#currentFrame Overrides: lf2.Ball#currentFrame Source: lf2/items/GameItem.js, line 153 height get height() Gets the height. Inherited From: lf2.GameItem#height Overrides: lf2.Ball#height Source: lf2/items/GameItem.js, line 948 ImgInfo get ImgInfo() Image information. Inherited From: lf2.GameItem#ImgInfo Overrides: lf2.Ball#ImgInfo Source: lf2/items/GameItem.js, line 838 isFrameChanged Is frame changed. Inherited From: lf2.GameItem#isFrameChanged Overrides: lf2.Ball#isFrameChanged Source: lf2/items/GameItem.js, line 909 isObjectChanged get isObjectChanged() Is object changed. Inherited From: lf2.GameItem#isObjectChanged Overrides: lf2.Ball#isObjectChanged Source: lf2/items/GameItem.js, line 923 isStopping Is stopping. Inherited From: lf2.GameItem#isStopping Overrides: lf2.Ball#isStopping Source: lf2/items/GameItem.js, line 957 leftTopPoint get leftTopPoint() Left top point. Inherited From: lf2.GameItem#leftTopPoint Overrides: lf2.Ball#leftTopPoint Source: lf2/items/GameItem.js, line 856 position 物件的中下座標 Inherited From: lf2.GameItem#position Overrides: lf2.Ball#position Source: lf2/items/GameItem.js, line 81 previousFrame Get current frame Inherited From: lf2.GameItem#previousFrame Overrides: lf2.Ball#previousFrame Source: lf2/items/GameItem.js, line 161 velocity Inherited From: lf2.GameItem#velocity Overrides: lf2.Ball#velocity Source: lf2/items/GameItem.js, line 966 width get width() Gets the width. Inherited From: lf2.GameItem#width Overrides: lf2.Ball#width Source: lf2/items/GameItem.js, line 937 world Inherited From: lf2.GameItem#world Overrides: lf2.Ball#world Source: lf2/items/GameItem.js, line 137 Methods _getFrameOffset() Applies the friction. Inherited From: lf2.Ball#_getFrameOffset Overrides: lf2.Ball#_getFrameOffset Source: lf2/items/Ball.js, line 244 Returns: . _getNextFrameId() _getNextFrameId() Gets the next frame identifier. Inherited From: lf2.GameItem#_getNextFrameId Overrides: lf2.Ball#_getNextFrameId Source: lf2/items/GameItem.js, line 879 Returns: The next frame identifier. Type Number _getVelocity() Gets the velocity. Inherited From: lf2.Ball#_getVelocity Overrides: lf2.Ball#_getVelocity Source: lf2/items/Ball.js, line 134 Returns: The velocity. applyFriction() Applies the friction. Inherited From: lf2.GameItem#applyFriction Overrides: lf2.Ball#applyFriction Source: lf2/items/GameItem.js, line 339 Returns: . canDamageBy(item, ITR) Can damage by. Parameters: Name Type Description item The item. ITR The itr. Inherited From: lf2.GameItem#canDamageBy Overrides: lf2.Ball#canDamageBy Source: lf2/items/GameItem.js, line 412 Returns: . cleanUpItr() Clean up itr. Inherited From: lf2.GameItem#cleanUpItr Overrides: lf2.Ball#cleanUpItr Source: lf2/items/GameItem.js, line 768 Returns: . frameExist(frameId) Frame Exist Parameters: Name Type Description frameId Inherited From: lf2.GameItem#frameExist Overrides: lf2.Ball#frameExist Source: lf2/items/GameItem.js, line 436 Returns: Type boolean freeze() Freezes this object. Inherited From: lf2.GameItem#freeze Overrides: lf2.Ball#freeze Source: lf2/items/GameItem.js, line 893 Returns: . getAttackItems() Gets attack items. Inherited From: lf2.GameItem#getAttackItems Overrides: lf2.Ball#getAttackItems Source: lf2/items/GameItem.js, line 697 Returns: The attack items. Type Array.&lt;lf2.GameItem&gt; getBdyRect() Inherited From: lf2.GameItem#getBdyRect Overrides: lf2.Ball#getBdyRect Source: lf2/items/GameItem.js, line 636 Returns: Type lf2.Rectangle getFrameIdByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#getFrameIdByName Overrides: lf2.Ball#getFrameIdByName Source: lf2/items/GameItem.js, line 397 getItrBox() Inherited From: lf2.GameItem#getItrBox Overrides: lf2.Ball#getItrBox Source: lf2/items/GameItem.js, line 619 Returns: Type Array.&lt;lf2.Cube&gt; isFront(item) Parameters: Name Type Description item lf2.GameItem Inherited From: lf2.GameItem#isFront Overrides: lf2.Ball#isFront Source: lf2/items/GameItem.js, line 984 notifyDamageBy(item, itr) Notifies a damage by. Parameters: Name Type Description item lf2.GameItem The item. itr lf2.Interaction Inherited From: lf2.Ball#notifyDamageBy Overrides: lf2.Ball#notifyDamageBy Source: lf2/items/Ball.js, line 263 Returns: . onDestroy() destroy this item Inherited From: lf2.GameItem#onDestroy Source: lf2/items/GameItem.js, line 827 onOutOfBound(bound, map) Parameters: Name Type Description bound Number map lf2.GameMap Inherited From: lf2.Ball#onOutOfBound Overrides: lf2.Ball#onOutOfBound Source: lf2/items/Ball.js, line 83 postDamageItems(gotDamageItems) Posts a damage items. Parameters: Name Type Description gotDamageItems Array.&lt;lf2.GameItem&gt; The got damage items. Inherited From: lf2.Ball#postDamageItems Overrides: lf2.Ball#postDamageItems Source: lf2/items/Ball.js, line 371 Returns: . setBdyItems(items) Parameters: Name Type Description items Array.&lt;lf2.GameItem&gt; Inherited From: lf2.GameItem#setBdyItems Overrides: lf2.Ball#setBdyItems Source: lf2/items/GameItem.js, line 270 setFrameById(frameId) Parameters: Name Type Description frameId Number Inherited From: lf2.GameItem#setFrameById Overrides: lf2.Ball#setFrameById Source: lf2/items/GameItem.js, line 376 setFrameByName(frameName) Parameters: Name Type Description frameName String Inherited From: lf2.GameItem#setFrameByName Overrides: lf2.Ball#setFrameByName Source: lf2/items/GameItem.js, line 446 setNextDirection(v) Sets next direction. Parameters: Name Type Description v The unknown to process. Inherited From: lf2.GameItem#setNextDirection Overrides: lf2.Ball#setNextDirection Source: lf2/items/GameItem.js, line 1016 Returns: . setNextFrame(id) Force set next frame id Parameters: Name Type Description id Number Inherited From: lf2.GameItem#setNextFrame Overrides: lf2.Ball#setNextFrame Source: lf2/items/GameItem.js, line 808 setPosition(p) Parameters: Name Type Description p Framework.Point3D Inherited From: lf2.GameItem#setPosition Overrides: lf2.Ball#setPosition Source: lf2/items/GameItem.js, line 1001 transferPoint(p) Parameters: Name Type Description p Framework.Point Inherited From: lf2.GameItem#transferPoint Overrides: lf2.Ball#transferPoint Source: lf2/items/GameItem.js, line 674 Returns: Type Framework.Point update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . update() update() Updates this object. Overrides: lf2.Ball#update Implements: Framework.AttachableInterface#update Source: lf2/items/Weapon.js, line 84 Returns: . updateVelocity() Updates the velocity. Inherited From: lf2.Ball#updateVelocity Overrides: lf2.Ball#updateVelocity Source: lf2/items/Ball.js, line 225 Returns: . × Search results Close "},"MouseManager.html":{"id":"MouseManager.html","title":"Class: MouseManager","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: MouseManager MouseManager new MouseManager() 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/MouseManager.js, line 94 Methods setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . Class: MouseManager MouseManager new MouseManager() Default constructor. Source: Framework/MouseManager.js, line 105 Methods setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . Class: MouseManager MouseManager new MouseManager() Default constructor. Source: Framework/MouseManager.js, line 105 Methods setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . Class: MouseManager MouseManager new MouseManager() 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/MouseManager.js, line 94 Methods setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setClickEvent() Sets click event. Source: Framework/MouseManager.js, line 127 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setContextmenuEvent() Sets contextmenu event. Source: Framework/MouseManager.js, line 163 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMousedownEvent() Sets mousedown event. Source: Framework/MouseManager.js, line 136 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseMoveEvent() Sets mouse move event. Source: Framework/MouseManager.js, line 154 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setMouseUpEvent() Sets mouse up event. Source: Framework/MouseManager.js, line 145 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . setSubject() Sets the subject. Source: Framework/MouseManager.js, line 118 Returns: . × Search results Close "},"Node.html":{"id":"Node.html","title":"Class: Node","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Node Node new Node(value, parent, tree) Parameters: Name Type Description value lf2.Rectangle parent Node tree lf2.CollisionSearchTree Source: lf2/game/CollisionSearchTree.js, line 12 Methods _ReArrange(baseNode) Parameters: Name Type Description baseNode any Source: lf2/game/CollisionSearchTree.js, line 125 _ReArrange(baseNode) Parameters: Name Type Description baseNode any Source: lf2/game/CollisionSearchTree.js, line 125 add(value, parent) Parameters: Name Type Description value lf2.Rectangle parent Node Source: lf2/game/CollisionSearchTree.js, line 24 add(value, parent) Parameters: Name Type Description value lf2.Rectangle parent Node Source: lf2/game/CollisionSearchTree.js, line 24 Class: Node Node new Node(value, parent, tree) Parameters: Name Type Description value lf2.Rectangle parent Node tree lf2.CollisionSearchTree Source: lf2/game/CollisionSearchTree.js, line 12 Methods _ReArrange(baseNode) Parameters: Name Type Description baseNode any Source: lf2/game/CollisionSearchTree.js, line 125 _ReArrange(baseNode) Parameters: Name Type Description baseNode any Source: lf2/game/CollisionSearchTree.js, line 125 add(value, parent) Parameters: Name Type Description value lf2.Rectangle parent Node Source: lf2/game/CollisionSearchTree.js, line 24 add(value, parent) Parameters: Name Type Description value lf2.Rectangle parent Node Source: lf2/game/CollisionSearchTree.js, line 24 × Search results Close "},"Prefetch.html":{"id":"Prefetch.html","title":"Class: Prefetch","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Prefetch Prefetch new Prefetch() Prefetch Source: lf2/game/Prefetch.js, line 4 Methods get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . Class: Prefetch Prefetch new Prefetch() Default constructor. Source: lf2/game/Prefetch.js, line 12 Methods get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . Class: Prefetch Prefetch new Prefetch() Default constructor. Source: lf2/game/Prefetch.js, line 12 Methods get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . Class: Prefetch Prefetch new Prefetch() Prefetch Source: lf2/game/Prefetch.js, line 4 Methods get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise get(key) Gets an Promise using the given key. Parameters: Name Type Description key String The key to get. Source: lf2/game/Prefetch.js, line 50 Returns: Type Promise start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . start() Starts preload resources Source: lf2/game/Prefetch.js, line 21 Returns: . × Search results Close "},"TouchManager.html":{"id":"TouchManager.html","title":"Class: TouchManager","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: TouchManager TouchManager new TouchManager() 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/TouchManager.js, line 93 Class: TouchManager TouchManager new TouchManager() 管理KeyBoard所有的事件, 一般來說, 不會在此處處理相關邏輯 而會在Level進行設定, 請參照 {{#crossLink &quot;Level/keydown:event&quot;}}{{/crossLink}}, {{#crossLink &quot;Level/keyup:event&quot;}}{{/crossLink}}, Source: Framework/TouchManager.js, line 93 × Search results Close "},"%2525257BFramework.Audio%2525257D.html":{"id":"%2525257BFramework.Audio%2525257D.html","title":"Class: Audio}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Audio} Audio} new Audio}() Source: Framework/Audio.js, line 44 Class: Audio} Audio} new Audio}() Source: Framework/Audio.js, line 39 Class: Audio} Audio} new Audio}() Source: Framework/Audio.js, line 39 Class: Audio} Audio} new Audio}() Source: Framework/Audio.js, line 44 × Search results Close "},"%257BFramework.Config%257D.html":{"id":"%257BFramework.Config%257D.html","title":"Class: Config}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Config} Config} new Config}() Source: Framework/Config.js, line 9 Class: Config} Config} new Config}() Source: Framework/Config.js, line 9 × Search results Close "},"%257BFramework.Point3D%257D.html":{"id":"%257BFramework.Point3D%257D.html","title":"Class: Point3D}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Point3D} Point3D} new Point3D}() 提供三維座標的儲存功能 Properties: Name Type Description z Number Source: Framework/Point3D.js, line 5 Extends Framework.Point Members _x :Number Type: Number Inherited From: Framework.Point#_x Overrides: Framework.Point#_x Source: Framework/Point.js, line 25 _y :Number Type: Number Inherited From: Framework.Point#_y Overrides: Framework.Point#_y Source: Framework/Point.js, line 31 first get first data Inherited From: Framework.Point#first Overrides: Framework.Point#first Source: Framework/Point.js, line 52 isZero Is origin Inherited From: Framework.Point#isZero Overrides: Framework.Point#isZero Source: Framework/Point.js, line 78 second get second data Inherited From: Framework.Point#second Overrides: Framework.Point#second Source: Framework/Point.js, line 60 x Gets the x coordinate. Inherited From: Framework.Point#x Overrides: Framework.Point#x Source: Framework/Point.js, line 69 y Gets the y coordinate. Inherited From: Framework.Point#y Overrides: Framework.Point#y Source: Framework/Point.js, line 119 Methods clone() Clone Inherited From: Framework.Point#clone Overrides: Framework.Point#clone Source: Framework/Point.js, line 97 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Inherited From: Framework.Point#offset Overrides: Framework.Point#offset Source: Framework/Point.js, line 107 Returns: Type Point writeTo(target) Write point to target Parameters: Name Type Description target Point Inherited From: Framework.Point#writeTo Overrides: Framework.Point#writeTo Source: Framework/Point.js, line 39 Class: Point3D} Point3D} new Point3D}() 提供三維座標的儲存功能 Properties: Name Type Description z Number Source: Framework/Point3D.js, line 5 Extends Framework.Point Members _x :Number Type: Number Inherited From: Framework.Point#_x Overrides: Framework.Point#_x Source: Framework/Point.js, line 25 _y :Number Type: Number Inherited From: Framework.Point#_y Overrides: Framework.Point#_y Source: Framework/Point.js, line 31 first get first data Inherited From: Framework.Point#first Overrides: Framework.Point#first Source: Framework/Point.js, line 52 isZero Is origin Inherited From: Framework.Point#isZero Overrides: Framework.Point#isZero Source: Framework/Point.js, line 78 second get second data Inherited From: Framework.Point#second Overrides: Framework.Point#second Source: Framework/Point.js, line 60 x Gets the x coordinate. Inherited From: Framework.Point#x Overrides: Framework.Point#x Source: Framework/Point.js, line 69 y Gets the y coordinate. Inherited From: Framework.Point#y Overrides: Framework.Point#y Source: Framework/Point.js, line 119 Methods clone() Clone Inherited From: Framework.Point#clone Overrides: Framework.Point#clone Source: Framework/Point.js, line 97 Returns: Type Point offset(x, y) Parameters: Name Type Description x Number y Number Inherited From: Framework.Point#offset Overrides: Framework.Point#offset Source: Framework/Point.js, line 107 Returns: Type Point writeTo(target) Write point to target Parameters: Name Type Description target Point Inherited From: Framework.Point#writeTo Overrides: Framework.Point#writeTo Source: Framework/Point.js, line 39 × Search results Close "},"%257BFramework.Point%257D.html":{"id":"%257BFramework.Point%257D.html","title":"Class: Point}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Point} Point} new Point}() 2D coordinate, also use as a pair structure 提供二維座標的儲存功能 Properties: Name Type Description x Number y Number z Number Source: Framework/Point.js, line 3 Class: Point} Point} new Point}() 2D coordinate, also use as a pair structure 提供二維座標的儲存功能 Properties: Name Type Description x Number y Number z Number Source: Framework/Point.js, line 3 × Search results Close "},"%257BFramework.Scene%257D.html":{"id":"%257BFramework.Scene%257D.html","title":"Class: Scene}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Scene} Scene} new Scene}() 可以用來盛裝多個GameObject的容器, 當該容器位移時, 其所屬的GameObject也會跟著改變 Implements: Framework.AttachableInterface Source: Framework/Scene.js, line 5 Example new Framework.Scene(); Extends Framework.GameObject Members diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height 絕對高度的getter Inherited From: Framework.GameObject#height Overrides: Framework.GameObject#height Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Inherited From: Framework.GameObject#width Overrides: Framework.GameObject#width Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. &lt;abstract&gt; draw() Inherited From: Framework.GameObject#draw Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 &lt;abstract&gt; load() Inherited From: Framework.GameObject#load Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string &lt;abstract&gt; update() Inherited From: Framework.GameObject#update Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 Class: Scene} Scene} new Scene}() 可以用來盛裝多個GameObject的容器, 當該容器位移時, 其所屬的GameObject也會跟著改變 Implements: Framework.AttachableInterface Source: Framework/Scene.js, line 5 Example new Framework.Scene(); Extends Framework.GameObject Members diagonal Gets the diagonal. Inherited From: Framework.GameObject#diagonal Overrides: Framework.GameObject#diagonal Source: Framework/GameObject.js, line 300 height 絕對高度的getter Inherited From: Framework.GameObject#height Overrides: Framework.GameObject#height Source: Framework/GameObject.js, line 287 &lt;readonly&gt; isObjectChanged Is object changed. Inherited From: Framework.GameObject#isObjectChanged Overrides: Framework.GameObject#isObjectChanged Source: Framework/GameObject.js, line 167 &lt;readonly&gt; isOnChangedRect Is on changed rectangle. Inherited From: Framework.GameObject#isOnChangedRect Overrides: Framework.GameObject#isOnChangedRect Source: Framework/GameObject.js, line 187 &lt;readonly&gt; lowerLeft :Point 絕對位置左下角的getter Type: Point Properties: Name Type Description lowerLeft Inherited From: Framework.GameObject#lowerLeft Overrides: Framework.GameObject#lowerLeft Default Value: 0 Source: Framework/GameObject.js, line 347 &lt;readonly&gt; lowerRight :Point 絕對位置右下角的getter Type: Point Properties: Name Type Description lowerRight Inherited From: Framework.GameObject#lowerRight Overrides: Framework.GameObject#lowerRight Default Value: 0 Source: Framework/GameObject.js, line 366 position 相對位置的getter Inherited From: Framework.GameObject#position Overrides: Framework.GameObject#position Source: Framework/GameObject.js, line 212 rotation 相對旋轉角度的getter Inherited From: Framework.GameObject#rotation Overrides: Framework.GameObject#rotation Source: Framework/GameObject.js, line 234 scale 相對放大縮小的getter Inherited From: Framework.GameObject#scale Overrides: Framework.GameObject#scale Source: Framework/GameObject.js, line 254 spriteParent :Framework.Scene Type: Framework.Scene Inherited From: Framework.GameObject#spriteParent Overrides: Framework.GameObject#spriteParent Source: Framework/GameObject.js, line 44 &lt;readonly&gt; upperLeft :Point 絕對位置左上角的getter Type: Point Properties: Name Type Description upperLeft Inherited From: Framework.GameObject#upperLeft Overrides: Framework.GameObject#upperLeft Default Value: 0 Source: Framework/GameObject.js, line 311 &lt;readonly&gt; upperRight :Point 絕對位置右上角的getter Type: Point Properties: Name Type Description upperRight Inherited From: Framework.GameObject#upperRight Overrides: Framework.GameObject#upperRight Default Value: 0 Source: Framework/GameObject.js, line 329 &lt;readonly&gt; width 絕對寬度的getter Inherited From: Framework.GameObject#width Overrides: Framework.GameObject#width Source: Framework/GameObject.js, line 274 Methods clearDirtyFlag() Clears the dirty flag. Inherited From: Framework.GameObject#clearDirtyFlag Overrides: Framework.GameObject#clearDirtyFlag Source: Framework/GameObject.js, line 52 Returns: . countAbsoluteProperty() Count absolute property. Inherited From: Framework.GameObject#countAbsoluteProperty Overrides: Framework.GameObject#countAbsoluteProperty Source: Framework/GameObject.js, line 73 Returns: The total number of absolute property. &lt;abstract&gt; draw() Inherited From: Framework.GameObject#draw Overrides: Framework.GameObject#draw Implements: Framework.AttachableInterface#draw Source: Framework/GameObject.js, line 145 &lt;abstract&gt; initialize() Inherited From: Framework.GameObject#initialize Overrides: Framework.GameObject#initialize Source: Framework/GameObject.js, line 133 &lt;abstract&gt; load() Inherited From: Framework.GameObject#load Overrides: Framework.GameObject#load Implements: Framework.AttachableInterface#load Source: Framework/GameObject.js, line 127 pushSelfToLevel() Pushes the self to level. Inherited From: Framework.GameObject#pushSelfToLevel Overrides: Framework.GameObject#pushSelfToLevel Source: Framework/GameObject.js, line 64 Returns: . &lt;abstract&gt; teardown() Inherited From: Framework.GameObject#teardown Overrides: Framework.GameObject#teardown Source: Framework/GameObject.js, line 151 toString() Inherited From: Framework.GameObject#toString Overrides: Framework.GameObject#toString Source: Framework/GameObject.js, line 158 Returns: Type string &lt;abstract&gt; update() Inherited From: Framework.GameObject#update Overrides: Framework.GameObject#update Implements: Framework.AttachableInterface#update Source: Framework/GameObject.js, line 139 × Search results Close "},"%257BFramework%257D.html":{"id":"%257BFramework%257D.html","title":"Namespace: {Framework}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Namespace: {Framework} {Framework} Source: Framework/GameMainMenu.js, line 7 Extends Framework.Level Namespace: {Framework} {Framework} Source: Framework/GameMainMenu.js, line 7 Extends Framework.Level × Search results Close "},"%257Blf2.BmpInfo%257D.html":{"id":"%257Blf2.BmpInfo%257D.html","title":"Class: BmpInfo}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: BmpInfo} BmpInfo} new BmpInfo}() Source: lf2/objects/GameObject.js, line 4 Class: BmpInfo} BmpInfo} new BmpInfo}() Source: lf2/objects/GameObject.js, line 4 × Search results Close "},"%257Blf2.CenterTrackerBehavior%257D.html":{"id":"%257Blf2.CenterTrackerBehavior%257D.html","title":"Class: CenterTrackerBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: CenterTrackerBehavior} CenterTrackerBehavior} new CenterTrackerBehavior}() CenterTrackerBehavior Source: lf2/items/behavior/CenterTrackerBehavior.js, line 12 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: CenterTrackerBehavior} CenterTrackerBehavior} new CenterTrackerBehavior}() CenterTrackerBehavior Source: lf2/items/behavior/CenterTrackerBehavior.js, line 12 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . × Search results Close "},"%257Blf2.FasterTrackerBehavior%257D.html":{"id":"%257Blf2.FasterTrackerBehavior%257D.html","title":"Class: FasterTrackerBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FasterTrackerBehavior} FasterTrackerBehavior} new FasterTrackerBehavior}() FasterTrackerBehavior Source: lf2/items/behavior/FasterTrackerBehavior.js, line 11 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: FasterTrackerBehavior} FasterTrackerBehavior} new FasterTrackerBehavior}() FasterTrackerBehavior Source: lf2/items/behavior/FasterTrackerBehavior.js, line 11 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . × Search results Close "},"%257Blf2.FirzenDisasterFallDownBehavior%257D.html":{"id":"%257Blf2.FirzenDisasterFallDownBehavior%257D.html","title":"Class: FirzenDisasterFallDownBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: FirzenDisasterFallDownBehavior} FirzenDisasterFallDownBehavior} new FirzenDisasterFallDownBehavior}() FirzenDisasterFallDownBehavior Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 13 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: FirzenDisasterFallDownBehavior} FirzenDisasterFallDownBehavior} new FirzenDisasterFallDownBehavior}() FirzenDisasterFallDownBehavior Source: lf2/items/behavior/FirzenDisasterFallDownBehavior.js, line 13 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . × Search results Close "},"%257Blf2.Frame%257D.html":{"id":"%257Blf2.Frame%257D.html","title":"Class: Frame}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: Frame} Frame} new Frame}() Source: lf2/objects/GameObject.js, line 13 Class: Frame} Frame} new Frame}() Source: lf2/objects/GameObject.js, line 13 × Search results Close "},"%257Blf2.HorizontalTrackerBehavior%257D.html":{"id":"%257Blf2.HorizontalTrackerBehavior%257D.html","title":"Class: HorizontalTrackerBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: HorizontalTrackerBehavior} HorizontalTrackerBehavior} new HorizontalTrackerBehavior}() HorizontalTrackerBehavior Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 12 Extends lf2.CenterTrackerBehavior Members FA Gets the fa. Inherited From: lf2.CenterTrackerBehavior#FA Overrides: lf2.CenterTrackerBehavior#FA Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Inherited From: lf2.CenterTrackerBehavior#getTarget Overrides: lf2.CenterTrackerBehavior#getTarget Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Inherited From: lf2.CenterTrackerBehavior#getVelocity Overrides: lf2.CenterTrackerBehavior#getVelocity Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Inherited From: lf2.CenterTrackerBehavior#toString Overrides: lf2.CenterTrackerBehavior#toString Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Inherited From: lf2.CenterTrackerBehavior#update Overrides: lf2.CenterTrackerBehavior#update Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . Class: HorizontalTrackerBehavior} HorizontalTrackerBehavior} new HorizontalTrackerBehavior}() HorizontalTrackerBehavior Source: lf2/items/behavior/HorizontalTrackerBehavior.js, line 12 Extends lf2.CenterTrackerBehavior Members FA Gets the fa. Inherited From: lf2.CenterTrackerBehavior#FA Overrides: lf2.CenterTrackerBehavior#FA Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Inherited From: lf2.CenterTrackerBehavior#getTarget Overrides: lf2.CenterTrackerBehavior#getTarget Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Inherited From: lf2.CenterTrackerBehavior#getVelocity Overrides: lf2.CenterTrackerBehavior#getVelocity Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Inherited From: lf2.CenterTrackerBehavior#toString Overrides: lf2.CenterTrackerBehavior#toString Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Inherited From: lf2.CenterTrackerBehavior#update Overrides: lf2.CenterTrackerBehavior#update Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . × Search results Close "},"%257Blf2.JulianBallTrackerBehavior%257D.html":{"id":"%257Blf2.JulianBallTrackerBehavior%257D.html","title":"Class: JulianBallTrackerBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: JulianBallTrackerBehavior} JulianBallTrackerBehavior} new JulianBallTrackerBehavior}() JulianBallTrackerBehavior Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 12 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . Class: JulianBallTrackerBehavior} JulianBallTrackerBehavior} new JulianBallTrackerBehavior}() JulianBallTrackerBehavior Source: lf2/items/behavior/JulianBallTrackerBehavior.js, line 12 Extends lf2.AbstractBehavior Members &lt;protected&gt; _ball :lf2.Ball Type: lf2.Ball Inherited From: lf2.AbstractBehavior#_ball Overrides: lf2.AbstractBehavior#_ball Source: lf2/items/behavior/AbstractBehavior.js, line 23 &lt;protected&gt; _world :lf2.WorldScene Type: lf2.WorldScene Inherited From: lf2.AbstractBehavior#_world Overrides: lf2.AbstractBehavior#_world Source: lf2/items/behavior/AbstractBehavior.js, line 35 belongTo :lf2.Player Type: lf2.Player Inherited From: lf2.AbstractBehavior#belongTo Overrides: lf2.AbstractBehavior#belongTo Source: lf2/items/behavior/AbstractBehavior.js, line 28 Methods &lt;abstract&gt; getTarget() Inherited From: lf2.AbstractBehavior#getTarget Overrides: lf2.AbstractBehavior#getTarget Source: lf2/items/behavior/AbstractBehavior.js, line 65 Returns: Type lf2.GameItem &lt;abstract&gt; getVelocity() Inherited From: lf2.AbstractBehavior#getVelocity Overrides: lf2.AbstractBehavior#getVelocity Source: lf2/items/behavior/AbstractBehavior.js, line 43 Returns: Type Framework.Point3D update() Updates this object. Inherited From: lf2.AbstractBehavior#update Overrides: lf2.AbstractBehavior#update Source: lf2/items/behavior/AbstractBehavior.js, line 52 Returns: . × Search results Close "},"%257Blf2.SpeedUpTrackerBehavior%257D.html":{"id":"%257Blf2.SpeedUpTrackerBehavior%257D.html","title":"Class: SpeedUpTrackerBehavior}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: SpeedUpTrackerBehavior} SpeedUpTrackerBehavior} new SpeedUpTrackerBehavior}() SpeedUpTrackerBehavior Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 12 Extends lf2.CenterTrackerBehavior Members FA Gets the fa. Inherited From: lf2.CenterTrackerBehavior#FA Overrides: lf2.CenterTrackerBehavior#FA Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Inherited From: lf2.CenterTrackerBehavior#getTarget Overrides: lf2.CenterTrackerBehavior#getTarget Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Inherited From: lf2.CenterTrackerBehavior#getVelocity Overrides: lf2.CenterTrackerBehavior#getVelocity Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Inherited From: lf2.CenterTrackerBehavior#toString Overrides: lf2.CenterTrackerBehavior#toString Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Inherited From: lf2.CenterTrackerBehavior#update Overrides: lf2.CenterTrackerBehavior#update Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . Class: SpeedUpTrackerBehavior} SpeedUpTrackerBehavior} new SpeedUpTrackerBehavior}() SpeedUpTrackerBehavior Source: lf2/items/behavior/SpeedUpTrackerBehavior.js, line 12 Extends lf2.CenterTrackerBehavior Members FA Gets the fa. Inherited From: lf2.CenterTrackerBehavior#FA Overrides: lf2.CenterTrackerBehavior#FA Source: lf2/items/behavior/CenterTrackerBehavior.js, line 127 Methods getTarget() Inherited From: lf2.CenterTrackerBehavior#getTarget Overrides: lf2.CenterTrackerBehavior#getTarget Source: lf2/items/behavior/CenterTrackerBehavior.js, line 104 Returns: Type lf2.GameItem getVelocity() Inherited From: lf2.CenterTrackerBehavior#getVelocity Overrides: lf2.CenterTrackerBehavior#getVelocity Source: lf2/items/behavior/CenterTrackerBehavior.js, line 54 Returns: Type Framework.Point3D toString() Convert this object into a string representation. Inherited From: lf2.CenterTrackerBehavior#toString Overrides: lf2.CenterTrackerBehavior#toString Source: lf2/items/behavior/CenterTrackerBehavior.js, line 136 Returns: An unknown that represents this object. update() Updates this object. Inherited From: lf2.CenterTrackerBehavior#update Overrides: lf2.CenterTrackerBehavior#update Source: lf2/items/behavior/CenterTrackerBehavior.js, line 40 Returns: . × Search results Close "},"%257Blf2.WorldScene%257D.html":{"id":"%257Blf2.WorldScene%257D.html","title":"Class: WorldScene}","body":" Documentation Namespaces Frameworklf2{Framework} Classes ~Audio.AudioFramework.AnimationSpriteFramework.GameObjectFramework.LevelFramework.PointFramework.Point3DFramework.SceneFramework.SpriteGameGameMapPoolGameObjectPoolKeyBoardManagerlf2.AbstractBehaviorlf2.Balllf2.BmpInfolf2.Bodylf2.Boundlf2.CenterTrackerBehaviorlf2.Characterlf2.CollisionSearchTreelf2.ColorBarlf2.Cubelf2.Effectlf2.Egglf2.FasterTrackerBehaviorlf2.FightLevellf2.FirzenDisasterFallDownBeginBehaviorlf2.FirzenDisasterFallDownBehaviorlf2.Framelf2.GameItemlf2.GameMaplf2.GameMapLayerlf2.GameObjectlf2.GameObjectBalllf2.GameObjectCharacterlf2.GameObjectWeaponlf2.HelpLevellf2.HorizontalTrackerBehaviorlf2.ImageInformationlf2.Interactionlf2.ItrKindlf2.JulianBallBeginBehaviorlf2.JulianBallTrackerBehaviorlf2.KeyboardConfiglf2.KeyEventPoollf2.LaunchMenulf2.LoadingLevellf2.MySettingLevellf2.ObjectPointlf2.Playerlf2.PlayerStatusPanellf2.Rectanglelf2.SelectionLevellf2.SpeedUpTrackerBehaviorlf2.Teamlf2.WeaponMouseManagerNodePrefetchTouchManager{Framework.Audio}{Framework.Config}{Framework.Point3D}{Framework.Point}{Framework.Scene}{lf2.BmpInfo}{lf2.CenterTrackerBehavior}{lf2.FasterTrackerBehavior}{lf2.FirzenDisasterFallDownBehavior}{lf2.Frame}{lf2.HorizontalTrackerBehavior}{lf2.JulianBallTrackerBehavior}{lf2.SpeedUpTrackerBehavior}{lf2.WorldScene} Events event:clickevent:keydownevent:keyupevent:mousedownevent:mousemoveevent:mouseupevent:touchmoveevent:touchstart Interfaces Framework.AttachableInterfaceFramework.KeyboardEventInterfaceFramework.MouseEventInterface Global bezierfloatvalintvalloadImageLoadScriptInSequence Class: WorldScene} WorldScene} new WorldScene}() World Scene Implements: Framework.AttachableInterface Source: lf2/game/scenes/WorldScene.js, line 27 Extends Framework.Scene Members attachArray :Array Type: Array Inherited From: Framework.Scene#attachArray Overrides: Framework.Scene#attachArray Source: Framework/Scene.js, line 31 Methods attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Inherited From: Framework.Scene#attach Overrides: Framework.Scene#attach Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Inherited From: Framework.Scene#detach Overrides: Framework.Scene#detach Source: Framework/Scene.js, line 135 Example detach(spriteInstance); draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Inherited From: Framework.Scene#draw Overrides: Framework.Scene#draw Implements: Framework.AttachableInterface#draw Source: Framework/Scene.js, line 77 Returns: . initTexture() Init texture. Inherited From: Framework.Scene#initTexture Overrides: Framework.Scene#initTexture Source: Framework/Scene.js, line 51 Returns: . load() Loads this object. Inherited From: Framework.Scene#load Overrides: Framework.Scene#load Implements: Framework.AttachableInterface#load Source: Framework/Scene.js, line 40 Returns: Type void toString() Convert this object into a string representation. Inherited From: Framework.Scene#toString Overrides: Framework.Scene#toString Source: Framework/Scene.js, line 150 Returns: . Type String update() Updates this object. Inherited From: Framework.Scene#update Overrides: Framework.Scene#update Implements: Framework.AttachableInterface#update Source: Framework/Scene.js, line 64 Returns: . Class: WorldScene} WorldScene} new WorldScene}() World Scene Implements: Framework.AttachableInterface Source: lf2/game/scenes/WorldScene.js, line 27 Extends Framework.Scene Members attachArray :Array Type: Array Inherited From: Framework.Scene#attachArray Overrides: Framework.Scene#attachArray Source: Framework/Scene.js, line 31 Methods attach(target) 將一個Object放進Scene中, 使其可以跟著連動 Parameters: Name Type Description target Framework.AttachableInterface 必須是具有update和draw的物件, 若不符合規定會throw exception Inherited From: Framework.Scene#attach Overrides: Framework.Scene#attach Source: Framework/Scene.js, line 102 Example var sprite = new Framework.Sprite('clock.jpg'), scene = new Framework.Scene(); sprite.position = { x: 100, y: 100 }; scene.position = { x: 100, y: 100 }; scene.attach(sprite); //如此則Sprite的絕對位置會是在(200, 200) detach(target) 將一個Object移開Scene中, 使其不再跟著連動 Parameters: Name Type Description target Object 已經被attach的物件 Inherited From: Framework.Scene#detach Overrides: Framework.Scene#detach Source: Framework/Scene.js, line 135 Example detach(spriteInstance); draw(painter) Draws the given painter. Parameters: Name Type Description painter CanvasRenderingContext2D The painter. Inherited From: Framework.Scene#draw Overrides: Framework.Scene#draw Implements: Framework.AttachableInterface#draw Source: Framework/Scene.js, line 77 Returns: . initTexture() Init texture. Inherited From: Framework.Scene#initTexture Overrides: Framework.Scene#initTexture Source: Framework/Scene.js, line 51 Returns: . load() Loads this object. Inherited From: Framework.Scene#load Overrides: Framework.Scene#load Implements: Framework.AttachableInterface#load Source: Framework/Scene.js, line 40 Returns: Type void toString() Convert this object into a string representation. Inherited From: Framework.Scene#toString Overrides: Framework.Scene#toString Source: Framework/Scene.js, line 150 Returns: . Type String update() Updates this object. Inherited From: Framework.Scene#update Overrides: Framework.Scene#update Implements: Framework.AttachableInterface#update Source: Framework/Scene.js, line 64 Returns: . × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
